<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>知止堂</title><link>https://comfluter.life/</link><description>Recent content on 知止堂</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Fri, 31 Dec 9999 00:00:00 +0000</lastBuildDate><atom:link href="https://comfluter.life/index.xml" rel="self" type="application/rss+xml"/><item><title>Welcome!</title><link>https://comfluter.life/p/welcome/</link><pubDate>Fri, 31 Dec 9999 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/welcome/</guid><description>&lt;img src="https://comfluter.life/p/welcome/cover.jpg" alt="Featured image of post Welcome!" />&lt;h2 id="序言">序言&lt;/h2>
&lt;p>在经历许许多多的学习、配置、折腾之后，终于在今天配置好了自己的个人博客。&lt;/p>
&lt;p>在朋友圈、微博盛行的当下，个人博客的风头已过，好像已经是上一个时代的产物了。那么究竟又是什么让我在建站的过程中即使遇到了层层困难，也坚定不移地搭起来这个博客呢？&lt;/p>
&lt;p>第一方面，感觉自己还是需要一个记录与对外表达的窗口。朋友圈等等社交网络固然可以，但是于我来讲似乎显得喧闹了些。我期待的表达，不是浮于表面的事件记录与短暂的情感宣泄。静下心来记录自己成长变化、各阶段真实想法与所思所得才是我我之所需。而这些想法，有时又期待能随时随地回顾，或是与志同道合之人分享。因此介于朋友圈、微博等社交平台与传统纸笔日记之间的个人博客似乎是个不错的选择。从半年前看到王凯师兄的博客便觉心动，到现在终于有了属于自己的一方空间。&lt;/p>
&lt;p>此外，也是最近在学习计算机网络的相关课程。从之前分不清HTTP、URL、TCP等等名词之间的关系的状态一步步地了解了网络的各个方面，而因为课程设计原因深感实践不足。云服务器的配置、连接、博客的搭建与部署、域名的申请与域名解析配置等等正好为动手实践课程内容提供了一个极佳的机会。在搭建服务器、部署博客的过程中也确实不断地将课本中抽象的知识落到实处。&lt;/p>
&lt;p>最后，可能也是最近受龄的影响，觉得自己不能再一天天想着GPA就惶惶不可终日。成天担心对成绩的影响而束手束脚，投入了过多不必要的时间在课业的细枝末节上，生怕漏掉一小点就会有多么大的影响。现在我觉得比较好的态度是：应该投入的时间，我保证投入。除此之外，偶然性是必然有的，考试中等等可能出现的意外情况、偏门的微末之处，实在无必要，也无意义为了它们投入大量的时间。投入了，也不能保证最后的结果。与其如此，正如闫锋老师说的，不如让自己真正做点实在的事出来，在实践中学习，在实践中收获，在主动地做事情的过程当中发挥自己心灵的能动性，让自己过得由己、恣肆、多彩一些。&lt;/p>
&lt;p>因此，也希望这个博客在记录我个人所思所想以外，能够带动我走出一天天为了成绩而焦虑的状态之中，真正地敢于放手去做自己喜欢的事，也才真正能做成自己喜欢的事。&lt;/p>
&lt;h2 id="建站小记">建站小记&lt;/h2>
&lt;ul>
&lt;li>21.11.05 购买腾讯云服务器、购买域名&lt;code>comfluter.life&lt;/code>，熟悉linux服务器操作与hugo工具基本使用&lt;/li>
&lt;li>21.11.13 在询问完王凯师兄hugo博客部署方法以后，学习hugo模板使用与博客搭建、github使用、github actions + 云服务器自动部署。但是卡在了最后一步Nginx服务器配置，使得服务器端页面一直显示404。&lt;/li>
&lt;li>21.11.15 由于Nginx服务器的问题，以及之前摸索阶段各种误操作，决定直接重置腾讯云服务器，将服务器端的功能重新搭建。完成服务器基本设置后激活root账户并配置ssh登录信息，重写了github pages，安装Nginx，以root账户运行，配置Nginx。&lt;/li>
&lt;li>21.11.19 由于使用主题时采用了&lt;code>git submodule&lt;/code>的方式，而github同步时不同步submodule导致各种错误，重新使用&lt;code>git clone&lt;/code>方式引入了主题，重新搭建了博客与github repo，并配置github actions。&lt;/li>
&lt;li>21.11.19 解决github actions css无法加载问题，使用&lt;code>git submodule&lt;/code>直接推送到github pages，但发现问题仍然存在。最终确定问题在baseURL上，改好后部署。&lt;/li>
&lt;li>21.11.19 写下这篇hello world文档。&lt;/li>
&lt;/ul>
&lt;p>动手去做一个项目确实是学习的高效方法。通过搭建博客，至少熟悉了以下内容：&lt;/p>
&lt;ol>
&lt;li>云服务器&lt;/li>
&lt;li>Linux命令行&lt;/li>
&lt;li>git命令行操作&lt;/li>
&lt;li>git submodule&lt;/li>
&lt;li>github全流程&lt;/li>
&lt;li>github pages&lt;/li>
&lt;li>github actions&lt;/li>
&lt;li>hugo使用&lt;/li>
&lt;li>域名配置与域名解析&lt;/li>
&lt;li>防火墙配置&lt;/li>
&lt;li>Nginx服务器搭建&lt;/li>
&lt;/ol>
&lt;p>其中许多是以前多次觉得应该去做，而没多久又半途而废的。放弃的理由大概是陷入极多的知识内容而毫无方向，也就失去了学习的意义，但为了一个目标去做，许多事情就顺理成章了。&lt;/p>
&lt;p>希望以后能以更多项目为依托，让自己不断学习、进步。&lt;/p></description></item><item><title>Linux基础</title><link>https://comfluter.life/p/linux%E5%9F%BA%E7%A1%80/</link><pubDate>Tue, 01 Mar 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/linux%E5%9F%BA%E7%A1%80/</guid><description>&lt;h2 id="文件内容添加">文件内容添加&lt;/h2></description></item><item><title>Python基础</title><link>https://comfluter.life/p/python%E5%9F%BA%E7%A1%80/</link><pubDate>Mon, 28 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/python%E5%9F%BA%E7%A1%80/</guid><description>&lt;h2 id="python流程控制">python流程控制&lt;/h2>
&lt;h3 id="python可迭代对象和迭代器对象">python可迭代对象和迭代器对象&lt;/h3>
&lt;p>iter()返回一个迭代器&lt;/p>
&lt;p>能够被迭代器迭代的对象就是可迭代对象&lt;/p>
&lt;h3 id="生成器对象">生成器对象&lt;/h3>
&lt;ul>
&lt;li>可以&lt;strong>惰性生成&lt;/strong>需要使用的元素，有利于大规模数据操作。用到时再生成&lt;/li>
&lt;li>使用生成器表达式生成：(i**2 for i in range(1,5))&lt;/li>
&lt;/ul></description></item><item><title>22 Spring 学期目标</title><link>https://comfluter.life/p/22-spring-%E5%AD%A6%E6%9C%9F%E7%9B%AE%E6%A0%87/</link><pubDate>Sat, 26 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/22-spring-%E5%AD%A6%E6%9C%9F%E7%9B%AE%E6%A0%87/</guid><description>&lt;h2 id="学期目标">学期目标&lt;/h2>
&lt;ol>
&lt;li>学习方面
&lt;ol>
&lt;li>保证专业内课程学习质量，确保申请要求的专业GPA，争取都取得92分以上的成绩&lt;/li>
&lt;li>保证在选课列表里的跨选课程，即离散数学、计算机系统基础的学习，争取都取得92分以上的成绩&lt;/li>
&lt;li>尽量全程跟上旁听课程，如人工智能程序设计、社会学概论、名师导学，并在此过程中真正开拓视野、学到技能。&lt;/li>
&lt;li>托福考试出分&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>工作方面
&lt;ol>
&lt;li>多参与南大本科招办全媒体中心的工作，并在此过程中体会如何融入一个集体，向身边的伙伴们学习组织人员共同完成一个目标的能力，也提升自己技术层面的摄影摄像、剪辑等等技能。&lt;/li>
&lt;li>保证空手道社活动的正常运行&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>科研方面
&lt;ol>
&lt;li>在大创和early-exit BERT项目中学习人工智能的模型搭建与使用，争取能在前者有专利申请，后者有论文发表&lt;/li>
&lt;li>hilbert项目稳步推进，学习芯片设计的相关知识&lt;/li>
&lt;li>视情况看是否需要去王肖沐老师那里做一做项目&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>生活方面
&lt;ol>
&lt;li>更好地平衡学习与生活，没有必要不计一切地把所有时间都投入到学习与工作中去。多尝试、体会生活的方方面面。&lt;/li>
&lt;li>坚持练习长笛，每周都应该练一练。&lt;/li>
&lt;li>学习欣赏的人并融入团体当中&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="安排理由">安排理由&lt;/h2>
&lt;p>总体上来讲，这学期的整体心态应该是放下过多的担忧和顾虑，勇敢地去多学习、多尝试、多参与。之前被各种担忧困住了手脚，心态也还没有从高考的失利中缓过来。结果是，做事一方面患得患失，不敢开始做，另一方面又自视甚高，不愿意去做，因此错过了很多机会。&lt;/p>
&lt;p>经过上个学期心态上激烈的转换，这学期应当打破这个状态了。上学期那么多时间并没有花在学习上，但是成绩并没有因此一落千丈。唯一能称得上惨烈的线性代数只取得了83分，也不是再投入多少时间进去便可有飞升的，因为能刷的题已经都刷了，复习到最后已几近无聊。因此，可以说，之前两耳不闻窗外事一心只读圣贤书的心态与策略是错误的，好成绩不是仅仅用这种虚假的好似全部时间埋头苦学的鸵鸟战术所能够达到的。&lt;/p>
&lt;p>现在我认为，一种积极的学习生活态度是开放地尝试各种事物，多参加各种活动，能动地安排自己的时间，而不是为了所谓的学习而把一切其他事情无限拖延。在各种活动中，达到能力的相互促进从而产生快速的提升。&lt;/p>
&lt;p>当然，这肯定不意味着放弃GPA、放弃学习，毕竟这是下一步的敲门砖，虽然很无奈但必须保证。只不过不再通过以前的鸵鸟战法保证了而已。新的心态应该是在学习的过程中专心去学，放开手去干，不要患得患失，非学习过程中就不要想着学习的事情了，所谓work hard, play hard.&lt;/p>
&lt;p>专业内的学习，高效完成，不要浪费过多时间。跨选的离散数学与计算机系统基础，重在理解思想，里面有大道所在。旁听的课程一是提升技能，二是培养自己成为一个有真正思想的人。&lt;/p>
&lt;p>科研的压力也在逐步加大，重点是到了应当有所产出的时候了，不能loads of activities but no actual achievements.&lt;/p>
&lt;p>工作方面，要承认自己需要向身边的人学习的还有很多，不能自视甚高。这学期决定加入全媒体中心，一是帮助完成自己接纳他人、欣赏他人的心态转换；二是通过这个平台认识许许多多优秀的同学；三是学习组织大众，完成目标的能力；四是让自己的摄影剪辑技能有施展指出不至于荒废。总之，是推着自己去actually do things，以此“下学而上达”，使自己的心态转变、能力提升有切实的着手之处。&lt;/p>
&lt;p>生活方面，对自己的兴趣要有所坚持，也不妨更加食人间烟火一些，不要成为书房里的书呆子。&lt;/p></description></item><item><title>PA1 数据的表示、类型、存取、运算</title><link>https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/</link><pubDate>Fri, 25 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/</guid><description>&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/1.jpg" alt="Featured image of post PA1 数据的表示、类型、存取、运算" />&lt;h2 id="pa1-1-数据的表示和存取">PA1-1 数据的表示和存取&lt;/h2>
&lt;p>计算机：用以处理信息的设备。故第一步要解决数据、信息如何存取、表示。&lt;/p>
&lt;p>PA1 典型数据存取&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 178;
flex-basis: 429px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/1.jpg" data-size="1568x876">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/1.jpg"
width="1568"
height="876"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/1_hub35021469f877368602ca584dc5f36db_238845_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/1_hub35021469f877368602ca584dc5f36db_238845_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="数据的类型及其机器级表示">数据的类型及其机器级表示&lt;/h3>
&lt;p>数据（真值）的类型：&lt;/p>
&lt;ul>
&lt;li>无符号整数&lt;/li>
&lt;li>带符号整数&lt;/li>
&lt;li>定点/浮点数&lt;/li>
&lt;li>非数值型：字母、操作码等&lt;/li>
&lt;/ul>
&lt;p>机器数：二进制位串&lt;/p>
&lt;p>编码过程：&lt;/p>
&lt;ul>
&lt;li>无符号整数：直接编码，直接做进制转换即可&lt;/li>
&lt;li>带符号整数：
&lt;ul>
&lt;li>原码：直接编码+符号位（正0负1）&lt;/li>
&lt;li>补码：&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="机器数的存取">机器数的存取&lt;/h3>
&lt;h4 id="机器数的定义">机器数的定义&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 239;
flex-basis: 573px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/2.jpg" data-size="1492x624">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/2.jpg"
width="1492"
height="624"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/2_hu148dcaea44c4fe1e511d2ceaad5b8251_230237_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/2_hu148dcaea44c4fe1e511d2ceaad5b8251_230237_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure
class="gallery-image"
style="
flex-grow: 176;
flex-basis: 423px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/3.png" data-size="1587x899">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/3.png"
width="1587"
height="899"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/3_hu5266e37ab01f61d4e183ececb8c26f78_357223_480x0_resize_box_3.png 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/3_hu5266e37ab01f61d4e183ececb8c26f78_357223_1024x0_resize_box_3.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>主存（RAM）：随机存取存储器&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 174;
flex-basis: 419px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/4.jpg" data-size="1572x899">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/4.jpg"
width="1572"
height="899"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/4_hu1458c5e7b2efffb74f6071d3a8a654d6_519027_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/4_hu1458c5e7b2efffb74f6071d3a8a654d6_519027_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>我们讲的大小以字节为单位&lt;/p>
&lt;p>i386中定义：word（字）：2字节，double word（long，双字）：4字节，32位&lt;/p>
&lt;p>i386：:3位机&lt;/p>
&lt;p>随机存取：以O(1)的时间读写任意位置的数据&lt;/p>
&lt;h4 id="大端方式和小端方式">大端方式和小端方式&lt;/h4>
&lt;p>问题：如果一个需要存取的数据超过了一个字节，怎么存：
例：0x 12 34 56 78&lt;/p>
&lt;p>小端方式：低有效&lt;strong>字节&lt;/strong>在低地址&lt;/p>
&lt;ul>
&lt;li>0x3 : 0x12&lt;/li>
&lt;li>0x2 : 0x34&lt;/li>
&lt;li>0x1 : 0x56&lt;/li>
&lt;li>0x0 : 0x78&lt;/li>
&lt;/ul>
&lt;p>大端方式：低有效&lt;strong>字节&lt;/strong>在高地址&lt;/p>
&lt;h3 id="对于存储器的模拟">对于存储器的模拟&lt;/h3>
&lt;p>如何使用C语言模拟？&lt;/p>
&lt;p>使用字节类型的数组进行模拟&lt;/p>
&lt;h4 id="主存">主存&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 177;
flex-basis: 426px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/5.jpg" data-size="1578x887">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/5.jpg"
width="1578"
height="887"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/5_hu7e09b892bdb17bed3e550a613bbfb39f_447208_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/5_hu7e09b892bdb17bed3e550a613bbfb39f_447208_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>内存访问接口：
&lt;figure
class="gallery-image"
style="
flex-grow: 160;
flex-basis: 385px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/6.jpg" data-size="1614x1004">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/6.jpg"
width="1614"
height="1004"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/6_hud31ce290970dd4ec89f52534fb243861_607133_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/6_hud31ce290970dd4ec89f52534fb243861_607133_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>理解&lt;/strong>主存的模拟方式&lt;/p>
&lt;h4 id="通用寄存器">通用寄存器&lt;/h4>
&lt;p>CPU内部的通用寄存器&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 180;
flex-basis: 432px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/7.jpg" data-size="1575x875">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/7.jpg"
width="1575"
height="875"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/7_hu153e56dd46d9cfb199a1f1e6d722a019_461973_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/7_hu153e56dd46d9cfb199a1f1e6d722a019_461973_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>寄存器最长：32位&lt;/p>
&lt;p>整个A寄存器：EAX，低16位部分：AX，AX中的高8位：AH，低8位：AL。&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 175;
flex-basis: 421px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/8.jpg" data-size="1584x902">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/8.jpg"
width="1584"
height="902"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/8_hu15c9c95bcbcf4bee7fc2cc237ce12bc1_694400_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/8_hu15c9c95bcbcf4bee7fc2cc237ce12bc1_694400_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="CPU以及通用寄存器在NEMU中的定义">
&lt;/a>
&lt;figcaption>CPU以及通用寄存器在NEMU中的定义&lt;/figcaption>
&lt;/figure>
&lt;figure
class="gallery-image"
style="
flex-grow: 160;
flex-basis: 385px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/9.jpg" data-size="1602x998">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/9.jpg"
width="1602"
height="998"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/9_huee9658890151dba887017e90fa846bb6_567796_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/9_huee9658890151dba887017e90fa846bb6_567796_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="通用寄存器访问示例">
&lt;/a>
&lt;figcaption>通用寄存器访问示例&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>make test_pa-1测试是否通过&lt;/p>
&lt;h2 id="pa1-2-整数的表示与运算">PA1-2 整数的表示与运算&lt;/h2>
&lt;h3 id="整数的表示">整数的表示&lt;/h3>
&lt;ul>
&lt;li>无符号整数：
&lt;ul>
&lt;li>关注最大位数以及最大表示区间&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>带符号整数：
&lt;ul>
&lt;li>常用补码表示法
&lt;ul>
&lt;li>优点：0表示唯一，可以用加法表示减法（模运算系统）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="整数的运算">整数的运算&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 172;
flex-basis: 414px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/10.jpg" data-size="1575x911">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/10.jpg"
width="1575"
height="911"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/10_hu8bb0a2fd8c806b5fcc101fd04ddd4cf5_702887_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/10_hu8bb0a2fd8c806b5fcc101fd04ddd4cf5_702887_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="ALU结构">
&lt;/a>
&lt;figcaption>ALU结构&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>模拟ALU支持功能：&lt;/p>
&lt;ul>
&lt;li>算数运算：加减乘除、移位&lt;/li>
&lt;li>逻辑运算：与或非&lt;/li>
&lt;/ul>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 181;
flex-basis: 435px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/11.jpg" data-size="1614x890">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/11.jpg"
width="1614"
height="890"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/11_hu489a37cc083e2cf96c1e01244abd736d_695068_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/11_hu489a37cc083e2cf96c1e01244abd736d_695068_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>
c语言中的无符号类型表达的是机器数的意思&lt;/p>
&lt;p>注意根据操作数长度确定无效位数长度，并在&lt;strong>输出时进行高位清零&lt;/strong>&lt;/p>
&lt;p>相加后还要操作相应flag&lt;/p>
&lt;p>CF：无符号int的加减法，看是否需要进位或借位
OF：当做补码表示，看是否溢出&lt;/p>
&lt;p>两者不同示例：
&lt;figure
class="gallery-image"
style="
flex-grow: 198;
flex-basis: 475px"
>
&lt;a href="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/12.jpg" data-size="1544x779">
&lt;img src="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/12.jpg"
width="1544"
height="779"
srcset="https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/12_hu3048ad1983812a279c5579e8a21d829f_549833_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/pa1-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%8F%96%E8%BF%90%E7%AE%97/pics/12_hu3048ad1983812a279c5579e8a21d829f_549833_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>AF不模拟&lt;/p>
&lt;p>看好sign_ext和sign函数的具体定义&lt;/p>
&lt;p>sign_ext在后续会频繁使用&lt;/p></description></item><item><title>外国人眼中的中华文明</title><link>https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/</link><pubDate>Tue, 22 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/</guid><description>&lt;h2 id="参考书籍">参考书籍&lt;/h2>
&lt;p>《吾国与吾名》 胡阿祥
介绍国号、名号、域外称谓。&lt;/p>
&lt;h2 id="课程介绍">课程介绍&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 136;
flex-basis: 328px"
>
&lt;a href="https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/1.jpg" data-size="942x688">
&lt;img src="https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/1.jpg"
width="942"
height="688"
srcset="https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/1_hu17ee2dc853a681e83ed2a8065a404f4f_122855_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/1_hu17ee2dc853a681e83ed2a8065a404f4f_122855_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure
class="gallery-image"
style="
flex-grow: 138;
flex-basis: 332px"
>
&lt;a href="https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/2.jpg" data-size="926x668">
&lt;img src="https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/2.jpg"
width="926"
height="668"
srcset="https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/2_hu27a8544d782a0d11a233a7c23180a5af_161256_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%A4%96%E5%9B%BD%E4%BA%BA%E7%9C%BC%E4%B8%AD%E7%9A%84%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/2_hu27a8544d782a0d11a233a7c23180a5af_161256_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="第一讲-外国人眼中的中华文明">第一讲 外国人眼中的中华文明&lt;/h2>
&lt;p>外国人称中国，常用别名。而起别名，就要抓特征，抓特征，就要有了解。&lt;/p>
&lt;h3 id="china">China？&lt;/h3>
&lt;p>瓷器-中国？&lt;/p>
&lt;p>某种程度上反映了历史的真实。中国瓷器出现时代最早，且数量最多，古代瓷器品质最好。&lt;/p>
&lt;p>这样的普遍说法，是错误的。错误在于颠倒了作为国家的China与小写的china的因果关系。瓷器本来称作porcelain of China，后称chinaware作为中国瓷器的专用词，后ware在演变中被省略，china本身也可以代表“中国瓷器”，后china由专有名词变为瓷器的通用名词。&lt;/p></description></item><item><title>ConvLab-2 Toolkit</title><link>https://comfluter.life/p/convlab-2-toolkit/</link><pubDate>Tue, 08 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/convlab-2-toolkit/</guid><description>&lt;h2 id="download-toolkit">Download toolkit&lt;/h2>
&lt;p>&lt;code>git clone https://github.com/mozilla/TTS.git&lt;/code>&lt;/p>
&lt;h2 id="install-and-config-env">Install and config env&lt;/h2>
&lt;ul>
&lt;li>&lt;code>conda create -n convlab2 python=3.6.2&lt;/code>&lt;/li>
&lt;li>&lt;code>cd ConvLab-2&lt;/code>&lt;/li>
&lt;li>install cpu version of pytorch (run on personal computer)&lt;code>conda install pytorch==1.5.1 torchvision==0.6.1 cpuonly -c pytorch&lt;/code>
&lt;ul>
&lt;li>otherwise, auto installation cannot find package version.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>pip install -e .&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Early-Exit BERT 组会记录</title><link>https://comfluter.life/p/early-exit-bert-%E7%BB%84%E4%BC%9A%E8%AE%B0%E5%BD%95/</link><pubDate>Tue, 08 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/early-exit-bert-%E7%BB%84%E4%BC%9A%E8%AE%B0%E5%BD%95/</guid><description>&lt;h2 id="20220207-组会">2022.02.07 组会&lt;/h2>
&lt;p>简单讨论了一下我对于Early-Exit BERT的理解，解答了一些问题，确定了下一步代码层面的工作内容。&lt;/p>
&lt;p>2月7日和刘时宜讨论：early-exit&lt;/p>
&lt;p>周晨晨意见：把FSA的各个模型，让刘时宜学弟先尝试用early-exit加速某一个，然后推广到其他模型；在服务器上，新建一个目录开始尝试。&lt;/p>
&lt;p>周晨晨问题：Huggingface-Transformer版本问题；&lt;/p>
&lt;p>谢克力意见：先简单复现FastBERT的开源代码，再类比，把early-eixt的方法推广；&lt;/p>
&lt;p>刘时宜的工作顺序：&lt;/p>
&lt;ol>
&lt;li>简单复现FastBERT的开源代码，深入了解一下early-exit的具体操作，可能还包含了蒸馏的操作&lt;/li>
&lt;li>复现完成之后，我们再看如何推广到我们现有的FSA模型上。&lt;/li>
&lt;/ol>
&lt;p>周晨晨的工作顺序：&lt;/p>
&lt;p>先尝试一下能否在distillBERT上做early-exit。&lt;/p></description></item><item><title>FastBERT</title><link>https://comfluter.life/p/fastbert/</link><pubDate>Tue, 08 Feb 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/fastbert/</guid><description>&lt;h2 id="install-on-surface-pro-7">Install on Surface Pro 7&lt;/h2>
&lt;h3 id="download-and-config-fastbert">Download and config FastBERT&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/autoliuweijie/FastBERT" target="_blank" rel="noopener"
>FastBERT git rep&lt;/a>&lt;/p>
&lt;ol>
&lt;li>git clone &lt;a class="link" href="https://github.com/autoliuweijie/FastBERT.git" target="_blank" rel="noopener"
>https://github.com/autoliuweijie/FastBERT.git&lt;/a>&lt;/li>
&lt;li>conda create -n fastbert python=3.8.2&lt;/li>
&lt;li>conda activate fastbert&lt;/li>
&lt;li>cd .\FastBERT\&lt;/li>
&lt;li>conda install pytorch==1.5.1 torchvision==0.6.1 cpuonly -c pytorch&lt;/li>
&lt;li>pip install -r requirements.txt&lt;/li>
&lt;/ol>
&lt;h3 id="quick-start-on-the-chinese-book-review-dataset">Quick start on the Chinese Book review dataset&lt;/h3>
&lt;ul>
&lt;li>Download the pre-trained Chinese BERT parameters from &lt;a class="link" href="https://share.weiyun.com/gHkb3N6L" target="_blank" rel="noopener"
>here&lt;/a>, and save it to the models directory with the name of &amp;ldquo;Chinese_base_model.bin&amp;rdquo;.&lt;/li>
&lt;/ul>
&lt;h2 id="install-on-server-with-cuda">Install on server with CUDA&lt;/h2>
&lt;ol>
&lt;li>git clone &lt;a class="link" href="https://github.com/autoliuweijie/FastBERT.git" target="_blank" rel="noopener"
>https://github.com/autoliuweijie/FastBERT.git&lt;/a>&lt;/li>
&lt;li>conda create -n fastbert_lsy python=3.8.2&lt;/li>
&lt;li>conda activate fastbert_lsy&lt;/li>
&lt;li>cd .\FastBERT\&lt;/li>
&lt;li>pip install -r requirements.txt&lt;/li>
&lt;/ol>
&lt;h2 id="learning-fastbert-code">Learning fastBERT code&lt;/h2>
&lt;h3 id="workflow">Workflow&lt;/h3>
&lt;ol>
&lt;li>load hyperparameter&lt;/li>
&lt;li>count the number of labels in training set&lt;/li>
&lt;li>load vocabulary&lt;/li>
&lt;li>build BERT model&lt;/li>
&lt;li>load or init model parameters&lt;/li>
&lt;li>build classification model &amp;hellip; ?&lt;/li>
&lt;li>read dataset&lt;/li>
&lt;li>training
&lt;ol>
&lt;li>train main part of the model(iterate)
&lt;ol>
&lt;li>&lt;code>model.train()&lt;/code>&lt;/li>
&lt;li>calculate loss of the model&lt;/li>
&lt;li>evaluate model performance&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Config Raspi after Reinstallation</title><link>https://comfluter.life/p/config-raspi-after-reinstallation/</link><pubDate>Sat, 29 Jan 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/config-raspi-after-reinstallation/</guid><description>&lt;h2 id="download-system-and-write-disk">Download system and write disk&lt;/h2>
&lt;p>&lt;a class="link" href="https://downloads.raspberrypi.org/raspios_arm64/images/" target="_blank" rel="noopener"
>64-bit Raspi images&lt;/a>
&lt;a class="link" href="https://downloads.raspberrypi.org/raspios_full_arm64/images/" target="_blank" rel="noopener"
>64-bit Full Raspi images&lt;/a>&lt;/p>
&lt;h2 id="enable-ssh">Enable SSH&lt;/h2>
&lt;p>create empty file named &lt;code>ssh&lt;/code> under the disk named &lt;code>boot&lt;/code>&lt;/p>
&lt;h2 id="connecting-wifi-for-the-1st-time">Connecting wifi for the 1st time&lt;/h2>
&lt;p>create &lt;code>wpa_supplicant.conf&lt;/code> under disk named &lt;code>boot&lt;/code>, write followings:&lt;/p>
&lt;pre tabindex="0">&lt;code>country=CN
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={
ssid=&amp;quot;&amp;lt;wifi name&amp;gt;&amp;quot;
psk=&amp;quot;&amp;lt;wifi passwd&amp;gt;&amp;quot;
key_mgmt=WPA-PSK
}
&lt;/code>&lt;/pre>&lt;p>then, plug the SD card to pi and start the pi. You should be able to connect to Pi using SSH.&lt;/p>
&lt;p>init name: &lt;code>pi&lt;/code>, init passwd: &lt;code>raspberry&lt;/code>&lt;/p>
&lt;h2 id="change-password-and-enable-root">Change Password and enable root&lt;/h2>
&lt;p>change passwd:
&lt;code>sudo passwd pi&lt;/code>&lt;/p>
&lt;p>&lt;code>sudo passwd root&lt;/code>&lt;/p>
&lt;p>enable root login:
&lt;code>sudo passwd --unlock root&lt;/code>&lt;/p>
&lt;h2 id="open-vnc-to-enable-remote-desktop">Open VNC to enable Remote desktop&lt;/h2>
&lt;p>&lt;code>sudo raspi-config&lt;/code>&lt;/p>
&lt;p>Interfacing Options →→ VNC →→ YES&lt;/p>
&lt;p>&lt;strong>Notice&lt;/strong>: You should do this before switch package source.&lt;/p>
&lt;p>reboot after installation.&lt;/p>
&lt;h2 id="change-apt-package-source">Change Apt package source&lt;/h2>
&lt;p>&lt;a class="link" href="https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%9B%B4%E6%8D%A2%E9%95%9C%E5%83%8F%E6%BA%90/" target="_blank" rel="noopener"
>ref&lt;/a>&lt;/p>
&lt;h2 id="enable-remote-root-login">Enable remote root login&lt;/h2>
&lt;p>&lt;code>sudo nano /etc/ssh/sshd_config&lt;/code>&lt;/p>
&lt;p>change &lt;code>#PermitRootLogin prohibit-password&lt;/code> to &lt;code>PermitRootLogin yes&lt;/code>&lt;/p>
&lt;h3 id="software-installation">Software Installation&lt;/h3>
&lt;h2 id="install-miniconda">Install miniconda&lt;/h2>
&lt;p>&lt;code>wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-py37_4.9.2-Linux-aarch64.sh&lt;/code>&lt;/p>
&lt;pre tabindex="0">&lt;code>sudo chmod +x Miniconda3-py37_4.9.2-Linux-aarch64.sh
sh Miniconda3-py37_4.9.2-Linux-aarch64.sh
&lt;/code>&lt;/pre>&lt;p>After installation, add miniconda&amp;rsquo;s installation path to .bashrc:
&lt;code>sudo gedit ~/.bashrc&lt;/code>&lt;/p>
&lt;p>write this into .bashrc:
&lt;code>export PATH=$PATH:/home/pi/miniconda3/bin&lt;/code>,path should be modified accordingly.&lt;/p>
&lt;h2 id="install-vscode">Install VScode&lt;/h2>
&lt;p>&lt;code>sudo apt install code&lt;/code>&lt;/p></description></item><item><title>Offline TTS</title><link>https://comfluter.life/p/offline-tts/</link><pubDate>Sat, 29 Jan 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/offline-tts/</guid><description>&lt;h2 id="tts-by-mozilla">TTS by Mozilla&lt;/h2>
&lt;p>Using open source code &lt;code>https://github.com/mozilla/TTS.git&lt;/code>&lt;/p>
&lt;h3 id="direct-installation">Direct Installation&lt;/h3>
&lt;p>TTS supports python &amp;gt;= 3.6, &amp;lt;3.9.&lt;/p>
&lt;p>If you are only interested in synthesizing speech with the released TTS models, installing from PyPI is the easiest option.&lt;/p>
&lt;p>&lt;code>pip install TTS&lt;/code>&lt;/p>
&lt;p>If you plan to code or train models, clone TTS and install it locally.&lt;/p>
&lt;pre tabindex="0">&lt;code>git clone https://github.com/mozilla/TTS
pip install -e .
&lt;/code>&lt;/pre>&lt;h3 id="custom-installation">Custom installation&lt;/h3>
&lt;p>However, the version is lower in github than in Pypl, losing many models and features. Therefore, we need to download the package from Pypl, extract manually to local path, and install using extracted files so that modified code will be carried later.&lt;/p>
&lt;h4 id="pip-download-without-installation">Pip download without installation&lt;/h4>
&lt;p>Create a new &lt;code>requirement.exe&lt;/code> file, fill in all packages that needs to be downloaded: &lt;code>tts&lt;/code>&lt;/p>
&lt;p>in the same dir, use command &lt;code>pip download -d &amp;lt;dir to save downloaded files&amp;gt; -r requirement.txt&lt;/code>&lt;/p>
&lt;h4 id="installation">Installation&lt;/h4>
&lt;p>extract &lt;code>TTS-0.5.0.tar.gz&lt;/code>, use command &lt;code>pip install -e .&lt;/code> in the extracted dir to install TTS.&lt;/p>
&lt;h3 id="config-tts">Config TTS&lt;/h3>
&lt;ul>
&lt;li>change &lt;code>max_decoder_steps&lt;/code> in &lt;code>.\tts\configs\tacotron_config.py&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="install-on-raspi">Install on Raspi&lt;/h3>
&lt;p>&lt;a class="link" href="https://levelup.gitconnected.com/installing-mozilla-tts-on-a-raspberry-pi-4-e6af16boto3459ab9" target="_blank" rel="noopener"
>Reference&lt;/a>&lt;/p>
&lt;h2 id="transformertts">TransformerTTS&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/as-ideas/TransformerTTS" target="_blank" rel="noopener"
>repo link&lt;/a>&lt;/p>
&lt;h3 id="installation-1">Installation&lt;/h3>
&lt;ul>
&lt;li>&lt;code>conda create -n tts python=3.7.10&lt;/code>&lt;/li>
&lt;li>&lt;code>conda activate tts&lt;/code>&lt;/li>
&lt;li>&lt;code>cd &amp;lt;path to install&amp;gt;&lt;/code>&lt;/li>
&lt;li>git clone &amp;hellip;&lt;/li>
&lt;/ul></description></item><item><title>树莓派更换镜像源</title><link>https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%9B%B4%E6%8D%A2%E9%95%9C%E5%83%8F%E6%BA%90/</link><pubDate>Sat, 29 Jan 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%9B%B4%E6%8D%A2%E9%95%9C%E5%83%8F%E6%BA%90/</guid><description>&lt;p>更换为清华镜像源，参考&lt;a class="link" href="https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/" target="_blank" rel="noopener"
>清华Raspbian 镜像使用帮助&lt;/a>&lt;/p>
&lt;p>对于&lt;code>Debian 11 (bullseye)&lt;/code>:&lt;/p>
&lt;pre tabindex="0">&lt;code># 编辑 `/etc/apt/sources.list` 文件，删除原文件所有内容，用以下内容取代：
deb [arch=armhf] http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ bullseye main non-free contrib rpi
deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ bullseye main non-free contrib rpi
# 如果需要 arm64 软件源，在 `/etc/apt/sources.list` 中加上
deb [arch=arm64] http://mirrors.tuna.tsinghua.edu.cn/raspbian/multiarch/ bullseye main
# 编辑 `/etc/apt/sources.list.d/raspi.list` 文件，删除原文件所有内容，用以下内容取代：
deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ bullseye main
&lt;/code>&lt;/pre>&lt;p>保存后运行&lt;code>sudo apt-get update&lt;/code>&lt;/p>
&lt;p>运行后出现&lt;/p>
&lt;pre tabindex="0">&lt;code>W: GPG error: http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian bullseye InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 9165938D90FDDD2E
&lt;/code>&lt;/pre>&lt;p>需要手动添加公钥：&lt;code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys &amp;lt;PUBKEY&amp;gt;&lt;/code>&lt;/p>
&lt;p>添加所有公钥，提示成功后即可运行&lt;code>sudo apt-get update&lt;/code>换源。&lt;/p></description></item><item><title>Configuring FTP server on raspberry</title><link>https://comfluter.life/p/configuring-ftp-server-on-raspberry/</link><pubDate>Thu, 06 Jan 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/configuring-ftp-server-on-raspberry/</guid><description>&lt;h2 id="install-vsftpd">Install vsftpd&lt;/h2>
&lt;p>on raspberry:&lt;/p>
&lt;ul>
&lt;li>&lt;code>sudo apt-get install vsftpd&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="config-vsftpd">Config vsftpd&lt;/h2>
&lt;p>&lt;code>sudo nano /etc/vsftpd.conf&lt;/code>&lt;/p>
&lt;p>Simplest config:&lt;/p>
&lt;pre tabindex="0">&lt;code>anonymous_enable=NO 匿名帐号
local_enable=YES 本地帐号
write_enable=YES 允许使用任何可以修改文件系统的FTP的指令
local_umask=022 屏蔽权限即本地用户上传的文件权限
anon_upload_enable=NO 允许匿名用户上传文件
anon_mkdir_write_enable=NO 允许匿名用户创建新目录
dirmessage_enable=YES 允许为目录配置显示信息
ascii_upload_enable=YES 管控是否可用ASCII 模式上传
ascii_download_enable=YES 管控是否可用ASCII 模式下载
&lt;/code>&lt;/pre>&lt;p>others:&lt;/p>
&lt;pre tabindex="0">&lt;code>anonymous_enable=YES 是否允许匿名帐号
local_enable=YES 是否允许本地帐号
write_enable=YES 是否允许使用任何可以修改文件系统的FTP的指令
local_umask=022 本用户的文件掩码
anon_upload_enable=YES是否允许匿名用户上传文件
anon_mkdir_write_enable=YES是否允许匿名用户创建新目录
dirmessage_enable=YES 是否显示欢迎信息
xferlog_enable=YES 开启日记功能
connect_from_port_20=YES 设定ftp服务数据端口
chown_uploads=YES是否允许修改上传文件的属主
chown_username=whoever如果允许，输入该属主的用户名
xferlog_file=/var/log/xferlog日志文件位置
xferlog_std_format=YES 使用标准的日志格式
idle_session_timeout=600空闲连接超时
data_connection_timeout=120数据传输超时
nopriv_user=ftpsecure当服务器运行于最底层时使用的用户名
async_abor_enable=YES是否允许使用\&amp;quot;async ABOR\&amp;quot;命令,一般不用,容易出问题
ascii_upload_enable=YES是否可用ASCII 模式上传。默认值为NO
ascii_download_enable=YES是否可用ASCII 模式下载。默认值为NO
ftpd_banner=Welcome to blah FTP service login时显示欢迎信息
deny_email_enable=YES如果匿名用户需要密码,那么使用banned_email_file里面的电子邮件地址的用户不能登录
banned_email_file=/etc/vsftpd/banned_emails禁止使用匿名用户登陆时作为密码的电子邮件地址
chroot_list_enable=YES如果启动这项功能，则所有列在chroot_list_file中的使用者不能更改根目录
chroot_list_file=/etc/vsftpd/chroot_list定义不能更改用户主目录的文件
userlist_enable=YES 若启用此选项,userlist_deny选项才被启动
&lt;/code>&lt;/pre>&lt;p>unfinished.&lt;/p>
&lt;p>configuration failed&lt;/p></description></item><item><title>Configuring rclone in Windows</title><link>https://comfluter.life/p/configuring-rclone-in-windows/</link><pubDate>Thu, 06 Jan 2022 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/configuring-rclone-in-windows/</guid><description>&lt;h2 id="install-rclone">Install Rclone&lt;/h2>
&lt;p>&lt;a class="link" href="https://rclone.org/downloads/" target="_blank" rel="noopener"
>rclone download link&lt;/a>&lt;/p>
&lt;p>rclone relies on winfsp to work&lt;/p>
&lt;p>&lt;a class="link" href="http://www.secfs.net/winfsp/rel/" target="_blank" rel="noopener"
>winfsp download link&lt;/a>&lt;/p>
&lt;ul>
&lt;li>install winfsp&lt;/li>
&lt;li>unzip downloaded rclone files&lt;/li>
&lt;li>config path: add the path where &lt;code>rclone.exe&lt;/code> is in.&lt;/li>
&lt;li>check rclone config state:&lt;code>rclone --version&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="config-rclone-drives">Config rclone drives&lt;/h2>
&lt;p>git bash is recommended for mounting drives&lt;/p>
&lt;h3 id="add-a-remote">Add a remote&lt;/h3>
&lt;p>&lt;code>rclone config&lt;/code> and follow the interactive config process&lt;/p>
&lt;h3 id="mount-remote-as-a-disk">Mount remote as a disk&lt;/h3>
&lt;p>&lt;code>rclone mount Pi:/ Q: --cache-dir &amp;quot;C:\Users\liush\Documents\rclone_cache&amp;quot; --vfs-cache-mode writes&lt;/code>&lt;/p></description></item><item><title>树莓派挂载onedrive</title><link>https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%8C%82%E8%BD%BDonedrive/</link><pubDate>Tue, 28 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%8C%82%E8%BD%BDonedrive/</guid><description>&lt;h2 id="steps">Steps:&lt;/h2>
&lt;ol>
&lt;li>install rclone: &lt;code>sudo apt install rclone&lt;/code>&lt;/li>
&lt;li>authorize onedrive: &lt;code>rclone authorize &amp;quot;onedrive&amp;quot;&lt;/code>
&lt;ol>
&lt;li>log into onedrive in the prompted page. access token will be generated.&lt;/li>
&lt;li>copy and remember access token.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>config rclone clients: &lt;code>rclone config&lt;/code> this will leads to an interactive configuration process&lt;/li>
&lt;li>check config: &lt;code>rclone config show&lt;/code>&lt;/li>
&lt;li>mount to local dir: &lt;code>rclone mount &amp;lt;remote name&amp;gt;: &amp;lt;local dir&amp;gt;&lt;/code>&lt;/li>
&lt;/ol></description></item><item><title>数通网络发展史</title><link>https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/</link><pubDate>Thu, 23 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/</guid><description>&lt;h2 id="发展概况">发展概况：&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/1.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/1.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/1_hu297edbe68109a106bd6a7b79049954f9_136515_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/1_hu297edbe68109a106bd6a7b79049954f9_136515_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>昨日：沟通你我&lt;/p>
&lt;p>今日：万物互联&lt;/p>
&lt;p>明日：产业数字经济底座&lt;/p>
&lt;p>3个发展阶段：&lt;/p>
&lt;ol>
&lt;li>IPv4+以太网：无连接、共享带宽、尽力而为的&lt;/li>
&lt;li>IP/MPLS：面向连接的、业务见隔离的流量工程&lt;/li>
&lt;li>IPv6/IPv6+：与业务有机融合，对网络服务进行可编程控制&lt;/li>
&lt;/ol>
&lt;h3 id="ip网络发展中的重大技术发明">IP网络发展中的重大技术发明：&lt;/h3>
&lt;ol>
&lt;li>以太网&lt;/li>
&lt;li>IP/TCP&lt;/li>
&lt;/ol>
&lt;h3 id="数据通信厂家沉浮">数据通信厂家沉浮：&lt;/h3>
&lt;p>华为+思科&lt;/p>
&lt;h2 id="ip10时代从计算机互联到internet">IP1.0时代：从计算机互联到internet&lt;/h2>
&lt;ol>
&lt;li>计算机网络诞生&lt;/li>
&lt;li>计算机网络形成&lt;/li>
&lt;li>Internet形成&lt;/li>
&lt;/ol>
&lt;p>军事科研到商用，消息类型不断增多&lt;/p>
&lt;h3 id="第一阶段">第一阶段：&lt;/h3>
&lt;p>50年代：中心化的计算机网络，主机与所有计算机连接，位于网络中心&lt;/p>
&lt;p>60年代：以分组交换网为中心的无中心节点交换网&lt;/p>
&lt;p>1969年11月：ARPAnet，4节点分组交换网。&lt;/p>
&lt;ul>
&lt;li>指导思想：网络中某一部分受到攻击时网络仍然畅通&lt;/li>
&lt;/ul>
&lt;h3 id="第二阶段形成计算机网络">第二阶段：形成计算机网络&lt;/h3>
&lt;p>1975年，100+主机，正式运行&lt;/p>
&lt;p>1974年开始研究TCP/IP协议，80年前后转向TCP/ip&lt;/p>
&lt;p>1971年发明电子邮件、74年bbs&lt;/p>
&lt;h4 id="建立了互联网模型tcpip协议栈">建立了互联网模型：TCP/IP协议栈&lt;/h4>
&lt;p>5层结构、IP统一异质网络&lt;/p>
&lt;p>端节点：5层封装/解封装&lt;/p>
&lt;h3 id="第三阶段突破科研网internet开始形成90年代">第三阶段：突破科研网，Internet开始形成（90年代）&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/stage3.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/stage3.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/stage3_huc80dda1567d18866b93e9a9cf3af4c39_118710_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/stage3_huc80dda1567d18866b93e9a9cf3af4c39_118710_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="internet在中国">Internet在中国&lt;/h4>
&lt;p>&lt;figure
>
&lt;a href="https://comfluter.life/internet_in_china.jpg" >
&lt;img src="https://comfluter.life/internet_in_china.jpg"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="建网原则">建网原则&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_principle.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_principle.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_principle_hufa915adc4f9aa4dc63da6d1501a9a4f2_100705_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_principle_hufa915adc4f9aa4dc63da6d1501a9a4f2_100705_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>与公路网建设十分相像&lt;/p>
&lt;h4 id="期间的技术">期间的技术：&lt;/h4>
&lt;p>提出了互联互通寻址方法&lt;/p>
&lt;p>提出了全套互联互通协议&lt;/p>
&lt;ul>
&lt;li>IGP&lt;/li>
&lt;li>EGP&lt;/li>
&lt;/ul>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_techs.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_techs.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_techs_hu13fa01ad1e4e14a52bf63588c4ef0fdf_115488_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_techs_hu13fa01ad1e4e14a52bf63588c4ef0fdf_115488_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="ip20-ip网络的电信化">IP2.0 IP网络的电信化&lt;/h2>
&lt;ol>
&lt;li>互联网本身的规模、性能飞速发展&lt;/li>
&lt;li>电信运营商尝试将语音、专线等电信业务应用到internet上&lt;/li>
&lt;/ol>
&lt;h3 id="互联网本身继续快速发展">互联网本身继续快速发展&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_dev.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_dev.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_dev_hu931eacd0ed5e22598f926d09e2a60661_99118_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_dev_hu931eacd0ed5e22598f926d09e2a60661_99118_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="电信业务迁移到ip网上">电信业务迁移到IP网上&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet&amp;#43;ip.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet&amp;#43;ip.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet&amp;#43;ip_hu4e9e028ab0210b1e0397a046b8ae8bc2_91086_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet&amp;#43;ip_hu4e9e028ab0210b1e0397a046b8ae8bc2_91086_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>驱动力：成本低，一网解决全部不同类型的通信需求&lt;/p>
&lt;h3 id="挑战">挑战：&lt;/h3>
&lt;ul>
&lt;li>时延&lt;/li>
&lt;li>带宽&lt;/li>
&lt;li>丢包率&lt;/li>
&lt;li>可靠性：网络异常恢复时间&amp;lt;50ms&lt;/li>
&lt;/ul>
&lt;h3 id="传统ip难以承载电信级别业务流量模型存在缺陷">传统IP难以承载电信级别业务：流量模型存在缺陷&lt;/h3>
&lt;p>最短路径流量办法无法保证不拥塞，共享网络的性质更无法保证服务质量。&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_model_defect.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_model_defect.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_model_defect_hu6b154e395b9d0ee7dcfe8d15ca955a7a_122323_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/internet_model_defect_hu6b154e395b9d0ee7dcfe8d15ca955a7a_122323_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>电信网：独占线路
&lt;figure
class="gallery-image"
style="
flex-grow: 219;
flex-basis: 527px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ATMnet.jpg" data-size="1920x873">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ATMnet.jpg"
width="1920"
height="873"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ATMnet_hu9a5ac61d055db65a682dd67807f5f4be_90848_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ATMnet_hu9a5ac61d055db65a682dd67807f5f4be_90848_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="mpls">MPLS&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS_hu2447712d4df2072f6a053cc632399b1f_140605_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS_hu2447712d4df2072f6a053cc632399b1f_140605_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>在2.5层加入标签，沿途按照标签进行转发。&lt;/p>
&lt;p>转发时建立标签通道。&lt;/p>
&lt;p>面向连接，服务质量可以更好得到保证&lt;/p>
&lt;ul>
&lt;li>TE流量工程：可以人为规划路径，网络调度，平衡负载&lt;/li>
&lt;li>流量抢占&lt;/li>
&lt;li>自动调整路径、重新规划&lt;/li>
&lt;li>路径备份：实现网络失效时的微秒级切换&lt;/li>
&lt;/ul>
&lt;p>可以在MPLS的基础上建立不同VPN：
&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS_vpn.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS_vpn.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS_vpn_hu83c9a435fbe07abe6c168e1721eb3c66_164482_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/MPLS_vpn_hu83c9a435fbe07abe6c168e1721eb3c66_164482_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="ip30ip网上的万物互联">IP3.0：IP网上的万物互联&lt;/h2>
&lt;p>互联网从信息消费向工业产业演进。&lt;/p>
&lt;p>2025年：千亿连接数量&lt;/p>
&lt;p>连接数与数据流量指数级上升&lt;/p>
&lt;p>问题：&lt;/p>
&lt;ol>
&lt;li>地址短缺&lt;/li>
&lt;li>设备吞吐能力不足&lt;/li>
&lt;/ol>
&lt;h3 id="ipv6诞生">IPv6诞生&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_hu708fabbf442cf828b128de91d8d1d450_198573_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_hu708fabbf442cf828b128de91d8d1d450_198573_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_adress.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_adress.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_adress_hu2a54aaeb893e568b0fb8ba1007303dc0_157833_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_adress_hu2a54aaeb893e568b0fb8ba1007303dc0_157833_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;ul>
&lt;li>ipv6报头更简单。一个流标签进行比特比较&lt;/li>
&lt;li>扩展字段可以无限扩展进行网络管控&lt;/li>
&lt;/ul>
&lt;p>IPv6、IPv4兼容：&lt;/p>
&lt;ul>
&lt;li>双栈&lt;/li>
&lt;li>隧道&lt;/li>
&lt;li>翻译&lt;/li>
&lt;/ul>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_advantages.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_advantages.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_advantages_hude7a418a25209dd152fc9e759b41872f_169082_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6_advantages_hude7a418a25209dd152fc9e759b41872f_169082_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ipv6推动万物互联">IPv6推动万物互联&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6&amp;#43;.jpg" data-size="1706x1279">
&lt;img src="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6&amp;#43;.jpg"
width="1706"
height="1279"
srcset="https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6&amp;#43;_hufe065544ad86d82ab810c5b805e80ea2_135124_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E6%95%B0%E9%80%9A%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95%E5%8F%B2/ipv6&amp;#43;_hufe065544ad86d82ab810c5b805e80ea2_135124_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;ol>
&lt;li>网络可编程&lt;/li>
&lt;li>用户体验保障&lt;/li>
&lt;li>应用驱动网络服务&lt;/li>
&lt;/ol>
&lt;h2 id="未来发展趋势">未来发展趋势&lt;/h2></description></item><item><title>Git Notes</title><link>https://comfluter.life/p/git-notes/</link><pubDate>Wed, 22 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/git-notes/</guid><description>&lt;h2 id="delete-branchs">Delete branchs&lt;/h2>
&lt;ol>
&lt;li>local: &lt;code>git branch -d &amp;lt;localBranchName&amp;gt;&lt;/code>&lt;/li>
&lt;li>remote: &lt;code>git push origin --delete &amp;lt;remoteBranchName&amp;gt;&lt;/code>&lt;/li>
&lt;/ol></description></item><item><title>韩非子的思想：势与术</title><link>https://comfluter.life/p/%E9%9F%A9%E9%9D%9E%E5%AD%90%E7%9A%84%E6%80%9D%E6%83%B3%E5%8A%BF%E4%B8%8E%E6%9C%AF/</link><pubDate>Wed, 22 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E9%9F%A9%E9%9D%9E%E5%AD%90%E7%9A%84%E6%80%9D%E6%83%B3%E5%8A%BF%E4%B8%8E%E6%9C%AF/</guid><description>&lt;h2 id="势者胜众之资">势者，胜众之资&lt;/h2>
&lt;h3 id="韩非其人">韩非其人&lt;/h3>
&lt;p>见《史记·老子韩非列传》&lt;/p>
&lt;h3 id="韩非子文本">《韩非子》文本&lt;/h3>
&lt;ul>
&lt;li>陈奇猷《韩非子集释》&lt;/li>
&lt;li>梁启雄《韩非子浅解》&lt;/li>
&lt;li>&lt;em>周勋初等《韩非子校注》&lt;/em>
&lt;ul>
&lt;li>评法批儒运动中编纂。建国以来整理水平最高。&lt;/li>
&lt;li>江苏人民出版社&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="人性论人性本恶韩非子的人性判断">人性论：人性本恶，韩非子的人性判断&lt;/h3>
&lt;p>典型的消极人性论：人的本质是自私。&lt;/p>
&lt;p>好逸恶劳&lt;/p>
&lt;blockquote>
&lt;p>《商君书·算地》：“民之性，饥而求食，劳而求逸，苦而索乐，辱则求荣，此民之情也。”&lt;/p>
&lt;/blockquote>
&lt;p>趋利避害&lt;/p>
&lt;blockquote>
&lt;p>《韩非子·奸劫臣》：“夫安利者就之，危害者去之，此人之情也。”&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>《韩非子·外储说左上》&lt;/p>
&lt;p>人为婴儿也，父母养之简，子长而怨。子盛壮成人，其供养薄，父母怒而诮之。子父至亲也，而或谯或怨者，&lt;strong>皆挟相为，而不周于为己也&lt;/strong>。夫卖庸（佣）而播耕者，主人费家而美食，调布而求易钱者，非爱庸客也；曰，如是，耕者且深，耨者且熟云也。庸客致力而疾耘耕，尽功而正畦陌者，非爱主人也；曰，&lt;em>如是，羹且美，钱布且易云也&lt;/em>。此其养功力有父子之泽矣，而心周于用者，&lt;strong>皆挟自为心也&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;p>人都是因为自己的自私而行。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>故人行事施予，以利之为心，则越人易和；以害之为心，则父子离且怨&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;p>有利益关系，就关系和睦，利益矛盾则能使亲情分崩离析。&lt;/p>
&lt;p>法家认为任何人之间的所有关系都可以&lt;em>化约成为利益关系&lt;/em>。&lt;/p>
&lt;blockquote>
&lt;p>《韩非子·备内》&lt;/p>
&lt;p>医善吮人之伤，含人之血，非骨肉之亲也，&lt;strong>利所加也&lt;/strong>。故舆人成舆，则欲人之富贵；匠人成棺，则欲人之天死也。非舆人仁而匠人贼也，人不贵则舆不售，人不死则棺不买。情非憎人也，利在人之死也。&lt;/p>
&lt;/blockquote>
&lt;p>不论是什么关系，人都是在以利益关系加以衡量。&lt;/p>
&lt;blockquote>
&lt;p>君臣之交计也，夫子之亲利也。&lt;/p>
&lt;/blockquote>
&lt;p>而人的这种人性是可以&lt;strong>被利用以实现现实统治的&lt;/strong>。&lt;/p>
&lt;blockquote>
&lt;p>《难一》：设民所欲以求其功，故为爵禄以劝之；设民所恶以禁其奸，故为刑罚以威之。&lt;/p>
&lt;/blockquote>
&lt;p>治理方法：二柄：刑/德，或称奖惩&lt;/p>
&lt;h3 id="贵势由兵家思想发展而来">贵势：由兵家思想发展而来&lt;/h3>
&lt;p>一般认为兵家贵势&lt;/p>
&lt;ul>
&lt;li>《淮南子》：兵有三势：气（我）、地（自然）、因（彼）&lt;/li>
&lt;/ul>
&lt;p>势是一个抽象的概念。&lt;/p>
&lt;p>韩非子谈势：&lt;/p>
&lt;ul>
&lt;li>《八经》：势者，胜众之资也。（势：资源？）&lt;/li>
&lt;li>《心度》：主之所以尊者，权也。&lt;/li>
&lt;li>《难势》：抱法处势则治，背法去势则乱。
&lt;ul>
&lt;li>法、势应当相互衬托、相辅相成&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="聚势尊君维护君权">聚势尊君，维护君权&lt;/h3>
&lt;p>法家实则是君王南面术&lt;/p>
&lt;p>定分：明白名分&lt;/p>
&lt;blockquote>
&lt;p>《定分》名分定，势治之道也。名分不定，势乱之道也。&lt;/p>
&lt;/blockquote>
&lt;p>处在什么样的位置，拥有什么样的资源&lt;/p>
&lt;p>威势&lt;/p>
&lt;blockquote>
&lt;p>《管子·明法》&lt;strong>尊君卑臣&lt;/strong>，非计亲也，&lt;strong>以势胜也&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;p>中国古代文化当中尊君卑臣&lt;/p>
&lt;h3 id="五蠹">五蠹&lt;/h3>
&lt;p>为了聚势尊君而提出的学说。提出了危害君主势的5中势力，称其为5种蛀虫，成为五蠹。&lt;/p>
&lt;blockquote>
&lt;p>是故乱国之俗：&lt;/p>
&lt;p>（1）其&lt;em>学者&lt;/em>，则称先王之道以籍仁义，盛容服而饰辩说，以疑当世之法，而贰人主之心。&lt;/p>
&lt;p>（2）其&lt;em>言谈者&lt;/em>，为设诈称，借于外力，以成其私，而遗社稷之利。&lt;/p>
&lt;p>（3）其&lt;em>带剑者&lt;/em>，聚徒属，立节操，以显其名，而犯五官之禁。&lt;/p>
&lt;p>（4）其&lt;em>患御者&lt;/em>，积于私门，尽货赂，而用重人之谒，退汗马之劳。&lt;/p>
&lt;p>（5）其&lt;em>商工之民&lt;/em>，修治苦窳之器，聚沸靡之财，蓄积待时，而侔农夫之利。&lt;/p>
&lt;p>此五者，邦之蠹也。人主不除此五蠹之民，不养耿介之士，则海内虽有破亡之国，削灭之朝，亦勿怪矣。&lt;/p>
&lt;/blockquote>
&lt;p>秦汉时代，还有所谓七科讁&lt;/p>
&lt;ul>
&lt;li>逋亡&lt;/li>
&lt;li>赘婿&lt;/li>
&lt;li>脏吏&lt;/li>
&lt;li>市籍&lt;/li>
&lt;li>父母市籍&lt;/li>
&lt;li>祖父母市籍&lt;/li>
&lt;li>闾左&lt;/li>
&lt;/ul>
&lt;p>打击后基本只有农民和官吏两种人。保持人民成分简单。&lt;/p>
&lt;p>商鞅：六蝎&lt;/p>
&lt;blockquote>
&lt;p>《商君书 · 靳令》六虱：&lt;/p>
&lt;p>曰礼乐；曰诗书；曰修善，曰孝弟；曰诚信，曰贞廉；曰仁义；曰非兵，曰羞战。&lt;/p>
&lt;/blockquote>
&lt;p>总结：&lt;/p>
&lt;blockquote>
&lt;p>《晋书·庾峻传》：秦塞斯路，利出一官，虽有处士之名，&lt;em>而无爵列於朝者，商君谓之六蝎，韩非谓之五蠹。&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;p>韩非核心思想：&lt;strong>用压力制造秩序&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>人有祸，则心畏恐；心畏恐，则行端直；行端直，则思虑熟；思虑熟，则得事理。行端直，则无祸害；无祸害，则尽天年。得事理，则必成功。尽天年，则全而寿。必成功，则富与贵。全寿富贵之谓福。&lt;/p>
&lt;/blockquote>
&lt;h2 id="术者循名而责实">术者，循名而责实&lt;/h2>
&lt;blockquote>
&lt;p>《定法》：君无术则弊于上，臣无法则乱于下。&lt;/p>
&lt;p>《定法》：术者，因任而授官，循名而责实，操杀生之柄，课群臣之能者也。&lt;/p>
&lt;p>《难三》：术者，藏之于胸中，以偶众端，而潜御群臣者也。&lt;/p>
&lt;p>《心度》：主之所以尊者，权也。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>术：驭人之道&lt;/strong>&lt;/p>
&lt;h3 id="刑名循名实而定是非">刑名——循名实而定是非&lt;/h3>
&lt;p>名是什么、干了什么。&lt;/p>
&lt;blockquote>
&lt;p>古者苍颉之作书也，自环者谓之私，背私谓之公，公私之相背也，乃苍颉固以知之矣。今以为同利者，不察之患也，然则为匹夫计者，莫如修行义而习文学。行义修则见信，见信则受事；文学习则为明师，为明师则显荣：此匹夫之美也。然则无功而受事，无爵而显荣，为有政如此，则国必乱，主必危矣。故不相容之事，不两立也。&lt;/p>
&lt;/blockquote>
&lt;h3 id="刑德赏罚君之二柄">刑德赏罚：君之二柄&lt;/h3>
&lt;blockquote>
&lt;p>《二柄》&lt;/p>
&lt;p>明主之所导制其臣者，二柄而已矣。二柄者，刑德也。何谓刑德？曰：杀戮之谓刑，庆赏之谓德。&lt;/p>
&lt;p>为人臣者畏诛罚而利庆赏，故人主自用其刑德，则群臣畏其威而归其利矣。&lt;/p>
&lt;p>故世之奸臣则不然，所恶，则能得之其主而罪之；所爱，则能得之其主而赏之；今人主非使赏罚之威利出于已也，听其臣而行其赏罚，则一国之人皆畏其臣而易其君，归其臣而去其君矣。此人主失刑德之患也。&lt;/p>
&lt;/blockquote>
&lt;h3 id="备内人主之患在于信人">备内：人主之患在于信人&lt;/h3>
&lt;p>虚无：虚静无为，冷酷无情，麻木不仁。只有这样才能不被别人钻空子。&lt;/p>
&lt;blockquote>
&lt;p>人主之患在于信人，信人，则制于人。人臣之于其君，非有骨肉之亲也，缚于势而不得不事也。故为人臣者，窥觇其君心也，无须臾之休，而人主怠傲处上，此世所以有劫君杀主也。上古之传言，《春秋》所记，犯法为逆以成大奸者，未尝不从尊贵之臣也。&lt;/p>
&lt;p>为人主而大信其子，则奸臣得乘于子以成其私，故李兑传赵王而饿主父。为人主而大信其妻，则奸臣得乘于妻以成其私，故优施传丽姬杀申生而立奚齐。夫以妻之近与子之亲而犹不可信，则其余无可信者矣。&lt;/p>
&lt;/blockquote>
&lt;h3 id="八奸">八奸&lt;/h3>
&lt;blockquote>
&lt;p>一曰同床，二曰在旁，三曰父兄，四曰养殃，五曰民萌，六曰流行，七曰威强，八曰四方。&lt;/p>
&lt;p>凡此八者，人臣之所以道成奸，世主所以壅劫，失其所有也，不可不察焉。&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>&lt;strong>贵妇人&lt;/strong>：何谓同床？曰：贵夫人，爱孺子，便僻好色，此人主之所惑也。托于燕处之虞，乘醉饱之时，而求其所欲，此必听之术也。为人臣者内事之以金玉，使惑其主，此之谓同床。&lt;/li>
&lt;li>&lt;strong>秘书&lt;/strong>：二曰在旁。何谓在谤？曰：优笑侏儒，左右近习，此人主未命而唯唯，未使而诺诺，先意承旨，观貌察色以先主心者也。此皆俱进俱退，皆应皆对，一辞同轨以移主心者也。为人臣者内事之以金玉玩好，外为之行不法，使之化其主，此之谓在旁。&lt;/li>
&lt;li>&lt;strong>裙带关系&lt;/strong>：三曰父兄。何谓父兄？曰：侧室公子，人主之所亲爱也；大臣廷吏，人主之所与度计也。此皆尽力毕议，人主之所必听也。为人臣者事公子侧室以音声子女，收大臣延吏以辞言，处约言事，事成则进爵益禄，以劝其心，犯其主，此之谓父兄。&lt;/li>
&lt;li>&lt;strong>君主喜欢什么就陪着做什么的人&lt;/strong>：四曰养殃。何谓养殃？曰：人主乐美宫室台池，好饰子女狗马以娱其心，此人主之殃也。为人臣者尽民力以美宫室台池，重赋敛以饰子女狗马，以娱其主而乱其心，从其所欲，而树私利其间，此谓养殃。&lt;/li>
&lt;li>&lt;strong>乐善好施，做公共事业的人&lt;/strong>：五曰民萌。何谓民萌？曰：为人臣者散公财以说民人，行小惠以取百姓，使朝廷市井皆劝权誉己，以塞其主而成其所欲，此之谓民萌。&lt;/li>
&lt;li>&lt;strong>意见领袖，能够操作舆论的人&lt;/strong>：六曰流行。何谓流行？曰：人主者，固壅其言谈，希于听论议，易移以辩说。为人臣者求诸候之辩士，养国中之能说者，使之以语其私。为巧文之言，流行之辞，示之以利势，惧之以患害，施属虚辞以坏其主，此之谓流行。&lt;/li>
&lt;li>&lt;strong>游侠&lt;/strong>：七曰威强。何谓威强？曰：君人者，以群臣百姓为威强者也。群臣百姓之所善，则君善之；非群臣百姓之所善，则君不善之。为人臣者，聚带剑之客，养必死之士，以彰其威，明焉己者必利，不为己者必死，以恐其群臣百姓而行其私，此之谓威强。&lt;/li>
&lt;li>&lt;strong>养寇以自重&lt;/strong>：八曰四方。何谓四方？曰：君人者，国小，则事大国；兵弱，则畏强兵。大国之所索，小国必听；强兵之所加，弱兵必服。为人臣者，重赋敛，尽府库，虚其国以事大国，而用其威求诱其君；甚者举兵以聚边境而制敛于内，薄者数内大使以震其君，使之恐惧，此之谓四方。&lt;/li>
&lt;/ol>
&lt;h3 id="法莫如显而术不欲见">法莫如显，而术不欲见。&lt;/h3>
&lt;p>术越淡越好，用道家的道理说明权术。&lt;/p>
&lt;ul>
&lt;li>虚则知实之情，静则知动者正。&lt;/li>
&lt;li>虚静无事，以暗见疵。&lt;/li>
&lt;li>君无见其所欲。&lt;/li>
&lt;li>君见恶，则群臣匿端；君见好，则群臣诬能。&lt;/li>
&lt;/ul>
&lt;h3 id="道术相济">道术相济&lt;/h3>
&lt;p>把老子既看成道，又看成术。故言道术相济。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>是以圣人之治，虚其心，实其腹，弱其志，强其骨。常使民无知无欲。使夫智者不敢为也。为无为，则无不治&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;p>老子本身文本解读：自然之道，越简单、越不争越好。&lt;/p>
&lt;p>韩非子解读：&lt;/p>
&lt;ul>
&lt;li>反智
&lt;ul>
&lt;li>反对百姓获得更多知识。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>愚民
&lt;ul>
&lt;li>百姓在温饱线上挣扎的状态最好。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>上善若水。水善利万物而不争，处众人之所恶，故几于道。&lt;/p>
&lt;/blockquote>
&lt;p>老子本身：反常识，反理性，用真实的自然进行理解。&lt;/p>
&lt;p>大奸似忠、大智若愚、大巧若拙&lt;/p>
&lt;blockquote>
&lt;p>居善地，心善渊，与善仁，言善信，政善治，事善能，动善时。&lt;strong>夫唯不争，故无尤&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>曲则全，枉则直，洼则盈，敝则新，少则多，多则惑。&lt;/p>
&lt;/blockquote>
&lt;p>政治斗争中去委曲求全的办法。&lt;/p>
&lt;blockquote>
&lt;p>将欲歙之，必故张之；将欲弱之，必故强之；将欲废之，必故兴之；将欲取之，必故与之。是谓微明。&lt;/p>
&lt;/blockquote>
&lt;p>“让他疯狂，让他灭亡”&lt;/p>
&lt;blockquote>
&lt;p>知人者智，自知者明。胜人者有力，自胜者强。知足者富。强行者有志。不失其所者久。死而不亡者寿。以其终不自为大，故能成其大。&lt;/p>
&lt;/blockquote>
&lt;p>不自大的人最终能做到大。&lt;/p>
&lt;p>&lt;strong>老子讲世界观，韩非子理解为方法论&lt;/strong>。&lt;/p>
&lt;p>汉初黄老之学：后发制人，后而制天下。&lt;/p>
&lt;p>&lt;strong>司马迁的评价&lt;/strong>：&lt;/p>
&lt;blockquote>
&lt;p>“韩子引绳墨，切事情，明是非，其极惨礉少恩。”&lt;/p>
&lt;p>“余独悲韩子为说难而不能自脱耳。”&lt;/p>
&lt;/blockquote>
&lt;h3 id="反智论与法家的传统">反智论与法家的传统&lt;/h3>
&lt;p>凡法家必反智。&lt;/p>
&lt;h4 id="何谓反智论">何谓反智论&lt;/h4>
&lt;p>反智论的两种形态：&lt;/p>
&lt;ol>
&lt;li>反智性：对&lt;em>知识本身&lt;/em>的憎恨和怀疑。认为智性和由智性而来的知识对人生有害无益。&lt;/li>
&lt;li>反理性：神学和哲学上的，“恃分别智不能证真如。”即是对理性的怀疑。认为&lt;em>理性的使用应有限际&lt;/em>。
&lt;ol>
&lt;li>中国古代没有科学思想：禅宗认为分析的方法无益于思想的提高&lt;/li>
&lt;li>同时构成宗教对于科学的重要制约，是有必要的。科学的滥用是可以毁灭自身的。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;p>反智论在中国古代思想：反对智识主义&lt;/p>
&lt;p>反智性和反理性有着本质的不同。
反理性论者，常常被运用为政治上和社会上反智运动的思想武器。&lt;/p>
&lt;blockquote>
&lt;p>今不知治者必曰：“得民之心。”欲得民之心而可以为治，则是伊尹、管仲无所用也，将听民而已矣。&lt;strong>民智之不可用，犹婴儿之心也&lt;/strong>。……今上急耕田垦草以厚民产也，而以上为酷；修刑重罚以为禁邪也，而以上为严；征赋钱粟以实仓库，且以救饥馑、备军旅也，而以上为贪；境内必知介而无私解，并力疾斗，所以禽虏也，而以上为暴。&lt;strong>此四者，所以治安也，而民不知悦也&lt;/strong>。夫求圣通之。&lt;/p>
&lt;/blockquote>
&lt;h4 id="法家反智论的基本特征">法家反智论的基本特征&lt;/h4>
&lt;ul>
&lt;li>禁止人民尤其是知识分子与与外国交通为先决条件。以收到政教合一、万众一心的效果。（参见《商君书·算地》）&lt;/li>
&lt;li>用武力镇压“五蠹”、“六虱”。打掉一些动摇政权基础的群类。&lt;/li>
&lt;li>垄断所有渠道，从而达到自上而下，步调一致的效果。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>《商君书·刑赏》&lt;/p>
&lt;p>圣人之为国也，一赏，一刑，一教。&lt;/p>
&lt;p>一赏则兵无敌，一刑则令行，一教则下听上。&lt;/p>
&lt;p>夫明赏不费，明刑不戮，明教不变，而民知于民务，&lt;strong>国无异俗&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;h3 id="文教精英的压力感针对专制王权的抵制">文教精英的压力感——针对专制王权的抵制&lt;/h3>
&lt;p>“法里儒表”，汉朝为典型&lt;/p>
&lt;h4 id="工商文明中的城市自由民时代终结">工商文明中的城市自由民时代终结&lt;/h4>
&lt;p>&lt;strong>战国知识人自由时代的瓦解终结&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>《战国策·齐策》：齐宣王见颜斶曰：“斶前。”斶亦曰：“王前。”&lt;/p>
&lt;/blockquote>
&lt;p>汉朝：民贱君肆&lt;/p>
&lt;blockquote>
&lt;p>《史记·酷吏列传》&lt;/p>
&lt;p>（西汉酷吏杜）周为廷尉，其治大放张汤而善伺候。上所欲挤者，因而陷之；上所欲释者，久系待问而征见其冤状。客有让周曰：“君为天子决平，不循三尺法，专以人主意指为狱。狱者故如是乎？”周曰：“三尺安出哉？前主所是著为律，后主所是疏为令，当时为是，何古之法乎！”&lt;/p>
&lt;/blockquote>
&lt;h4 id="秦汉普遍压抑时代的到来">秦汉普遍压抑时代的到来&lt;/h4>
&lt;p>两汉知识分子没有不反对法家的。&lt;/p>
&lt;p>司马迁：指秦骂汉&lt;/p>
&lt;p>西汉知识分子对由大一统的一人专制政治而来的压力感，来自专制制度政治本身，是全面性的感受。&lt;/p>
&lt;p>东汉知识分子，来自对于专制政治中最黑暗的某些现象。&lt;/p>
&lt;p>两汉知识分子几乎无不反对法家的，由思想而来的压力。西汉知识分子几乎无不反秦，而反秦即是反汉。&lt;/p>
&lt;p>汉代楚辞流行，一方面丰沛集团是楚人，另一方面《离骚》：“&lt;strong>信而见疑，忠而被谤，能无怨乎？&lt;/strong>”凸显了时人的心理状态。
在诗文之中除了流露&lt;strong>专制皇权对于知识人的戕害&lt;/strong>，还表达对于知识人独立人格的扭曲。&lt;/p>
&lt;blockquote>
&lt;p>贾谊《吊屈原赋》：鸾凤伏窜兮，鸱鸮翱翔。阘茸尊显兮，谄谀得志。贤胜逆泄兮，方正倒置。&lt;/p>
&lt;p>贾山《至言》：雷霆之所击，无不摧折者；万钧之所压，无不麋灭者。今人主之威，非特雷霆也，势重非特万钧也。&lt;/p>
&lt;p>贾山《至言》：士修之于家，而坏之于天子之廷。&lt;/p>
&lt;/blockquote>
&lt;h3 id="道法合流">道法合流&lt;/h3>
&lt;p>法家的借尸还魂&lt;/p>
&lt;blockquote>
&lt;p>王夫之《宋论》卷一&lt;/p>
&lt;p>论汉文帝曰:「&lt;strong>乃其慈也，畜刑杀于心而姑忍之。其俭也，志存厚实而勤用之。其简也，以相天下之动而徐制其后也。老氏之术，所持天下之柄者在此，而天人不受其欺。故王道至汉而阙，学术之不贞者为之也。&lt;/strong>」&lt;/p>
&lt;p>【其待淮南王、薄昭即如王氏所言】&lt;/p>
&lt;/blockquote>
&lt;h3 id="结语审判法家思想">结语：审判法家思想&lt;/h3>
&lt;p>&lt;strong>中国要想进步，就要系统地清算、审判法家思想&lt;/strong>。&lt;/p>
&lt;h4 id="法家的实质尊君卑民">法家的实质：尊君卑民&lt;/h4>
&lt;p>其民“荡而不静、胜而无耻”。&lt;/p>
&lt;ol>
&lt;li>社会扁平化&lt;/li>
&lt;li>民众简单化：愚民、贫民、弱民、辱民&lt;/li>
&lt;li>君主威权化&lt;/li>
&lt;/ol>
&lt;p>谭嗣同的感慨：&lt;/p>
&lt;blockquote>
&lt;p>中国两千年政治皆秦政也，皆暴政也。&lt;/p>
&lt;p>中国两千年学术皆荀学也，皆乡愿也。&lt;/p>
&lt;/blockquote>
&lt;h2 id="课程总结">课程总结：&lt;/h2>
&lt;ul>
&lt;li>儒家，主张礼乐，代表文士，以文化为中心
&lt;ul>
&lt;li>把百姓教育好了，&lt;em>治理成本&lt;/em>会相当低&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>道家，主张自然，代表隐者，以个体为中心&lt;/li>
&lt;li>墨家，主张兼爱，代表游侠，以苍生为中心&lt;/li>
&lt;li>法家，主张刑赏，代表谋士，以君王为中心&lt;/li>
&lt;/ul>
&lt;p>柳诒征家中对联：&lt;/p>
&lt;blockquote>
&lt;p>君父恩深一饭不忘忠孝&lt;/p>
&lt;p>诗书业广三冬足用菑畲&lt;/p>
&lt;/blockquote>
&lt;p>中国古典道理不复杂，内容很深厚，真正要做一辈子也没有尽头。&lt;/p>
&lt;p>培养大家的&lt;strong>尺度感&lt;/strong>。应对事情的时候能不能做、能做多少？&lt;/p></description></item><item><title>法家思想——中国古代的政治逻辑</title><link>https://comfluter.life/p/%E6%B3%95%E5%AE%B6%E6%80%9D%E6%83%B3%E4%B8%AD%E5%9B%BD%E5%8F%A4%E4%BB%A3%E7%9A%84%E6%94%BF%E6%B2%BB%E9%80%BB%E8%BE%91/</link><pubDate>Wed, 15 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E6%B3%95%E5%AE%B6%E6%80%9D%E6%83%B3%E4%B8%AD%E5%9B%BD%E5%8F%A4%E4%BB%A3%E7%9A%84%E6%94%BF%E6%B2%BB%E9%80%BB%E8%BE%91/</guid><description>&lt;h2 id="法家的诞生">法家的诞生&lt;/h2>
&lt;ul>
&lt;li>从城邦国家到领土国家
&lt;ul>
&lt;li>中国从氏族组织的国家逐渐建立起平民社会&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>氏族制度土崩瓦解
&lt;ul>
&lt;li>用战争的方式，淬厉立国的根本。&lt;/li>
&lt;li>中国先秦文化是被战争催生出来的早熟思想，实用主义特征浓重&lt;/li>
&lt;li>国家的组织方式发生变化了。军国主义思想抬头了。一切以提高军事打击能力为首要目标&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>残酷的兼并战争
&lt;ul>
&lt;li>普遍的兵役和赋税制度开始出现：郡县制度、军民分治、俸禄制度、井田制度、军功制度、各国变法。&lt;/li>
&lt;li>中国古代兵制：
&lt;ol>
&lt;li>普遍兵役制度，秦汉时代出现。依靠对民众、土地强大的控制力。常配合特定田制出现。&lt;/li>
&lt;li>募兵制，散见于各代：汉晚期、唐宋。国家出现*职业军人。*大部分职业军人来源于市井流民。容易出现军人阶层的流氓化以及军队私人化、出现军头。募兵制一旦出现往往成为王朝动荡的根源。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>战国的战争已经完全不同于春秋
&lt;ul>
&lt;li>以消灭对方有生力量为目的&lt;/li>
&lt;li>消耗各种资源极大：“新兵十万，日费千金”&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>私学兴起&lt;/li>
&lt;/ul>
&lt;p>各个国家都在思考如何用新制度新秩序应对这样的时代&lt;/p>
&lt;p>风云激荡中，产生了法家思想&lt;/p>
&lt;ul>
&lt;li>儒法同源说：都强调良好社会秩序的重要性。&lt;/li>
&lt;li>法家起源于兵家说：都强调富国强兵&lt;/li>
&lt;li>子产和叔向：刑鼎的隐喻。子产公布刑法与书上，叔向批评。认为过去以礼法治国，百姓不知道底线，因此不会向下探，现在公布了，百姓会踩在法律的底线上无所不为、胡作非为。子产回复，要“救时”，解决现实问题。&lt;/li>
&lt;/ul>
&lt;p>法家是“&lt;strong>救时&lt;/strong>”的。&lt;/p>
&lt;p>变法运动就是列国成文法的确立过程。&lt;/p>
&lt;ul>
&lt;li>前536年，郑国子产铸刑书&lt;/li>
&lt;li>前513年，晋国赵鞅、荀寅铸刑鼎&lt;/li>
&lt;li>前407年，李悝作《法经》，有盗、贼、囚、捕、杂、具六项内容（《晋书·刑法志》），商鞅以之治秦，为秦汉之后所沿用。（见《九朝律考》）&lt;/li>
&lt;/ul>
&lt;p>中国古代刑罚分类：&lt;/p>
&lt;ul>
&lt;li>大刑：动甲兵&lt;/li>
&lt;li>五刑：动斧钺
&lt;ul>
&lt;li>大辟：杀头。车裂、腰斩、枭首、侥幸、养药死。&lt;/li>
&lt;li>宫刑&lt;/li>
&lt;li>刖：砍腿/脚&lt;/li>
&lt;li>劓&lt;/li>
&lt;li>黥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>髡&lt;/li>
&lt;li>完：以上皆无&lt;/li>
&lt;/ul>
&lt;h2 id="法家的学术流派">法家的学术流派&lt;/h2>
&lt;h3 id="法家的世界观">法家的世界观&lt;/h3>
&lt;blockquote>
&lt;p>《开塞》：圣人不法古，不修今。法古则后于时，修今则塞于势。&lt;/p>
&lt;/blockquote>
&lt;p>一切以实用为务&lt;/p>
&lt;blockquote>
&lt;p>《开塞》：故兴王有道，而持之异理。武王逆取而贵顺，争天下而上让。其取之以力，持之以义。&lt;/p>
&lt;/blockquote>
&lt;p>靠武力还是规则没有绝对的标准。好用就行。即认为政治中没有绝对的价值。相对主义。&lt;/p>
&lt;h3 id="法家的治国理念">法家的治国理念&lt;/h3>
&lt;blockquote>
&lt;p>《韩非子·五蠹》：故明主之国无书简之文，以法为教；无先王之语，以吏为师；无私剑之捍，以斩首为勇。是境内之民，其言谈者必轨于法，动作者归之于功，为勇者尽之于军。是故无事则国富，有事则兵强，此之谓王资。&lt;/p>
&lt;/blockquote>
&lt;h3 id="法家的流派">法家的流派&lt;/h3>
&lt;ol>
&lt;li>李悝《法经》六篇，三晋的刑罚传统。&lt;/li>
&lt;li>商鞅《商君书》二十六篇，将魏国《法经》改造为秦法。&lt;/li>
&lt;li>申不害《大体》一篇今存，言术。&lt;/li>
&lt;li>尹文《大道》（上下）两篇今存，言刑名、名法之术。&lt;/li>
&lt;li>慎到《慎子》七篇，言势，主用势治。&lt;/li>
&lt;li>齐国《管子》，法家与道家相结合，黄老之道、刑名之术、法令之治。&lt;/li>
&lt;li>韩非《韩非子》，集道法家之大成。&lt;/li>
&lt;/ol>
&lt;h2 id="法术势的思想渊源">法·术·势的思想渊源&lt;/h2>
&lt;p>法出于刑名。（名、实）&lt;/p>
&lt;ul>
&lt;li>刑：型，存在。名：对于这个事件的描述。循名责实。&lt;/li>
&lt;/ul>
&lt;p>术本于黄老。（自然、无情、无知）&lt;/p>
&lt;ul>
&lt;li>君主应当不刻意、不主观、&lt;/li>
&lt;/ul>
&lt;p>势起于兵战。（天地、阴阳、定分）&lt;/p>
&lt;ul>
&lt;li>势：&lt;/li>
&lt;/ul>
&lt;h3 id="用术而治">用术而治&lt;/h3>
&lt;p>法家的术是什么性质的？&lt;/p>
&lt;p>等距：&lt;/p>
&lt;blockquote>
&lt;p>《申子·大体》&lt;/p>
&lt;p>夫一妇擅夫，众妇皆乱，一臣专君，君臣皆蔽。故妒妻不难破家也，乱臣不难破国也。是以明君使其臣，并进辐凑，莫得专君。&lt;/p>
&lt;/blockquote>
&lt;p>君主与所有人保持一定的距离&lt;/p>
&lt;p>藏拙：&lt;/p>
&lt;blockquote>
&lt;p>《申子·大体》&lt;/p>
&lt;p>故善为主者，倚于愚，立于不盈，设于不敢，藏于无事，窜端匿疏，示天下无为，是以近者亲之，远者怀之。示天下有余者，人夺之；示天下不足者，人与之。&lt;/p>
&lt;/blockquote>
&lt;p>不要用不擅长的东西与别人比。这是对自己的不自信。&lt;/p>
&lt;p>混沌：&lt;/p>
&lt;blockquote>
&lt;p>《韩非子·外储说右上·说二》&lt;/p>
&lt;p>申子曰：上明见，人备之；其不明见，人惑之。其知见，人惑之，不知见，人匿之。其无欲见，人司之；其有欲见，人饵之。故曰：吾无从知之，惟无为可以规之。&lt;/p>
&lt;/blockquote>
&lt;p>故意使得某些事情含混&lt;/p>
&lt;p>独断：&lt;/p>
&lt;blockquote>
&lt;p>《韩非子·外储说右上·说二》&lt;/p>
&lt;p>申子曰：独视者谓明，独听者谓聪。能独断者，故可以为天下主。&lt;/p>
&lt;/blockquote>
&lt;p>最关键的问题要亲自操刀，不能假手于人&lt;/p>
&lt;p>挟智而问：&lt;/p>
&lt;blockquote>
&lt;p>《韩非子·内储说上·说六》&lt;/p>
&lt;p>韩昭侯使骑于县，使者报，昭侯问曰：“何见也？”对曰：“无所见也。”昭侯曰：“虽然，何见？”曰：“南门之外，有黄犊食苗道左者。”昭侯谓使者：“毋敢洩吾所问于女。”乃下令曰：“当苗时，禁牛马入人田中固有令，而吏不以为事，牛马甚多如人田中，亟举其数上之，不得，将重其罪。”于是三乡举而上之。昭侯曰：“未尽也。”复往审之，乃得南门之外黄犊。吏以昭侯为明察，皆悚惧其所而不敢为非。&lt;/p>
&lt;/blockquote>
&lt;p>利用信息的不对称挟制臣民。中国古代君主对于臣下的信息控制至清朝到达顶峰，“密折”。&lt;/p>
&lt;p>倒言反事&lt;/p>
&lt;blockquote>
&lt;p>《韩非子·内储说上·七术》&lt;/p>
&lt;p>子之相燕，坐而佯言：“走出门者何，白马也？”左右皆言不见。有一人走追之，报曰：“有。”子之以此知左右之不诚信。&lt;/p>
&lt;p>有相与讼者，子产离之，而无使得通辞，倒其言以告而知之。&lt;/p>
&lt;p>卫嗣公使人为客过关市，关市苛难之，因事关市以金，关吏乃舍之。嗣公为关吏曰：“某时有客过而所，与汝金，而汝因遣之。”关吏乃大恐，而以嗣公为明察。&lt;/p>
&lt;/blockquote>
&lt;p>钓鱼执法。&lt;/p>
&lt;h3 id="藉势而治">藉势而治&lt;/h3>
&lt;blockquote>
&lt;p>《韩非子·难势》&lt;/p>
&lt;p>夫尧舜生而在上位，虽有十桀纣不能乱者，则势治也；桀纣亦生而在上位，虽有十尧舜而亦不能治者，则势乱也。&lt;/p>
&lt;/blockquote>
&lt;h2 id="法家思想的历史意义">法家思想的历史意义&lt;/h2>
&lt;ol>
&lt;li>定分止争：“一兔走，百人追之。积兔于市，过而不顾。非不欲兔，分定不可争也。”&lt;/li>
&lt;li>兴功惧暴&lt;/li>
&lt;li>厚今薄古：当下解决问题最重要。“治世不一道，便国不法古”。“不期修古，不法常可”。“世异则事异”，“事异则备变”。&lt;/li>
&lt;/ol>
&lt;p>帝王之具：为上位者提供治理工具。&lt;/p>
&lt;h2 id="强国弱民商鞅的法治理念与政治实践">强国弱民——商鞅的“法治”理念与政治实践&lt;/h2>
&lt;p>《商君书》在秦汉时间流传很广。&lt;/p>
&lt;h3 id="商君其人">商君其人&lt;/h3>
&lt;p>商鞅：卫国人，公孙鞅；韩非：韩国人、庶公子。&lt;/p>
&lt;p>二人皆是二流贵族。&lt;/p>
&lt;p>主张变法图强&lt;/p>
&lt;blockquote>
&lt;p>“当时而立法，因事而制礼”。&lt;/p>
&lt;/blockquote>
&lt;h3 id="商鞅变法的基本内容">商鞅变法的基本内容&lt;/h3>
&lt;blockquote>
&lt;p>令民为什伍，而相牧司连坐。不告奸者腰斩，告奸者与斩敌首同赏，匿奸者与降敌同罚。&lt;/p>
&lt;/blockquote>
&lt;p>五户人家、十户人家相互连坐。不主动告发即有罪。&lt;/p>
&lt;blockquote>
&lt;p>民有二男以上不分异者，倍其赋。&lt;/p>
&lt;/blockquote>
&lt;p>使得人口小单元化。使得民间社会扁平化，尽量的消灭氏族、宗族。国家对百姓能够做到“个别人身支配”。&lt;/p>
&lt;blockquote>
&lt;p>有军功者，各以率受上爵；为私斗者，各以轻重被刑大小。&lt;/p>
&lt;/blockquote>
&lt;p>奖励军功&lt;/p>
&lt;blockquote>
&lt;p>僇力本业，耕织致粟帛多者复其身。事末利及怠而贫者，举以为收孥。&lt;/p>
&lt;/blockquote>
&lt;p>本业：生产制造。从事制造业能有好收益的予以免除赋税等。从事金融投机以及无所事事的人贬低身份，同时由国家安排生产劳动。&lt;/p>
&lt;blockquote>
&lt;p>宗室非有军功论，不得为属籍。&lt;/p>
&lt;/blockquote>
&lt;p>鼓励军功&lt;/p>
&lt;blockquote>
&lt;p>明尊卑爵秩等级，各以差次名田宅，臣妾衣服以家次。有功者显荣，无功者虽富无所芬华。&lt;/p>
&lt;/blockquote>
&lt;p>依据等级控制物质分配。为国家出力、有功劳者才能得到社会地位。&lt;/p>
&lt;h3 id="变法的效果">变法的效果&lt;/h3>
&lt;blockquote>
&lt;p>行之十年，秦民大说，道不拾遗，山无盗贼，家给人足。&lt;/p>
&lt;/blockquote>
&lt;p>使得犯罪成本变得极高，使得货币失去一般等价物的作用。&lt;/p>
&lt;h3 id="商鞅的法治思想的特质">商鞅的“法治”思想的特质&lt;/h3>
&lt;ol>
&lt;li>重刑：治国刑多而赏少，王者刑九而赏一。&lt;/li>
&lt;li>修权：权者，君之所独制也。不以私害法则治，权制独断于君则威。&lt;/li>
&lt;li>杀力：国强而不战,毒输于内,礼乐虱官生,必削;国遂战,毒输于敌,国无礼乐虱官,必强。力多而不用则志穷，志穷则有私，有私则有弱。
&lt;ol>
&lt;li>让百姓刚好生活在温饱线上，使其有动力进去争强。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>一政：民之欲万，而利之所出一。民非一政，无以致欲，故作一。&lt;/li>
&lt;li>来民：利其田宅而复之三世，此必与其所欲而不使行其所恶也。&lt;/li>
&lt;/ol>
&lt;p>法家用威权换秩序。（其他思路：用富足换取社会秩序，齐国）&lt;/p>
&lt;p>商鞅的悲剧：&lt;/p>
&lt;blockquote>
&lt;p>刘向《新序》&lt;/p>
&lt;p>今卫鞅内刻刀锯之刑，外深鈇钺之诛，步过六尺者有罚，弃灰于道者被刑，一日临渭而论囚七百馀人，渭水尽赤，号哭之声动于天地，畜怨积雠比于丘山，所逃莫之隐，所归莫之容，身死车裂，灭族无姓，其去霸王之佐亦远矣。&lt;/p>
&lt;/blockquote>
&lt;h3 id="以刑去刑">以刑去刑&lt;/h3>
&lt;blockquote>
&lt;p>《靳令》&lt;/p>
&lt;p>圣君知物之要，故其治民有至要，故执赏罚以壹辅，仁者，心之续也。圣君之治人也，必得其心，故能用其力。力生强，强生威，威生德，德生于力。圣君独有之，故能述仁义于天下。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>《开塞》&lt;/p>
&lt;p>古者民藂生而群处，乱，故求有上也。然则天下之乐有上也，将以为治也。今有主而无法，其害与无主同；有法不胜其乱，与无法同。天下不安无君，而乐胜其法，则举世以为惑也。夫利天下之民者莫大于治，而治莫康于立君。立君之道莫广于胜法，胜法之务莫急于去奸，去奸之本莫深于严刑。&lt;strong>故王者以赏禁，以刑劝；求过不求善，藉刑以去刑。&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;p>商鞅的大关怀？真的能做到吗？&lt;/p>
&lt;blockquote>
&lt;p>张家山汉简《二年律令》之《奏谳书》&lt;/p>
&lt;p>十一年八月甲申朔己丑，夷道介、丞嘉敢谳之。六月戊子发弩九诣男子无忧，告为都尉屯，已受致书，行未到，去亡。、无忧曰：蛮夷，大男子，岁出五十六钱以当徭赋，不当为屯，尉窯遣无忧为屯，行未到，去亡。它如九。、窯曰：南郡尉发屯有令，蛮夷律不曰勿令为屯，即遣之，不知亡故，它如无忧。、诘无忧：律，蛮夷男子岁出賨钱，以当徭赋，非曰勿令为屯也，及虽不当为屯，已遣，无忧即屯卒，已去亡，何解？无忧曰：有君长，岁出賨钱，以当徭赋，即复也，存吏，无解。、问，如辞。、鞫之：无忧蛮夷，大男子，岁出賨钱，以当徭赋，遣为屯，去亡，得，皆审。、疑无忧罪，它县论，敢谳之，谒报，署狱史曹发。、史当：无忧当腰斩，或曰不当论。、廷报：当腰斩。&lt;/p>
&lt;/blockquote>
&lt;p>律令中中央判例法性质的文书。&lt;/p>
&lt;p>告发：有奖赏、无连带责任。&lt;/p>
&lt;p>商鞅变法成果。变法后中国建立起了强大的法律体系，为管控民间的手段。国家利益优先。&lt;/p></description></item><item><title>Debugging ToD-BERT with vscode</title><link>https://comfluter.life/p/debugging-tod-bert-with-vscode/</link><pubDate>Thu, 09 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/debugging-tod-bert-with-vscode/</guid><description>&lt;h2 id="configuring-launchjson-in-vscode">Configuring &lt;code>launch.json&lt;/code> in vscode&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="s2">&amp;#34;configurations&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Python: my tod training&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;python&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;request&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;launch&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;program&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;${file}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;console&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;integratedTerminal&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;args&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="s2">&amp;#34;--task=usdl&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--model_type=bert&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--model_name_or_path=bert-base-uncased&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--output_dir=&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--do_train&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--do_eval&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--mlm&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--do_lower_case&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--evaluate_during_training&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--save_steps=2500&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--logging_steps=1000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--per_gpu_train_batch_size=1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--per_gpu_eval_batch_size=1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;--only_last_turn&amp;#34;&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="running-debug-session">Running Debug Session&lt;/h2>
&lt;p>open &lt;code>my_tod_pretraining.py&lt;/code> and press &lt;code>F5&lt;/code> to start a debug session using the configuration shown above.&lt;/p>
&lt;p>bug report:
&lt;figure
class="gallery-image"
style="
flex-grow: 157;
flex-basis: 377px"
>
&lt;a href="https://comfluter.life/p/debugging-tod-bert-with-vscode/1.jpg" data-size="1000x636">
&lt;img src="https://comfluter.life/p/debugging-tod-bert-with-vscode/1.jpg"
width="1000"
height="636"
srcset="https://comfluter.life/p/debugging-tod-bert-with-vscode/1_hub1659c7f9263afa4d294d254f95f6cf0_131180_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/debugging-tod-bert-with-vscode/1_hub1659c7f9263afa4d294d254f95f6cf0_131180_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="initial bug report">
&lt;/a>
&lt;figcaption>initial bug report&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 142;
flex-basis: 342px"
>
&lt;a href="https://comfluter.life/p/debugging-tod-bert-with-vscode/2.jpg" data-size="1000x700">
&lt;img src="https://comfluter.life/p/debugging-tod-bert-with-vscode/2.jpg"
width="1000"
height="700"
srcset="https://comfluter.life/p/debugging-tod-bert-with-vscode/2_hub366ba85c8ddf28f0b899dfd5384ad25_173440_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/debugging-tod-bert-with-vscode/2_hub366ba85c8ddf28f0b899dfd5384ad25_173440_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="initial bug console report">
&lt;/a>
&lt;figcaption>initial bug console report&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="debugging">Debugging&lt;/h2>
&lt;p>adding breakpoint on line 458 of &lt;code>my_tod_pretraining.py&lt;/code>, and use &lt;code>F11:Step into&lt;/code> to dig into the situation.&lt;/p>
&lt;p>It says that forward() function meets an unexpected argument relating to variable &amp;lsquo;label&amp;rsquo;. Comparing values of &amp;lsquo;label&amp;rsquo; in different env:
&lt;figure
class="gallery-image"
style="
flex-grow: 38;
flex-basis: 91px"
>
&lt;a href="https://comfluter.life/p/debugging-tod-bert-with-vscode/cpu.png" data-size="432x1128">
&lt;img src="https://comfluter.life/p/debugging-tod-bert-with-vscode/cpu.png"
width="432"
height="1128"
srcset="https://comfluter.life/p/debugging-tod-bert-with-vscode/cpu_hu2ccd50e8ccb3f6d7c28e2896de8a49c6_162685_480x0_resize_box_3.png 480w, https://comfluter.life/p/debugging-tod-bert-with-vscode/cpu_hu2ccd50e8ccb3f6d7c28e2896de8a49c6_162685_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CPU">
&lt;/a>
&lt;figcaption>CPU&lt;/figcaption>
&lt;/figure> &lt;figure
class="gallery-image"
style="
flex-grow: 48;
flex-basis: 116px"
>
&lt;a href="https://comfluter.life/p/debugging-tod-bert-with-vscode/cuda.png" data-size="680x1396">
&lt;img src="https://comfluter.life/p/debugging-tod-bert-with-vscode/cuda.png"
width="680"
height="1396"
srcset="https://comfluter.life/p/debugging-tod-bert-with-vscode/cuda_hu69eb1059b4ade4d34be7daadc186eb26_149198_480x0_resize_box_3.png 480w, https://comfluter.life/p/debugging-tod-bert-with-vscode/cuda_hu69eb1059b4ade4d34be7daadc186eb26_149198_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CUDA">
&lt;/a>
&lt;figcaption>CUDA&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Following an answer on stackoverflow, change the argument name from &amp;ldquo;masked_lm_labels&amp;rdquo; to &amp;ldquo;labels&amp;rdquo;. It solved the TypeError problem. But the training process would be killed unexpectedly without warning or any log information.&lt;/p></description></item><item><title>化性起伪——荀子的礼学思想</title><link>https://comfluter.life/p/%E5%8C%96%E6%80%A7%E8%B5%B7%E4%BC%AA%E8%8D%80%E5%AD%90%E7%9A%84%E7%A4%BC%E5%AD%A6%E6%80%9D%E6%83%B3/</link><pubDate>Wed, 08 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%8C%96%E6%80%A7%E8%B5%B7%E4%BC%AA%E8%8D%80%E5%AD%90%E7%9A%84%E7%A4%BC%E5%AD%A6%E6%80%9D%E6%83%B3/</guid><description>&lt;p>唐宋以前，中国思想笼罩在荀子的思想之下。注重礼（外在表现），唐宋以后才转为仁。&lt;/p>
&lt;p>荀子学生：&lt;/p>
&lt;ul>
&lt;li>李斯&lt;/li>
&lt;li>韩非&lt;/li>
&lt;li>浮丘伯
&lt;ul>
&lt;li>申培&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>荀子的礼学讲得很好。&lt;/p>
&lt;p>刘毓璜《先秦诸子初探》：个性极强、作为革命者试图沟通马克思主义与先秦诸子。七十有余在南大讲课时&lt;/p>
&lt;h2 id="参考书目">参考书目&lt;/h2>
&lt;p>王先谦《荀子集解》&lt;/p>
&lt;h2 id="荀子的生平">荀子的生平&lt;/h2>
&lt;blockquote>
&lt;p>《史記·孟子荀卿列傳》: 荀卿，趙人。年五十始來游學於齊。騶衍之術迂大而閎辯；奭也文具難施【按，騶奭者，齊諸騶子，亦頗采騶衍之術以紀文】；淳于髡久與處，時有得善言。故齊人頌曰：「談天衍，雕龍奭，炙轂過髡。」田駢之屬皆已死齊襄王時，而荀卿最為老師。齊尚修列大夫之缺，而荀卿三為祭酒焉。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>齊人或讒荀卿，荀卿乃適楚，而春申君以為蘭陵令。春申君死而荀卿廢，因家蘭陵。李斯嘗為弟子，已而相秦。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>荀卿嫉濁世之政，亡國亂君相屬，不遂大道而營於巫祝，信禨祥，鄙儒小拘，如莊周等又猾稽亂俗，於是推儒、墨、道德之行事興壞，序列著數萬言而卒。因葬蘭陵。&lt;/p>
&lt;/blockquote>
&lt;p>战国时期赵人，传说曾在赵王前论军事。为数不多的到过秦国的先秦诸子。《韩非子·初见秦》一般认为是荀子文章。年50游学于齐。稷下学宫学者文集：《管子》。荀子多被选为稷下学宫祭酒。&lt;/p>
&lt;p>老师：老：纯粹，师：有师法&lt;/p>
&lt;h3 id="关于荀子生平的考证">关于荀子生平的考证&lt;/h3>
&lt;p>若荀子生平考证可靠，则其生活的下限接近秦始皇统一天下。&lt;/p>
&lt;blockquote>
&lt;p>《盐铁论》：李斯相秦，荀卿为之不食。&lt;/p>
&lt;/blockquote>
&lt;p>一般认为荀子逝世接近秦朝建立之时。&lt;/p>
&lt;p>荀子生活在戰國晚期，得見儒、墨、道（道德、莊周）諸家學說。荀子的學術本身受時代影響，帶有&lt;strong>綜合&lt;/strong>的傾向。回应当时时代的大思潮。&lt;/p>
&lt;ul>
&lt;li>荀子文本第一篇：劝学。荀子对着庄子的马蹄篇讲的。&lt;/li>
&lt;li>性恶：对着孟子的性善论讲的。&lt;/li>
&lt;/ul>
&lt;h2 id="荀子的文本">荀子的文本&lt;/h2>
&lt;ul>
&lt;li>《漢書•藝文志》&lt;/li>
&lt;li>诸子略儒家类，著錄《孫卿子》三十三篇。今存三十二篇。&lt;/li>
&lt;li>又詩賦，亦列荀子。&lt;/li>
&lt;/ul>
&lt;h2 id="荀子的人性论">荀子的人性论&lt;/h2>
&lt;p>3种人性论：&lt;/p>
&lt;ol>
&lt;li>积极人性论：认为人性是美好光明的。代表：儒家孟子性善论、王阳明心善论。&lt;/li>
&lt;li>消极人性论：代表：法家韩非子、道家庄子
&lt;ul>
&lt;li>一般人理解人性的恶：人性由欲望所驱动。（韩非子）&lt;/li>
&lt;li>庄子理解人性的黑暗：来自于人的主观、来自人的自作聪明、来自于人的这种自私。《齐物论》中讲人生下来就尝试用自己的感官理解这个世界。&lt;em>人类社会的黑暗在于依据自己的经验判断赋予这个社会以价值意义。&lt;/em>
&lt;ul>
&lt;li>圣人设计的制度，才与不才均不可幸免。人在社会中越是挣扎，越是用小聪明试图改变社会，越是容易引来更大的灾难。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>自然人性论：人的本质是空的，白纸。受后世经验影响很大。&lt;/li>
&lt;/ol>
&lt;p>武老师个人感受：中国人和人关系在近三十年来变得大不相同。人与人之间的原则以交易为本。交易以欲往为本。人与人之间的“获得”充斥着消极人性论。中国传统文化中应当为非常积极的人性论氛围。&lt;/p>
&lt;p>对人性无信心，人与动物有什么区别？&lt;/p>
&lt;h3 id="对自然的看法">对自然的看法&lt;/h3>
&lt;p>与儒家大不相同。孔子：给信仰的东西保留领地，同时不利用这份领地。“敬鬼神而远之”&lt;/p>
&lt;blockquote>
&lt;p>天行有常，不为尧存，不为纣亡。应之以治则吉，应之以乱则凶&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>道德与自然无关系。&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>《非相》：相形不如论心，论心不如择术。&lt;/p>
&lt;/blockquote>
&lt;p>战国迷信风尚、神异主义色彩浓厚。人们对自己命运所向毫无把握。&lt;/p>
&lt;p>但荀子认为人的一生最终在于自己选择的结果。不相信天命、宿命的决定论，不相信道德的最后依据在于天。&lt;/p>
&lt;h3 id="性">性&lt;/h3>
&lt;p>荀子所谓的人性就是所有人都具备的动物性：&lt;/p>
&lt;blockquote>
&lt;p>《荣辱》：凡人有所一同。饑而欲食，寒而欲暖，勞而欲息，好利而惡害。是人之所生而有也，是無待而然者也，是禹桀之所同也。&lt;/p>
&lt;/blockquote>
&lt;p>此判断与孟子的判断有错位。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>孟子&lt;/th>
&lt;th>荀子&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>动物&lt;/td>
&lt;td>动物：人性，论证其恶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>精神：人性，论证其善，与身俱来的。&lt;/td>
&lt;td>精神：后天可塑、习得的&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>荀子不是典型的性恶论者。&lt;/p>
&lt;blockquote>
&lt;p>目辨白黑美惡，耳辨音聲清濁，口辨酸鹹甘苦，鼻辨芬芳腥臊，骨體膚理辨寒暑疾養。是又人之所生而有也，&lt;strong>是無待而然者也，是禹桀之所同也&lt;/strong>。可以為堯禹，可以為桀，可以為工匠，可以為農賈，&lt;strong>在執注錯習俗之所積耳&lt;/strong>。湯武存則天下從而治，桀紂存則天下從而亂，如是者豈非人之情固可與如此，可與如彼也哉？&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>**材性知能，君子小人一也。**好榮惡辱，好利惡害，是君子小人之所同也。人之生固小人，無師無法則唯利之見耳。堯禹者，非生而具者也，&lt;strong>夫起于變故，成乎修為，待盡而後備者也。&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;p>荀子认为一个人精神层面的内容是后天可塑、后天习得的。&lt;/p>
&lt;p>后天可塑：**变故修为。**改变过去的习惯，修行自己的行为。&lt;/p>
&lt;blockquote>
&lt;p>《正名》：“性者，天之就也；情者，性之質也；欲者，情之應也。”&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>《正名》：“天生之所以然謂之性。生之和所生，精合感應，不事而自然，謂之性。性之好惡喜怒哀樂，謂之情。情然，而心為之擇，謂之慮。心慮而能為之動，謂之偽。”&lt;/p>
&lt;/blockquote>
&lt;h3 id="性与伪的关系">性与伪的关系&lt;/h3>
&lt;blockquote>
&lt;p>《禮論》：&lt;strong>“性者本始材樸也，偽者文理隆盛也，無性，則偽之無所加，無偽，則性不能自美。”&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;p>所有本始材朴（天然）都是不美的。所有美都是经过后天加工的。例证：《劝学》第一段。&lt;/p>
&lt;blockquote>
&lt;p>《儒效》“不聞不若聞之，聞之不若見之，見之不若知之，知之不若行之。學至於行之而止矣。行之，明也。明之為聖人。聖人也者，本仁義，當是非，齊言行，不失毫釐，無它道焉，已乎行之矣。故聞之而不見，雖博必謬；見之而不知，雖識必妄；知之而不行，雖敦必困。不聞不見，則雖當，非仁也，其道百舉而百陷也。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 185;
flex-basis: 445px"
>
&lt;a href="https://comfluter.life/p/%E5%8C%96%E6%80%A7%E8%B5%B7%E4%BC%AA%E8%8D%80%E5%AD%90%E7%9A%84%E7%A4%BC%E5%AD%A6%E6%80%9D%E6%83%B3/1.jpg" data-size="640x345">
&lt;img src="https://comfluter.life/p/%E5%8C%96%E6%80%A7%E8%B5%B7%E4%BC%AA%E8%8D%80%E5%AD%90%E7%9A%84%E7%A4%BC%E5%AD%A6%E6%80%9D%E6%83%B3/1.jpg"
width="640"
height="345"
srcset="https://comfluter.life/p/%E5%8C%96%E6%80%A7%E8%B5%B7%E4%BC%AA%E8%8D%80%E5%AD%90%E7%9A%84%E7%A4%BC%E5%AD%A6%E6%80%9D%E6%83%B3/1_hu9fd5fa39ccf844cfac13315a89fe64e0_35650_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%8C%96%E6%80%A7%E8%B5%B7%E4%BC%AA%E8%8D%80%E5%AD%90%E7%9A%84%E7%A4%BC%E5%AD%A6%E6%80%9D%E6%83%B3/1_hu9fd5fa39ccf844cfac13315a89fe64e0_35650_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="礼伪结构">
&lt;/a>
&lt;figcaption>礼伪结构&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="荀子的礼乐论">荀子的礼乐论&lt;/h2>
&lt;h3 id="礼的本源">礼的本源：&lt;/h3>
&lt;blockquote>
&lt;p>《说文解字》“礼，履也。所以事神致福也，从示从丰。”&lt;/p>
&lt;/blockquote>
&lt;p>先秦：礼乐的文化属性为主，制度属性为次。&lt;/p>
&lt;p>但&lt;strong>荀子之礼就是制度&lt;/strong>&lt;/p>
&lt;h3 id="荀子的礼的起源说">荀子的礼的起源说&lt;/h3>
&lt;p>欲分说：&lt;/p>
&lt;blockquote>
&lt;p>“礼起于何也？曰：人生而有欲，欲而不得，则不能无求，求而无度量分界，则不能不争。争则乱，乱则穷。**先王恶其乱也，故制礼义以分之，以养人之欲，给人之求。**使欲必不穷乎物，物必不屈于欲，两者相持而长，是礼之所起也。”&lt;/p>
&lt;/blockquote>
&lt;p>礼的起源在于限定而满足人的欲望。完全制度性的产物。荀子对于礼的定义与法家对于法的定义相通。法：权利与义务的具体归属。&lt;/p>
&lt;p>礼满足人的需求的途径：养说：&lt;/p>
&lt;blockquote>
&lt;p>“故礼者养也。刍豢稻粱，五味调香，所以养口也；椒兰芬苾，所以养鼻也 ；雕琢刻镂黼黻文章，所以养目也；钟鼓管磬琴瑟竽笙，所以养耳也；疏房檖貌越席床笫几筵，所以养体也。”&lt;/p>
&lt;/blockquote>
&lt;h3 id="荀子的人性论对于礼论的影响">荀子的人性论对于礼论的影响&lt;/h3>
&lt;blockquote>
&lt;p>《性恶》：“今人之性，生而有好利焉，顺是，故争夺生而辞让亡焉；生而有疾恶焉，顺是，故残贼生而忠信亡焉；生而有耳目之欲、有好声色焉，顺是，故淫乱生而礼义文理亡焉。然则从人之性，顺人之情，必出于争夺，合于犯分乱理而归于暴。”&lt;/p>
&lt;/blockquote>
&lt;p>欲向伪：礼；向性：暴。礼乐是为了矫正人性的。&lt;/p>
&lt;p>与法家想法接近。&lt;/p>
&lt;h3 id="礼的形成教与学">礼的形成：教与学&lt;/h3>
&lt;blockquote>
&lt;p>《荀子•劝学》：干越夷貉之子，生而同声，长而异俗，教使之然也。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>《荀子•劝学》：青，取之于蓝，而青于蓝；冰，水为之，而寒于水。……积土成山，风雨兴焉；积水成渊，蛟龙生焉；积善成德，而神明自得，圣心备焉”。 ……故学数有终，若其义则不可须臾舍也。为之，人也；舍之，禽兽也 。&lt;/p>
&lt;/blockquote>
&lt;p>人之所以成人在于学习、读书。&lt;/p>
&lt;p>问题：经不起宋明理学、心学的诘问：&lt;/p>
&lt;ul>
&lt;li>尧舜读什么书？&lt;/li>
&lt;li>礼应当有谁来制定？&lt;/li>
&lt;/ul>
&lt;p>荀子：礼应当由圣王而制定。但若如此，人世间的规则在于早生之聪明人编出来的。&lt;/p>
&lt;h2 id="荀子的政治思想">荀子的政治思想&lt;/h2>
&lt;p>独特。&lt;/p>
&lt;h3 id="传统法家意义上的官僚制度理想">传统法家意义上的官僚制度理想&lt;/h3>
&lt;p>体现先王制定的法度&lt;/p>
&lt;ol>
&lt;li>以等级组织，将所有人编排起来。等级没有世袭，其获得取决于个人的能力，以及国家根据个人的能力给予的安排。
&lt;ol>
&lt;li>这一点上与商鞅无区别&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>按照新的等级组织，分配社会资源。&lt;/li>
&lt;li>以赏罚制度，维护等级制度的权威。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>《荀子·王制》：请问为政？曰：贤能不待次而举，罢不能不待须而废，元恶不待教而诛，中庸不待政而化。分未定也，则有昭缪。&amp;hellip;故奸言、奸说、奸事、奸能、遁逃。反侧之民，职而教之，须而待之；勉之以庆赏，惩之以刑罚，安职则畜，不安职则弃。五疾，上收而养之，材而事之，官施而衣食之，**兼覆无遗。才行反时者，死无赦。**夫是之谓天德，是王者之政也。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>兼覆无遗&lt;/strong>：荀子新创。理想社会：&lt;strong>“覆盂”&lt;/strong>。中国古代社会：无限责任权利义务关系。&lt;/p>
&lt;h3 id="荀子儒学观念下的政治构想">荀子儒学观念下的政治构想&lt;/h3>
&lt;ol>
&lt;li>主张国家制度安排一切，编排所有人。但集权下的等级安排，一部分应来自于民间习俗和伦理关系。&lt;/li>
&lt;li>“隆礼进士，尚贤使能”。在编排社会等级的时候，*着重考虑德性、学问、超越功利的技术能力。*德性的来源是诗书文献，旧的传统。是国家权力之外的依据。&lt;/li>
&lt;li>集权和制度设计，其操控者是谁？荀子期待设想中的圣王出现。圣王：&lt;strong>尽伦尽制&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>圣王：&lt;/p>
&lt;ul>
&lt;li>道德上：尽伦。可以为师。极致：圣&lt;/li>
&lt;li>行为上：尽制。可以为君。极致：王&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>尽伦尽制、君师合一、既圣且王&lt;/strong>&lt;/p>
&lt;p>有这样的人才能行这样的事。这样的人比孔子还伟大。&lt;/p>
&lt;h3 id="以礼义壹民议兵">以礼义“壹民”（《议兵》）&lt;/h3>
&lt;blockquote>
&lt;p>臣所闻古之道，凡用兵攻战之本，在乎壹民。……故善附民者，是乃善用兵者也。故兵要在乎善附民而已。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>秦人其生民陿阸，其使民也酷烈，劫之以埶，隐之以阨，忸之以庆赏，酋之以刑罚，使天下之民所以要利于上者，非斗无由也。阨而用之，得而后功之，功赏相长也，五甲首而隶五家，是最为众强长久，多地以正，故四世有胜，非幸也，数也。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>礼者，治辨之极也，强固之本也，威行之道也，功名之总也。王公由之，所以得天下也，不由，所以陨社稷也。故坚甲利兵不足以为胜，高城深池不足以为固，严令繁刑不足以为威。由其道则行，不由其道则废。&lt;/p>
&lt;/blockquote>
&lt;p>一：中国古代文法专治。&lt;/p>
&lt;h2 id="大一统的期待">大一统的期待&lt;/h2>
&lt;p>“器与名不可以假人。”&lt;/p>
&lt;p>儒家的大一统，子思、孟子、荀子都谈，是&lt;em>理念上&lt;/em>的。秦汉之际法家也在谈，是&lt;em>技术上&lt;/em>如何做到的问题。&lt;/p>
&lt;p>荀子既有理念，又有技术。&lt;/p>
&lt;p>背景：&lt;/p>
&lt;ol>
&lt;li>既有礼乐文化下对于周初的回归和憧憬。&lt;/li>
&lt;li>战国时代军事联盟政治的现实考量。&lt;/li>
&lt;li>多数人眼中，是解决战争灾难的最好方案。
&lt;ol>
&lt;li>春秋霸政崩溃后，和平共处的解决方案不再可行。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="总结">总结&lt;/h2>
&lt;p>虽然有许多与法家相近的内容，但是认为最终还是在于人。&lt;/p>
&lt;p>十二字箴言：&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>有治人，无治法。有乱君，无乱国。&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;p>强调人、君。并不认为制度是最重要的。好的国家、制度最终还在于培养出君子。&lt;/p>
&lt;p>考核：课本中任选一组、一篇文章写读书笔记。不少于3000字。期限在放假后一周左右。&lt;/p>
&lt;p>读书笔记写法参考：《学术训练与学术规范：中国古代史研究入门》&lt;/p></description></item><item><title>Adaptive Photoreceptor with Wide Dynamic Range</title><link>https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/</link><pubDate>Tue, 07 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/</guid><description>&lt;img src="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/2.jpg" alt="Featured image of post Adaptive Photoreceptor with Wide Dynamic Range" />&lt;h2 id="circuit-prototype">Circuit Prototype&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 51;
flex-basis: 124px"
>
&lt;a href="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/1.jpg" data-size="249x480">
&lt;img src="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/1.jpg"
width="249"
height="480"
srcset="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/1_hueec27711be4cbf9b88f7037f4431b586_16373_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/1_hueec27711be4cbf9b88f7037f4431b586_16373_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>The gain is $V=\frac{kT}{q}=25.4$ mV per e-fold intensity change.&lt;/p>
&lt;p>Deficient in 2 respects:&lt;/p>
&lt;ol>
&lt;li>High signal offset&lt;/li>
&lt;li>Slow response&lt;/li>
&lt;/ol>
&lt;h2 id="advanced-circuit">Advanced circuit&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 191;
flex-basis: 459px"
>
&lt;a href="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/2.jpg" data-size="919x480">
&lt;img src="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/2.jpg"
width="919"
height="480"
srcset="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/2_hu45083fbefb3cfc2ab04ea1474729dfa9_70951_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/2_hu45083fbefb3cfc2ab04ea1474729dfa9_70951_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;ul>
&lt;li>left side: source follower&lt;/li>
&lt;li>lowpass feedback&lt;/li>
&lt;li>internal adaptive learning model to predict the input signal.&lt;/li>
&lt;li>output: the comparison of the input signal and prediction.&lt;/li>
&lt;/ul>
&lt;p>Right side: Comparison model&lt;/p>
&lt;ul>
&lt;li>$Q_n, Q_{cas}, Q_{p}$ consist a &lt;em>inverting amplifier&lt;/em> for feedback.&lt;/li>
&lt;li>$V_b$: determines the &lt;em>cutoff frequency&lt;/em> for receptor, by setting the bias current.&lt;/li>
&lt;li>$Q_{cas}$: &lt;em>cascode&lt;/em> which nullifies the Miller capacitance&lt;/li>
&lt;li>feedback loop: adaptive element and capacitor $C_1$ and $C_2$&lt;/li>
&lt;/ul>
&lt;h2 id="circuit-performance">Circuit Performance&lt;/h2>
&lt;p>Steady-state closed-loop gain:
$$
\frac{\frac{v_o}{V_T}}{\frac{i}{l_{bg}}} = \frac{1}{\kappa}
$$&lt;/p>
&lt;p>Transient closed-loop gain:
$$
A_{cl} \equiv \frac{\frac{v_o}{V_T}}{\frac{i}{l_{bg}}} = \frac{1}{\kappa} \frac{C_1+C_2}{C_2}
$$&lt;/p>
&lt;p>Time constant of the receptor:(baseline speed)
$$
\tau_{in} = \frac{C}{g} = \frac{C V_T}{I_{bg}}
$$&lt;/p>
&lt;p>The speedup obtained by using the active feedback to clamp the input node is given by:
$$
A_{loop} = \frac{A_{amp}}{A_{cl}}
$$&lt;/p>
&lt;p>The total receptor noise in dimensionlessinput-referred units is given by:
$$
\frac{\Delta i^2}{I_{bg}^{2}} = \frac{q}{C_{eff}V_T}
$$
where $C_{eff}$ is the effective input capacitance including the effect of total loop gain&lt;/p>
&lt;p>The spectral density of the noise within the passband is given by a simple computa-
tion involving the first-order low-pass filter at the input:(noise spectral density)
$$
S = \frac{4q}{I_{bg}}
$$&lt;/p>
&lt;p>Second-order temporal effects:&lt;/p>
&lt;p>A second-order time-domain analysis reveals that in order for the receptor to be a first-order system (i.e. produce a non-ringing response to a step input), the output-node time constant of the feedback amplifier must be faster than the input node time constant by a factor of $A_{loop}$. However, since the maximum Q of the circuit only scales as $\sqrt{A_{loop}}$, a large bias current may not be essential. We usually tolerate some resonance in return for filtering out flicker from artificial lighting and reducing noise at high intensities.&lt;/p>
&lt;p>Dynamic Range:&lt;/p>
&lt;p>The usable bandwidth of the receptor is proportional to the intensity. The receptor has a bandwidth of at least 60Hz (like human photopic vision) down to an irradiance of about 1 mW/m^2. This irradiance corresponds to an illuminance of about 1 lux for 555 nm (yellow) photons.&lt;/p>
&lt;h2 id="receptor-characteristics">Receptor Characteristics&lt;/h2>
&lt;ul>
&lt;li>The amplitude of the response to the small contrast variation is almost invariant to the absolute intensity, owing to the logarithmic response property. The adaptation makes the receptor have high gain for rapidly varying intensities and low gain for slowly varying intensities. A careful examination shows that the receptor adapts very rapidly in response to the decade changes in intensity. This rapid adaptation is due to the use of an adaptive element with an expansive nonlinearity.&lt;/li>
&lt;li>Adaptation occurs when charge is transferred through the adaptive element onto or off the storage capacitor.The adaptive element acts like a pair of diodes, in parallel, with opposite polarity. The current increases exponentially with voltage for either sign of voltage, and there is an extremely high-resistance region around the origin, as shown in Figure 4. The I-V relationship of the expansive element means that the effective resistance of the element is huge for small signals and small for large signals. Hence, the adaptation is slow for small signals and fast for large signals.
&lt;ul>
&lt;li>&lt;figure
class="gallery-image"
style="
flex-grow: 273;
flex-basis: 655px"
>
&lt;a href="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/3.jpg" data-size="800x293">
&lt;img src="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/3.jpg"
width="800"
height="293"
srcset="https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/3_hu31795e34927421f0af849794c7eff911_50658_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/adaptive-photoreceptor-with-wide-dynamic-range/3_hu31795e34927421f0af849794c7eff911_50658_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/li>
&lt;li>This behavior is useful, because it means that the receptor can adapt quickly to a large change in conditions-say, moving from shadow into sunlight-while maintaining high sensitivity to small and slowly varying signals&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="source">Source&lt;/h2>
&lt;p>DOI: &lt;code>10.1109/iscas.1994.409266&lt;/code>
Ref: &lt;code>DELBRUCK, T. &amp;amp; MEAD, C. A. Adaptive photoreceptor with wide dynamic range. IEEE.&lt;/code>&lt;/p></description></item><item><title>OpenCV 学习随记</title><link>https://comfluter.life/p/opencv-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Tue, 07 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/opencv-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>&lt;code>pip install opencv-python&lt;/code>&lt;/p>
&lt;h2 id="reading-and-saving-images">Reading and Saving Images&lt;/h2>
&lt;p>函数 &lt;code>cv2.imwrite()&lt;/code>用于将图像保存到指定的文件&lt;/p>
&lt;blockquote>
&lt;p>retval = cv2.imwrite(filename, img [, paras])&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>cv2.imwrite() 将 OpenCV 图像保存到指定的文件。&lt;/li>
&lt;li>cv2.imwrite() 基于保存文件的扩展名选择保存图像的格式。&lt;/li>
&lt;li>cv2.imwrite() 只能保存 BGR 3通道图像，或 8 位单通道图像、或 PNG/JPEG/TIFF 16位无符号单通道图像。&lt;/li>
&lt;/ul>
&lt;h3 id="arguments">Arguments&lt;/h3>
&lt;ul>
&lt;li>filename：要保存的文件的路径和名称，包括文件扩展名&lt;/li>
&lt;li>img：要保存的 OpenCV 图像，nparray 多维数组&lt;/li>
&lt;li>paras：不同编码格式的参数，可选项
&lt;ul>
&lt;li>cv2.CV_IMWRITE_JPEG_QUALITY：设置 .jpeg/.jpg 格式的图片质量，取值为 0-100（默认值 95），数值越大则图片质量越高；&lt;/li>
&lt;li>cv2.CV_IMWRITE_WEBP_QUALITY：设置 .webp 格式的图片质量，取值为 0-100；&lt;/li>
&lt;li>cv2.CV_IMWRITE_PNG_COMPRESSION：设置 .png 格式图片的压缩比，取值为 0-9（默认值 3），数值越大则压缩比越大。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>retval：返回值，保存成功返回 True，否则返回 False。&lt;/li>
&lt;/ul>
&lt;h3 id="notice">Notice&lt;/h3>
&lt;ul>
&lt;li>cv2.imwrite() 保存的是 OpenCV 图像（多维数组），不是 cv2.imread() 读取的图像文件，所保存的文件格式是由 filename 的扩展名决定的，与读取的图像文件的格式无关。&lt;/li>
&lt;li>对 4 通道 BGRA 图像，可以使用 Alpha 通道保存为 PNG 图像。&lt;/li>
&lt;li>cv2.imwrite() 指定图片的存储路径和文件名，在 python3 中不支持中文和空格（但并不会报错）。必须使用中文时，可以使用 cv2.imencode() 处理，参见扩展例程。&lt;/li>
&lt;/ul>
&lt;h3 id="examples">Examples&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="c1"># 1.4 图像的保存&lt;/span>
&lt;span class="n">imgFile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;../images/logoCV.png&amp;#34;&lt;/span> &lt;span class="c1"># 读取文件的路径&lt;/span>
&lt;span class="n">img3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">imgFile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">flags&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># flags=1 读取彩色图像(BGR)&lt;/span>
&lt;span class="n">saveFile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;../images/imgSave.png&amp;#34;&lt;/span> &lt;span class="c1"># 保存文件的路径&lt;/span>
&lt;span class="c1"># cv2.imwrite(saveFile, img3, [int(cv2.IMWRITE_PNG_COMPRESSION), 8]) # 保存图像文件, 设置压缩比为 8&lt;/span>
&lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imwrite&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">saveFile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">img3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 保存图像文件&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="c1"># 1.5 保存中文路径的图像&lt;/span>
&lt;span class="n">imgFile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;../images/logoCV.png&amp;#34;&lt;/span> &lt;span class="c1"># 读取文件的路径&lt;/span>
&lt;span class="n">img3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">imgFile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">flags&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># flags=1 读取彩色图像(BGR)&lt;/span>
&lt;span class="n">saveFile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;../images/测试图02.jpg&amp;#34;&lt;/span> &lt;span class="c1"># 带有中文的保存文件路径&lt;/span>
&lt;span class="c1"># cv2.imwrite(saveFile, img3) # imwrite 不支持中文路径和文件名，读取失败，但不会报错!&lt;/span>
&lt;span class="n">img_write&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imencode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.jpg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">img3&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tofile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">saveFile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="debug">Debug&lt;/h3>
&lt;blockquote>
&lt;p>OpenCv error: (-2) could not find a writer for the specified extension in function cv::imwrite_&lt;/p>
&lt;/blockquote>
&lt;p>Didn&amp;rsquo;t specify the extension name for the image to be saved so that OpenCv cannot tell which encoder to use.&lt;/p></description></item><item><title>大创对话系统21.12.06组会</title><link>https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.12.06%E7%BB%84%E4%BC%9A/</link><pubDate>Mon, 06 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.12.06%E7%BB%84%E4%BC%9A/</guid><description>&lt;h2 id="任务">任务&lt;/h2>
&lt;ul>
&lt;li>断点调试：解决training时参数错误的TypeError
&lt;ul>
&lt;li>使用vscode中&lt;code>launch.json&lt;/code>加入args参数&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="问题">问题&lt;/h2>
&lt;ul>
&lt;li>ToD-BERT模型适用性？&lt;/li>
&lt;li>数据搬运是否是性能瓶颈？&lt;/li>
&lt;/ul></description></item><item><title>《庄子》摘录</title><link>https://comfluter.life/p/%E5%BA%84%E5%AD%90%E6%91%98%E5%BD%95/</link><pubDate>Sat, 04 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%BA%84%E5%AD%90%E6%91%98%E5%BD%95/</guid><description>&lt;h2 id="逍遥游">《逍遥游》&lt;/h2>
&lt;blockquote>
&lt;p>而后乃今培风&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>清末胡林翼：办大事，以集才集气集势为要。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>蜩与学鸠笑之曰：“我决起而飞，抢榆枋而止，时则不至，而控于地而已矣，奚以之九万里而南为？”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>日本福永光司说：“蜩与学鸠，总是嘲笑一切伟大者，他们到底只是些‘侏儒之群’而已。”&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>之二虫有何知？&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>明陈深：“教人把胸襟识见，扩充一步，不得以所知所历者而自足也。”&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>有鸟焉，其名为鹏，背若泰山，翼若垂天之云；抟扶摇羊角而上者九万里，绝云气，负青天，然后图南，且适南冥也。斥鷃笑之曰：‘彼且奚适也？我腾跃而上，不过数仞而下，翱翔蓬蒿之间，此亦飞之至也。而彼且奚适也？’”此小大之辩也。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>王博说：“在鲲鹏的语言中，关键的问题不在于知识，而是眼界，或者人们习惯说的境界。”&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>故夫知效一官、行比一乡、德合一君、而征一国者，其自视也，亦若此矣。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>福永光司说：“这些人就是那些枪上榆枋又投回地面的学鸠，就是那在习惯与惰性之中频频鼓着翅膀的蜩。”他们安住在常识层面的价值与规范之世界，将这一角世界当做世界之全，而埋没其中。他们毕竟与自己原系何种存在，人之“应然”为何，人之根源的真实生涯是何物这等问题全不相及。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>彼于致福者，未数数然也。此虽免乎行，犹有所待者也。若夫乘天地之正，而御六气之辩，以游无穷者，彼且恶乎待哉？故曰：至人无己，神人无功，圣人无名。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>有所待：有所依待。即有所拘束，致精神不得自主，心灵不得安放。&lt;/li>
&lt;li>徐复观先生说：“人生之所以受压迫，不自由，乃由于自己不能支配自己，而须受外力的牵连。受外力的牵连，即会受到外力的限制甚至支配。这种牵连，称之为‘待’。”&lt;/li>
&lt;li>徐复观先生说：“乘天地之正，郭象以为‘即是顺万物之性’&amp;hellip;&amp;hellip;然之所以不能顺万物之性，主要是来自物我之对立。在物我对立中，人情总是以自己作为衡量万物的标准，因而发生是非好恶之情，给万物以有形无形的干扰，自己也会同时感到处处受到外物的牵挂，凝滞。”&lt;/li>
&lt;li>恶乎待哉：方东美先生说：“一个人要真正获得精神自由，必须‘无待’！那么怎样可以无待呢？就是从事这个生活的人自己要有一个使命，要在自己的生命宇宙里面，自作主宰。”&lt;/li>
&lt;li>无己：指没有偏执的我见，即去除自我中心，亦即扬弃为功名束缚的小我，而臻至与天地精神往来的境界。徐复观先生说：“庄子的‘无己’，与慎到的‘去己’，是有分别的。总说一句，慎到的‘去己’，是一去百去，而庄子的‘无己’，让自己的精神，从形骸中突破出来，而上升到自己与万物相通的根源之地。”&lt;/li>
&lt;li>方东美先生说：“庄子同一般世俗的英雄不同，他所谓的‘真人’、‘至人’、‘神人’，并没有这种精神的优越感，也没有这种小我的观点，也就是说他并没有划一道鸿沟，把自己和宇宙隔离开来，把自己和一般人隔离开来！这就说所谓的‘至人无己，神人无功，圣人无名。’。”&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>瞽者无以与乎文章之观，聋者无以与乎钟鼓之声。岂唯形骸有聋盲哉？夫知亦有之！&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>之人也，之德也，将旁礴万物以为一，世蕲乎乱，孰弊弊焉以天下为事！之人也，物莫之伤：大浸稽天而不溺，大旱金石流，土山焦而不热。是其尘垢秕糠将犹陶铸尧舜者也，孰肯以物为事？&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>世蕲乎乱，意指世人争功求名，纷纷扰扰，党派倾轧，勾心斗角，所以说求乱不已。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>尧治天下之民，平海内之政，往见四子藐姑射之山，汾水之阳，窅然丧其天下焉。&lt;/p>
&lt;/blockquote></description></item><item><title>《中国人性论史·先秦篇》读书笔记</title><link>https://comfluter.life/p/%E4%B8%AD%E5%9B%BD%E4%BA%BA%E6%80%A7%E8%AE%BA%E5%8F%B2%E5%85%88%E7%A7%A6%E7%AF%87%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</link><pubDate>Fri, 03 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E4%B8%AD%E5%9B%BD%E4%BA%BA%E6%80%A7%E8%AE%BA%E5%8F%B2%E5%85%88%E7%A7%A6%E7%AF%87%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</guid><description>&lt;h2 id="第五章-从命到性中庸的性命思想">第五章 从命到性——《中庸》的性命思想&lt;/h2>
&lt;p>中庸应当分为上、下两篇来加以理解。由第一章到第二十章前半段为上篇，主要解决孔子实践性的伦常之教，和性与天道的关系，解决这三者如何关联在一起的问题。&lt;/p>
&lt;p>讲中庸，首先要对中庸概念本身作一理解。不偏谓之中，不易谓之庸。庸也有“用”、“平常”之意，其精神与“不易”是相通的。庸行见于人伦日用的平常当中，具有普遍的妥当性，因此才能长久践行而不易。中庸的具体内容，即忠恕。尽心之谓中，推己之谓恕。此为内在的精神，指导日常生活中庸言庸行的实践。&lt;/p></description></item><item><title>《大学》摘录</title><link>https://comfluter.life/p/%E5%A4%A7%E5%AD%A6%E6%91%98%E5%BD%95/</link><pubDate>Fri, 03 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%A4%A7%E5%AD%A6%E6%91%98%E5%BD%95/</guid><description>&lt;p>大学之道，在明明德，在亲民，在止于至善。知止而后能定，定而后能静，静而后能安，安而后能虑，虑而后能得。物有本末，事有始终，知所先后，则近道矣。古之欲明明德于天下者，先治其国；欲治其国者，先齐其家；欲齐其家者，先修其身；欲修其身者，先正其心；欲正其心者，先诚其意；欲诚其意者，先致其知；致知在格物。物格而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平。自天子以至于庶人，壹是皆以修身为本。其本乱而末治者，否矣。其所厚者薄，而其所薄者厚，未之有也。此谓知本，此谓知之至也。&lt;/p>
&lt;p>康诰曰：“克明德”。&amp;hellip;帝典曰：“克明俊德”&amp;hellip;&lt;/p>
&lt;p>汤之盤铭曰：“苟日新，日日新，又日新。”康诰曰：“作新民。”诗曰：“周虽旧邦，其命惟新。”是故君子无所不用其极。&lt;/p>
&lt;p>君子贤其贤而亲其亲，小人乐其乐而利其利，此以没世不忘也。&lt;/p>
&lt;p>所谓诚其意者，毋自欺也。如恶恶臭，如好好色，此之谓自谦，故君子必慎其独也！小人闲居为不善，无所不至，见君子而后厌然，掩其不善，而著其善。人之视己，如见其肺肝然，则何益矣。此谓诚于中，形于外，故君子必慎其独也。曾子曰：“十目所视，十手所指，其严乎！”富润屋，德润身，心广体胖，故君子必诚其意。&lt;/p>
&lt;p>《康诰》曰：“如保赤子。”心诚求之，虽不中，不远矣。&amp;hellip;是故君子有诸己而后求诸人，无诸己而后非诸人。&lt;/p>
&lt;p>《诗》云：“乐只君子，民之父母。”民之所好好之，民之所恶恶之，此之谓民之父母。&lt;/p>
&lt;p>德者本也，财者末也。&lt;/p>
&lt;p>是故君子有大道，必忠信以得之，骄泰以失之。&lt;/p></description></item><item><title>《子思子》摘录</title><link>https://comfluter.life/p/%E5%AD%90%E6%80%9D%E5%AD%90%E6%91%98%E5%BD%95/</link><pubDate>Fri, 03 Dec 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%AD%90%E6%80%9D%E5%AD%90%E6%91%98%E5%BD%95/</guid><description>&lt;h2 id="中庸">《中庸》&lt;/h2>
&lt;p>天命谓之性，率性谓之道，修道谓之教。道也者，不可须臾离也，可离非道也。是故君子戒慎乎其所不睹，恐惧乎其所不闻。莫现乎隐，莫显乎微，故君子慎其独也。喜怒哀乐之未发，谓之中；发而皆中节，谓之和。中也者，天下之大本也；和也者，天下之达道也。致中和，天地位焉，万物育焉。&lt;/p>
&lt;p>仲尼曰：“君子中庸，小人反中庸。”君子之中庸也，君子而时中；小人之中庸也，小人而无忌惮也。&lt;/p>
&lt;p>子曰：“舜其大知也与！舜好问而好察迩言，隐恶而扬善，执其两端，用其中于民，其斯以为舜乎！”&lt;/p>
&lt;p>子曰：“天下国家可均也，爵禄可以辞也，白刃可以蹈也，中庸不可能也。”&lt;/p>
&lt;p>子路问强。子曰：“&amp;hellip;故君子和而不流，强哉矫！中立而不倚，强哉矫！国有道，不变塞焉，强哉矫！国无道，至死不变，强哉矫！”&lt;/p>
&lt;p>子曰：“素隐行怪，后世有述焉，吾弗为之矣。君子遵道而行，半途而废，吾弗能已矣。君子依乎中庸，遁世不见知而不悔，唯圣者能之。”&lt;/p>
&lt;p>君子之道费而隐&amp;hellip;天地之大也，人尤有所憾。故君子语大，天下莫能载焉；语小，天下莫能破焉。诗云：“鸢飞戾天，鱼跃于渊。”其言上下察也。君子之道，造端乎夫妇，及其至也，察乎天地。&lt;/p>
&lt;p>子曰：“道不远人。人之为道而远人，不可以为道。”诗云：“伐柯伐柯，其则不远。”执柯以伐柯，睨而视之，犹以为远。故君子治人以人，改而止。&lt;/p>
&lt;p>庸德之行，庸言之谨，有所不足，不敢不勉，有余不敢尽，言顾行，行顾言，君子乎不慥慥尔！&lt;/p>
&lt;p>君子素位而行，不愿乎其外。素富贵，行乎富贵；素贫贱，行乎贫贱；素夷狄，行乎夷狄；素患难，行乎患难，君子无入而不自得焉。在上位不陵下，在下位不援上，正己而不求于人则无怨。上不怨天，下不尤人。故君子居易以俟命，小人行险以侥幸。子曰：“射有似乎君子，失诸正鹄，反求诸其身。”&lt;/p>
&lt;p>君子之道，譬如行远必自迩，譬如登高必自卑。&lt;/p></description></item><item><title>1 Introduction to Programming Languages and Tools of the Trade</title><link>https://comfluter.life/p/1-introduction-to-programming-languages-and-tools-of-the-trade/</link><pubDate>Tue, 30 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/1-introduction-to-programming-languages-and-tools-of-the-trade/</guid><description>&lt;h2 id="vscode-extensions-for-web-development">Vscode extensions for web development&lt;/h2>
&lt;ul>
&lt;li>ESLint
&lt;ul>
&lt;li>Integrates ESLint JavaScript into VS Code.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Prettier
&lt;ul>
&lt;li>JS code formatter&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>JavaScript (ES6) code snippets&lt;/li>
&lt;/ul>
&lt;h2 id="tools">Tools&lt;/h2>
&lt;ul>
&lt;li>Node.JS
&lt;ul>
&lt;li>(NodeJS安装-菜鸟教程)[https://www.runoob.com/nodejs/nodejs-install-setup.html]&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>2 Introduction to GitHub</title><link>https://comfluter.life/p/2-introduction-to-github/</link><pubDate>Tue, 30 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/2-introduction-to-github/</guid><description>&lt;h2 id="基本命令">基本命令&lt;/h2>
&lt;ul>
&lt;li>创建虚拟环境：&lt;code>conda create -n &amp;lt;env_name&amp;gt; python=X.X&lt;/code>&lt;/li>
&lt;li>激活虚拟环境：&lt;code>conda activate &amp;lt;env_name&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="minutiae">Minutiae&lt;/h2>
&lt;ul>
&lt;li>unable auto activate base: &lt;code>conda config --set auto_activate_base false&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Anaconda使用随记</title><link>https://comfluter.life/p/anaconda%E4%BD%BF%E7%94%A8%E9%9A%8F%E8%AE%B0/</link><pubDate>Tue, 30 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/anaconda%E4%BD%BF%E7%94%A8%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="基本命令">基本命令&lt;/h2>
&lt;ul>
&lt;li>创建虚拟环境：&lt;code>conda create -n &amp;lt;env_name&amp;gt; python=X.X&lt;/code>&lt;/li>
&lt;li>查看环境信息：&lt;code>conda info --envs&lt;/code>&lt;/li>
&lt;li>激活虚拟环境：&lt;code>conda activate &amp;lt;env_name&amp;gt;&lt;/code>&lt;/li>
&lt;li>删除环境：&lt;code>conda remove -n &amp;lt;env_name&amp;gt; --all&lt;/code>&lt;/li>
&lt;li>查找包：&lt;code>conda search --full-name &amp;lt;pkg_name&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="添加软件源">添加软件源&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
conda config --set show_channel_urls yes
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="minutiae">Minutiae&lt;/h2>
&lt;ul>
&lt;li>unable auto activate base: &lt;code>conda config --set auto_activate_base false&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Nginx 服务器配置子域名</title><link>https://comfluter.life/p/nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E5%AD%90%E5%9F%9F%E5%90%8D/</link><pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E5%AD%90%E5%9F%9F%E5%90%8D/</guid><description>&lt;h2 id="添加域名解析">添加域名解析&lt;/h2>
&lt;p>到腾讯云服务器控制台，添加需要解析的子域名，如下图。图中第一个参数“主机记录”即为子域名名称。&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 1588;
flex-basis: 3812px"
>
&lt;a href="https://comfluter.life/p/nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E5%AD%90%E5%9F%9F%E5%90%8D/1.png" data-size="2256x142">
&lt;img src="https://comfluter.life/p/nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E5%AD%90%E5%9F%9F%E5%90%8D/1.png"
width="2256"
height="142"
srcset="https://comfluter.life/p/nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E5%AD%90%E5%9F%9F%E5%90%8D/1_hu19760e8d2679b02dd8767514ef769dc3_17088_480x0_resize_box_3.png 480w, https://comfluter.life/p/nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E5%AD%90%E5%9F%9F%E5%90%8D/1_hu19760e8d2679b02dd8767514ef769dc3_17088_1024x0_resize_box_3.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="配置nginx">配置Nginx&lt;/h2>
&lt;pre tabindex="0">&lt;code>server {
# 端口设置
listen 80;
# 二级域名设置
server_name ling.comfluter.life;
# 301重定向设置
return 301 http://47.102.150.182/;
}
&lt;/code>&lt;/pre>&lt;p>增加一项二级域名设置即可。&lt;/p></description></item><item><title>树莓派配置NAS</title><link>https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AEnas/</link><pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AEnas/</guid><description>&lt;h2 id="挂载ntfs格式磁盘">挂载NTFS格式磁盘&lt;/h2>
&lt;p>貌似树莓派OS能够自动挂载NTFS磁盘到&lt;code>/media/pi&lt;/code>下。不用额外操作。&lt;/p>
&lt;h2 id="使用samba协议提供校园网内文件服务">使用SAMBA协议提供校园网内文件服务&lt;/h2>
&lt;h3 id="安装samba">安装SAMBA&lt;/h3>
&lt;p>安装SAMBA：&lt;code>sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install -y samba&lt;/code>&lt;/p>
&lt;p>查看SAMBA版本：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">root@raspberrypi:/media/pi/4T存储# samba --version
Version 4.13.13-Debian
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>参观华为南京研究所</title><link>https://comfluter.life/p/%E5%8F%82%E8%A7%82%E5%8D%8E%E4%B8%BA%E5%8D%97%E4%BA%AC%E7%A0%94%E7%A9%B6%E6%89%80/</link><pubDate>Sat, 27 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%8F%82%E8%A7%82%E5%8D%8E%E4%B8%BA%E5%8D%97%E4%BA%AC%E7%A0%94%E7%A9%B6%E6%89%80/</guid><description>&lt;p>今天，借着网络课提供的机会，有幸走进华为南研所，切身感受企业研究部门的气氛，也看看自己在课上的所学是如何落到实处的。&lt;/p>
&lt;p>企业气氛确实是今天感觉到比较奇特的一个方面。随处可见使人奋进、催人奋斗的标语。除此以外，园区里还有许多战斗标语，例如“没有退路就是胜利之路”，美国的打压看起来也确实落到了实处。&lt;/p></description></item><item><title>Including Verilog Code Block in Latex</title><link>https://comfluter.life/p/including-verilog-code-block-in-latex/</link><pubDate>Fri, 26 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/including-verilog-code-block-in-latex/</guid><description>&lt;ol>
&lt;li>
&lt;p>include packages for code block and coloring&lt;/p>
&lt;ol>
&lt;li>&lt;code>\usepackage{listings}&lt;/code>&lt;/li>
&lt;li>&lt;code>\usepackage{xcolor}&lt;/code>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>insert following codes for defining verilog code coloring tactic. It should be inserted at the head field of the latex file (before &lt;code>\begin{document}&lt;/code>).&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-latex" data-lang="latex">&lt;span class="c">% for verilog code coloring
&lt;/span>&lt;span class="c">&lt;/span>&lt;span class="k">\definecolor&lt;/span>&lt;span class="nb">{&lt;/span>vgreen&lt;span class="nb">}{&lt;/span>RGB&lt;span class="nb">}{&lt;/span>104,180,104&lt;span class="nb">}&lt;/span>
&lt;span class="k">\definecolor&lt;/span>&lt;span class="nb">{&lt;/span>vblue&lt;span class="nb">}{&lt;/span>RGB&lt;span class="nb">}{&lt;/span>49,49,255&lt;span class="nb">}&lt;/span>
&lt;span class="k">\definecolor&lt;/span>&lt;span class="nb">{&lt;/span>vorange&lt;span class="nb">}{&lt;/span>RGB&lt;span class="nb">}{&lt;/span>255,143,102&lt;span class="nb">}&lt;/span>
&lt;span class="k">\lstdefinestyle&lt;/span>&lt;span class="nb">{&lt;/span>verilog-style&lt;span class="nb">}&lt;/span>
&lt;span class="nb">{&lt;/span>
language=Verilog,
basicstyle=&lt;span class="k">\small\ttfamily&lt;/span>,
keywordstyle=&lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>vblue&lt;span class="nb">}&lt;/span>,
identifierstyle=&lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>black&lt;span class="nb">}&lt;/span>,
commentstyle=&lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>vgreen&lt;span class="nb">}&lt;/span>,
numbers=left,
numberstyle=&lt;span class="k">\tiny\color&lt;/span>&lt;span class="nb">{&lt;/span>black&lt;span class="nb">}&lt;/span>,
numbersep=10pt,
tabsize=8,
moredelim=*[s][&lt;span class="k">\colorIndex&lt;/span>]&lt;span class="nb">{&lt;/span>[&lt;span class="nb">}{&lt;/span>]&lt;span class="nb">}&lt;/span>,
literate=*&lt;span class="nb">{&lt;/span>:&lt;span class="nb">}{&lt;/span>:&lt;span class="nb">}&lt;/span>1
&lt;span class="nb">}&lt;/span>
&lt;span class="k">\makeatletter&lt;/span>
&lt;span class="k">\newcommand*\@&lt;/span>lbracket&lt;span class="nb">{&lt;/span>[&lt;span class="nb">}&lt;/span>
&lt;span class="k">\newcommand*\@&lt;/span>rbracket&lt;span class="nb">{&lt;/span>]&lt;span class="nb">}&lt;/span>
&lt;span class="k">\newcommand*\@&lt;/span>colon&lt;span class="nb">{&lt;/span>:&lt;span class="nb">}&lt;/span>
&lt;span class="k">\newcommand*\colorIndex&lt;/span>&lt;span class="nb">{&lt;/span>&lt;span class="c">%
&lt;/span>&lt;span class="c">&lt;/span> &lt;span class="k">\edef\@&lt;/span>temp&lt;span class="nb">{&lt;/span>&lt;span class="k">\the\lst&lt;/span>@token&lt;span class="nb">}&lt;/span>&lt;span class="c">%
&lt;/span>&lt;span class="c">&lt;/span> &lt;span class="k">\ifx\@&lt;/span>temp&lt;span class="k">\@&lt;/span>lbracket &lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>black&lt;span class="nb">}&lt;/span>&lt;span class="c">%
&lt;/span>&lt;span class="c">&lt;/span> &lt;span class="k">\else\ifx\@&lt;/span>temp&lt;span class="k">\@&lt;/span>rbracket &lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>black&lt;span class="nb">}&lt;/span>&lt;span class="c">%
&lt;/span>&lt;span class="c">&lt;/span> &lt;span class="k">\else\ifx\@&lt;/span>temp&lt;span class="k">\@&lt;/span>colon &lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>black&lt;span class="nb">}&lt;/span>&lt;span class="c">%
&lt;/span>&lt;span class="c">&lt;/span> &lt;span class="k">\else&lt;/span> &lt;span class="k">\color&lt;/span>&lt;span class="nb">{&lt;/span>vorange&lt;span class="nb">}&lt;/span>&lt;span class="c">%
&lt;/span>&lt;span class="c">&lt;/span> &lt;span class="k">\fi\fi\fi&lt;/span>
&lt;span class="nb">}&lt;/span>
&lt;span class="k">\makeatother&lt;/span>
&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>trace&lt;span class="nb">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Insert your verilog code block using following codes:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-latex" data-lang="latex">&lt;span class="k">\begin&lt;/span>&lt;span class="nb">{&lt;/span>lstlisting&lt;span class="nb">}&lt;/span>[style=&lt;span class="nb">{&lt;/span>verilog-style&lt;span class="nb">}&lt;/span>]
&amp;lt;your code&amp;gt;
&lt;span class="k">\end&lt;/span>&lt;span class="nb">{&lt;/span>lstlisting&lt;span class="nb">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol></description></item><item><title>Pyspice 学习随记</title><link>https://comfluter.life/p/pyspice-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Fri, 26 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/pyspice-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="environment-config">Environment config&lt;/h2>
&lt;ol>
&lt;li>Initialize the python virtual environment&lt;code>virtualenv .venv&lt;/code>&lt;/li>
&lt;li>activate venv (windows system) &lt;code>.venv/Scripts/activate&lt;/code>&lt;/li>
&lt;li>install packages used in pyspice
&lt;ol>
&lt;li>&lt;code>pip install pyspice&lt;/code>&lt;/li>
&lt;li>&lt;code>pip install opencv-python&lt;/code> for image output&lt;/li>
&lt;li>install ngspice dll libraries
&lt;ol>
&lt;li>installation: &lt;code>pyspice-post-installation --install-ngspice-dll&lt;/code>&lt;/li>
&lt;li>check: &lt;code>pyspice-post-installation --check-install&lt;/code>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">OS is Windows
Found in library search path: None
Load NgSpiceShared
Load library D:&lt;span class="se">\W&lt;/span>ork&lt;span class="se">\0&lt;/span>4_Research_Project&lt;span class="se">\2&lt;/span>1.08.19_Early_Visual_Processing&lt;span class="se">\p&lt;/span>yspice&lt;span class="se">\.&lt;/span>venv&lt;span class="se">\l&lt;/span>ib&lt;span class="se">\s&lt;/span>ite-packages&lt;span class="se">\P&lt;/span>ySpice&lt;span class="se">\S&lt;/span>pice&lt;span class="se">\N&lt;/span>gSpice&lt;span class="se">\S&lt;/span>pice64_dll&lt;span class="se">\d&lt;/span>ll-vs&lt;span class="se">\n&lt;/span>gspice.dll
Ngspice version is &lt;span class="m">34&lt;/span>
has xspice: True
has cider True
&amp;gt; version -f
******
** ngspice-34 : Circuit level simulation program
** The U. C. Berkeley CAD Group
** Copyright 1985-1994, Regents of the University of California.
** Copyright 2001-2020, The ngspice team.
** Please get your ngspice manual from http://ngspice.sourceforge.net/docs.html
** Please file your bug-reports at http://ngspice.sourceforge.net/bugrep.html
** Creation Date: Jan &lt;span class="m">29&lt;/span> &lt;span class="m">2021&lt;/span> 16:38:37
**
** CIDER 1.b1 &lt;span class="o">(&lt;/span>CODECS simulator&lt;span class="o">)&lt;/span> included
** XSPICE extensions included
** Relevant compilation options &lt;span class="o">(&lt;/span>refer to user&lt;span class="err">&amp;#39;&lt;/span>s manual&lt;span class="o">)&lt;/span>:
** OpenMP multithreading &lt;span class="k">for&lt;/span> BSIM3, BSIM4 enabled
** X11 interface not compiled into ngspice
**
******
PySpice should work as expected
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="advanced-power-resources">Advanced Power Resources&lt;/h2>
&lt;h3 id="behavioral-resource">Behavioral Resource&lt;/h3>
&lt;p>spice syntax:&lt;/p>
&lt;pre tabindex="0">&lt;code>BXXXXXXX n+ n- &amp;lt;i=expr&amp;gt; &amp;lt;v=expr&amp;gt; &amp;lt;tc1=value&amp;gt; &amp;lt;tc2=value&amp;gt; &amp;lt;temp=value&amp;gt; &amp;lt;dtemp=value&amp;gt;
&lt;/code>&lt;/pre>&lt;p>functions:
The following functions of a single real variable are defined:&lt;/p>
&lt;ul>
&lt;li>Trigonometric functions: cos, sin, tan, acos, asin, atan&lt;/li>
&lt;li>Hyperbolic functions: cosh, sinh, acosh, asinh, atanh&lt;/li>
&lt;li>Exponential and logarithmic: exp, ln, log, log10 (ln, log with base e, log10 with base 10)&lt;/li>
&lt;li>Other: abs, sqrt, u, u2, uramp, floor, ceil, i Functions of two variables are min, max, pow, **, pwr, ^&lt;/li>
&lt;li>Functions of three variables are a ? b:c&lt;/li>
&lt;/ul>
&lt;p>Refer to page 102 of ngspice-35-manual&lt;/p>
&lt;p>Keyword Parameters:&lt;/p>
&lt;ul>
&lt;li>current_expression / i&lt;/li>
&lt;li>voltage_expression / v&lt;/li>
&lt;li>tc1: first order temperature coeff.&lt;/li>
&lt;li>tc2: second order temperature coeff.&lt;/li>
&lt;li>temperature / temp&lt;/li>
&lt;li>device_temperature / dtemp&lt;/li>
&lt;/ul>
&lt;p>special variable available:&lt;/p>
&lt;ul>
&lt;li>time, 0 in AC analysis&lt;/li>
&lt;li>temper, given in degree C&lt;/li>
&lt;li>hertz, 0 in transient analysis&lt;/li>
&lt;/ul>
&lt;p>example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="n">circuit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;p1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">circuit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">voltage_expression&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;exp(time)&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="modules-and-libraries">Modules and libraries&lt;/h2>
&lt;p>&lt;a class="link" href="http://ltwiki.org/index.php?title=Main_Page" target="_blank" rel="noopener"
>Ltwiki&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://ltwiki.org/index.php?title=Components_Library_and_Circuits" target="_blank" rel="noopener"
>Components Library and Circuits&lt;/a>&lt;/p>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/88583481" target="_blank" rel="noopener"
>PySpice: 使用ngspice进行电路仿真分析-1：安装&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/88631728" target="_blank" rel="noopener"
>PySpice: 使用ngspice进行电路仿真分析-2：ngspice简要介绍-输入文件格式1&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Linux 学习随记</title><link>https://comfluter.life/p/linux-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Thu, 25 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/linux-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="开启root账户并配置ssh登录">开启root账户并配置SSH登录&lt;/h2>
&lt;ol>
&lt;li>修改root密码 &lt;code>sudo passwd root&lt;/code>&lt;/li>
&lt;li>修改SSH配置 &lt;code>sudo vi /etc/ssh/sshd_config&lt;/code>&lt;/li>
&lt;li>找到选项&lt;code>PermitRootLogin&lt;/code>，将其前面的&lt;code>#&lt;/code>去掉，即可使用SSH登录。若将后面的&lt;code>prohibit-password&lt;/code>改为&lt;code>yes&lt;/code>则可使用密码登录。&lt;/li>
&lt;li>如果不选择密码登录，还需要通过其他账户登录，将&lt;code>authorized_keys&lt;/code>复制到root账户的.ssh文件夹&lt;code>/root/.ssh&lt;/code>下&lt;/li>
&lt;/ol>
&lt;h2 id="minutiae">Minutiae&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/qq_36829091/article/details/82053322" target="_blank" rel="noopener"
>使用taskset命令限定Linux下CPU逻辑核的使用对象及个数&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/the-tops/p/7840494.html#:~:text=Linux%E4%B8%8B%EF%BC%8C%E5%A6%82%E4%BD%95%E7%9C%8B%E6%AF%8F%E4%B8%AACPU%E7%9A%84%E4%BD%BF%E7%94%A8%E7%8E%87%EF%BC%9A%20%23top%20-d,1%20%EF%BC%88%E6%AD%A4%E6%97%B6%E4%BC%9A%E6%98%BE%E7%A4%BA%E4%BB%A51s%E7%9A%84%E9%A2%91%E7%8E%87%E5%88%B7%E6%96%B0%E7%B3%BB%E7%BB%9F%E8%B4%9F%E8%BD%BD%E6%98%BE%E7%A4%BA%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%80%BB%E7%9A%84CPU%E7%9A%84%E8%B4%9F%E8%BD%BD%E6%83%85%E5%86%B5%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%8D%A0CPU%E6%9C%80%E9%AB%98%E7%9A%84%E8%BF%9B%E7%A8%8Bid%EF%BC%8C%E8%BF%9B%E7%A8%8B%E5%90%8D%E5%AD%97%E7%AD%89%E4%BF%A1%E6%81%AF%EF%BC%89%20%EF%BC%88%E5%88%87%E6%8D%A2%E6%8C%89%E4%B8%8B%E6%95%B0%E5%AD%971%EF%BC%8C%E5%88%99%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%98%BE%E7%A4%BA%E5%A4%9A%E4%B8%AACPU%E5%92%8C%E6%80%BBCPU%E4%B8%AD%E5%88%87%E6%8D%A2%EF%BC%89" target="_blank" rel="noopener"
>linux下如何查看多核负载情况&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloud.tencent.com/developer/article/1457617" target="_blank" rel="noopener"
>LINUX下查看CPU使用率的命令&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>博客评论功能搭建</title><link>https://comfluter.life/p/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E6%90%AD%E5%BB%BA/</link><pubDate>Thu, 25 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E6%90%AD%E5%BB%BA/</guid><description>&lt;p>在王凯师兄的推荐下，使用gitalk搭建博客评论功能。&lt;/p>
&lt;h2 id="github上申请oauth-application">Github上申请OAuth application&lt;/h2>
&lt;ol>
&lt;li>登录github&lt;/li>
&lt;li>在&lt;code>Settings&lt;/code>页面选择&lt;code>Developer settings&lt;/code>选项。&lt;/li>
&lt;li>在&lt;code>Developer settings&lt;/code>选择&lt;code>OAuth Apps&lt;/code>,然后会在页面右边有一个&lt;code>New OAuth App&lt;/code>按钮，点击这个按钮就进入到新建&lt;code>OAuth application&lt;/code>页面&lt;/li>
&lt;li>填写新建&lt;code>OAuth application&lt;/code>相关信息：
&lt;ol>
&lt;li>&lt;code>Application name&lt;/code>：新建应用的名称&lt;/li>
&lt;li>&lt;code>Homepage URL&lt;/code>：The full URL to your application homepage. eg.&lt;code>https://comfluter.life/&lt;/code>&lt;/li>
&lt;li>&lt;code>Application description&lt;/code>：对新建应用的描述&lt;/li>
&lt;li>&lt;code>Authorization callback URL&lt;/code>：回调链接，与&lt;code>Homepage URL&lt;/code>保持一致即可。&lt;/li>
&lt;li>注：这些参数可以在以后修改&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>点击注册应用，就可以看到&lt;code>Client ID&lt;/code>，可以新建一个&lt;code>Client Secret&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="hugo-配置">Hugo 配置&lt;/h2>
&lt;p>使用&lt;code>stack&lt;/code>主题，在配置文件&lt;code>config.yaml&lt;/code>中已经预留了相关字段。&lt;/p>
&lt;ol>
&lt;li>复制填写刚生成的&lt;code>Client ID&lt;/code>，&lt;code>Client Secret&lt;/code>。&lt;/li>
&lt;li>&lt;code>repo&lt;/code>: 类型：字符串，必填，github上的仓库名字，用于存放Gitalk评论&lt;/li>
&lt;li>&lt;code>owner&lt;/code>: 类型：字符串，必填，github仓库的所有者的名字&lt;/li>
&lt;li>&lt;code>admin&lt;/code>: 类型：数组(元素是字符串)，必填，github仓库的所有者和合作者 (对这个 repository 有写权限的用户)。如果仓库有多个人可以操作，那么在这里以数组形式写出：&lt;code>['someone']&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="debugging">Debugging&lt;/h2>
&lt;h3 id="error-not-found">Error: Not Found.&lt;/h3>
&lt;p>尝试了修改&lt;code>Homepage URL&lt;/code>为github pages页面，发现并没有用。&lt;/p>
&lt;p>解决：存放评论的repo不能为&lt;code>private&lt;/code>属性. 应该是一个&lt;code>public&lt;/code>的代码库才可以使用Gitalk！&lt;/p>
&lt;h2 id="references">References&lt;/h2>
&lt;p>&lt;a class="link" href="https://segmentfault.com/a/1190000018072952" target="_blank" rel="noopener"
>Gitalk评论插件使用教程&lt;/a>&lt;/p></description></item><item><title>Verilog with vscode</title><link>https://comfluter.life/p/verilog-with-vscode/</link><pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/verilog-with-vscode/</guid><description>&lt;h2 id="linting">linting&lt;/h2>
&lt;p>using vscode extension &lt;code>Verilog-HDL/SystemVerilog/Bluespec SystemVerilog&lt;/code>.&lt;/p>
&lt;p>using &lt;code>iverilog&lt;/code>&lt;/p>
&lt;p>go to extension settings and set &lt;code>verilog &amp;gt; linting : linter = iverilog&lt;/code>&lt;/p>
&lt;p>then the linting function should work for verilog files.&lt;/p>
&lt;p>Notice:&lt;/p>
&lt;ul>
&lt;li>the dir to verilog file should not contain chinese characters and spaces.&lt;/li>
&lt;li>if you imported module from other file without &lt;code>include&lt;/code> command, iverilog willl report an error. As it is always the case when using vivado, add &lt;code>-i&lt;/code> to extention setting &lt;code>Verilog › Linting › Iverilog: Arguments&lt;/code> to ignore this error.&lt;/li>
&lt;/ul>
&lt;h2 id="references">References&lt;/h2>
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/338497672" target="_blank" rel="noopener"
>用VSCode编辑verilog代码、iverilog编译、自动例化、自动补全、自动格式化等常用插件&lt;/a>&lt;/p></description></item><item><title>Vivado 学习随记</title><link>https://comfluter.life/p/vivado-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/vivado-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="multi-module-project">Multi-module Project&lt;/h2>
&lt;p>Just write two verilog files and instantiate a module specified in the other file, the vivado will figure out the dependencies automatically.&lt;/p></description></item><item><title>《先秦诸子选读》：道家思想</title><link>https://comfluter.life/p/%E5%85%88%E7%A7%A6%E8%AF%B8%E5%AD%90%E9%80%89%E8%AF%BB%E9%81%93%E5%AE%B6%E6%80%9D%E6%83%B3/</link><pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%85%88%E7%A7%A6%E8%AF%B8%E5%AD%90%E9%80%89%E8%AF%BB%E9%81%93%E5%AE%B6%E6%80%9D%E6%83%B3/</guid><description>&lt;h2 id="老子">老子&lt;/h2>
&lt;h3 id="概述">概述&lt;/h3>
&lt;ul>
&lt;li>先秦道家第一部&lt;/li>
&lt;li>《老子》文献的真实性：
&lt;ul>
&lt;li>上世纪20年代，用西方方法考察中国传统文献：有气人，但书可能是后人写的&lt;/li>
&lt;li>马王堆汉墓老子帛书抄本 汉文帝时期 证明此时《老子》其书已经盛行
&lt;ul>
&lt;li>篇目数量差不多&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>90年代：郭店楚简 其中有《老子》 测年公元前300年，战国中晚期
&lt;ul>
&lt;li>其中还有较多儒家早期文献&lt;/li>
&lt;li>篇目较少，约为传世本1/3，可能为摘抄&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>此两本出图后，证明《老子》一定成书早于战国晚期。&lt;/li>
&lt;li>&lt;strong>证实了《老子》应为所有道家文献的原创。&lt;/strong>&lt;/li>
&lt;li>作者到现在还不确定，&lt;strong>阅读时不用深究&lt;/strong>&lt;/li>
&lt;li>首创“自然之道”的概念&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="道">道&lt;/h3>
&lt;p>不仅道家讲“道”，其应该为春秋时代出现的思想概念。&lt;/p>
&lt;p>“道”字商代便有，但不是重要思想概念，仅为“道路”之意。“道”在春秋时成为思想概念内涵。从《论语》中可以得到印证。&lt;/p>
&lt;p>含义变化原因：政治变化。以氏族为本位的政治构架在衰弱。以祭祀为本，为期中心概念（西周时）。后来西周衰落，天命观念受到怀疑，上天包庇某一氏族的理念在弱化。孔子时政治基本不讲“天命”，个人也可以讲“天命”。政治的合理性在哪？当时的思想家在寻找新的理解。这个背景下，“道”的观念得以提出。政治的合法性来源：神授&amp;ndash;&amp;gt;往圣先贤的做法，体现出人本主义。&lt;/p>
&lt;blockquote>
&lt;p>《国语》周语下：吾非瞽史，焉知天道？&lt;/p>
&lt;/blockquote>
&lt;p>只有知道历史，才知道天道。（史官当时也管天道）此处天道：星象变化的大致规则，引申为自然变化的规则。&lt;/p>
&lt;p>中国的士大夫文化：&lt;/p>
&lt;ul>
&lt;li>对中国文化发展影响最深。&lt;/li>
&lt;li>非宗教的：思想主流为人文主义的：道德规则、历史传承、品信修养，而非不可知的神意。&lt;/li>
&lt;li>&lt;strong>道为非常重要的概念。&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>道为其他概念的中心：仁义礼智等等&lt;/p>
&lt;h3 id="自然之道一种特别的道">自然之道：一种特别的道&lt;/h3>
&lt;blockquote>
&lt;p>《老子》二十五章：人法地，地法天，天法道，道法自然
“道可道非常道”&lt;/p>
&lt;/blockquote>
&lt;h4 id="自然之道的含义">自然之道的含义&lt;/h4>
&lt;p>自然：名词？ &amp;mdash;&amp;gt; 天地万物的规则&lt;/p>
&lt;p>&lt;strong>自然是动词！&lt;/strong> 意为“自己这样”，万物自己演化的规律。&lt;/p>
&lt;p>人应当效法自然：不是效法自然的规律，而是效法自己如此的状态。&lt;/p>
&lt;blockquote>
&lt;p>第七章：天长地久。天地所以能长且久者，以其不自生，故能长生。是以圣人后其身而身先，外其身而身存。非以其无私耶？故能成其私。(后其身 一作：退其身)&lt;/p>
&lt;/blockquote>
&lt;p>天地长久，不自生：天地不是单一的生命，以万物的生命来体现自己的生命。万物演变恒久不息，天也恒久存在。&lt;/p>
&lt;p>是以圣人后其身而身先，外其身而身存： 老子对后代人物的政治谋略影响较大，怎么在政治上立于不败之地。看上去是哲理，但用起来是技巧。&lt;/p>
&lt;blockquote>
&lt;p>四十章：反者道之动；弱者道之用。天下万物生于有，有生于无。&lt;/p>
&lt;/blockquote>
&lt;p>老子要否认所有提升到“规则”层面的内容。&lt;/p>
&lt;blockquote>
&lt;p>二章：天下皆知美之为美，斯恶已。皆知善之为善，斯不善已。故有无相生，难易相成，长短相形，高下相倾，音声相和，前后相随，恒也。是以圣人处无为之事，行不言之教，万物作焉而不辞，生而不有，为而不恃，功成而弗居。夫唯弗居，是以不去。(万物作焉而不辞 一作：万物作焉而不为始)&lt;/p>
&lt;/blockquote>
&lt;p>理解：古人淳朴自然的理解中没有“美”的概念，其为认为的&lt;/p>
&lt;p>讲的是常识中相对的概念的相互转化。&lt;/p>
&lt;h4 id="道不是规律性">道：不是规律性&lt;/h4>
&lt;p>充满辩证的因果关系？不能说不对，但是容易被误导。辩证法、辩证规律本质上都还是对我们&lt;em>知识&lt;/em>的概括。第一层：形式逻辑；第二层：变化规律、辩证法。顺着这个理解&lt;/p>
&lt;blockquote>
&lt;p>五十八章：祸兮福所倚；福兮祸所伏。孰知其极？其无正邪？正复为奇，善复为妖。人之迷，其日固久。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>极：根本的道理。“悠悠苍天，曷其有极？”&lt;/li>
&lt;li>无正：没有规则、根本道理。&lt;/li>
&lt;li>奇：突然冒出来的、没有道理的&lt;/li>
&lt;li>妖：怪异的&lt;/li>
&lt;/ul>
&lt;p>根本上否定规律性，而不是相反相成。
&lt;strong>不应当将道理解为规律&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>道可道，非常道；名可名，非常名。无名天地之始，有名万物之母。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>第二个“道”：
&lt;ul>
&lt;li>言说&lt;/li>
&lt;li>走路：明明白白的路径&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>天地之始 万物之母：天地初始的状态&lt;/li>
&lt;/ul>
&lt;h4 id="有关天地起源问题">有关天地起源问题：&lt;/h4>
&lt;blockquote>
&lt;p>谷神不死，是谓玄牝。玄牝之门，是谓天地根。绵绵若存，用之不勤。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>谷神：道&lt;/li>
&lt;li>玄牝：雌性的牲畜，有学者由此将老子思想归结于民间崇拜
&lt;ul>
&lt;li>颜世安老师想法：可能受到淮河水网地区地方信仰的影响：水崇拜、雌性崇拜。但老子不停留在这个层面，而是提出了一种思想。&lt;/li>
&lt;li>此处将道与雌性生殖功能做类比&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>有物混成，先天地生，寂兮寥兮，独立而不改，周行而不殆，可以为天地母。吾不知其名，强字之曰道，强为之名曰大。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>有物混成：道&lt;/li>
&lt;li>周兴不殆在出土文献中均不存在，大概率是后人添加。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>孔德之容，惟道是从。道之为物，惟恍惟惚。惚兮恍兮，其中有象；恍兮惚兮，其中有物；窈兮冥兮，其中有精；其精甚真，其中有信。&lt;/p>
&lt;/blockquote>
&lt;p>但&lt;strong>老子的本意应当不是天地起源&lt;/strong>：&lt;/p>
&lt;ol>
&lt;li>后世道家，天地起源不是道家思想的中心。庄子嘲笑天地起源的探究。&lt;/li>
&lt;li>如果谈天地起源，为什么在文本中一直强调“说不清楚”，许多地方既有又无？“孰知其极”？&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>不要将道与天地起源混为一谈！&lt;/strong>&lt;/p>
&lt;h4 id="原初状态">原初状态&lt;/h4>
&lt;p>&lt;strong>谈天地之道，应当从天地的原初状态谈起，对比原初状态和现在状态的对比。从而使得人回到自己“自然”、“原初”的状态，以天道为引导。&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>致虚极；守静笃。万物并作，吾以观复。夫物芸芸，各复归其根。归根曰静，静曰复命。复命曰常，知常曰明。不知常，妄作凶。知常容，容乃公，公乃全，全乃天，天乃道，道乃久，歿身不殆。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>虚、静：心态意义上的原初状态
&lt;ul>
&lt;li>虚 对应：实、知识、成见&lt;/li>
&lt;li>静 对应：好物、情感&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>为学日益，为道日损。损之又损，以至於无为。无为而无不为。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>为道要一天天减少自己的知识，直至无有的状态。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>不出户，知天下；不窥牖，见天道。其出弥远，其知弥少。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>在经验意义上回到自己的状态。有经验便有成见。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>知其雄，守其雌，为天下谿。为天下谿，常德不离，复归于婴儿。&lt;/p>
&lt;/blockquote>
&lt;p>只要是道家文献，必然谈回到原初状态&lt;/p>
&lt;h4 id="理解自然之道">理解自然之道&lt;/h4>
&lt;p>自己生、自己长，本来如此。与计划、规则相对。&lt;/p>
&lt;blockquote>
&lt;p>古之人，其知有所至矣。恶乎生？有以为未始有物者，至矣，尽矣，不可以加矣。其次，以为有物矣，而未始有封也。其次以为有封焉，而未始有是非也。是非之彰也，道之所以亏也。道之所以亏，爱之所以成。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>至：强？弱？总之不一样。&lt;/li>
&lt;li>未始有物：物我一体
&lt;ul>
&lt;li>郭象：未始有我。无自我意识。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>封：将物分为不同领域。&lt;/li>
&lt;li>爱：偏私、喜好&lt;/li>
&lt;/ul>
&lt;p>人们悲惨的根源：人们生下来便不可避免地落入非自然的状态中。解决：回到原初状态。&lt;/p>
&lt;blockquote>
&lt;p>道家无为，又曰无不为，其实易行，其辞难知。其术以虚无为本，以因循为用。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>难知：天地初始状态，难以用现有的语言进行描述。思维习惯、语言、行为规范是禁锢、限制、不自由、不自然。描述初始状态时必然会用到玄奥的词句。&lt;/li>
&lt;li>其实易行：回到&lt;strong>初始状态&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>庄子：自由与自然的紧张。警惕“自我”对他人的毒害。&lt;/p>
&lt;p>自然而然、自己如此与回到原初状态的联系是什么？&lt;/p>
&lt;p>道家：反对条理化、经验化的对世界的理解与体验。&lt;/p>
&lt;p>后世道家较少谈道的自然哲学的一面，而是谈**回到本源。**后世道家从各个方面引导人们回到自己的初始状态。&lt;/p>
&lt;h3 id="回到原初状态">回到原初状态&lt;/h3>
&lt;blockquote>
&lt;p>持而盈之，不如其已。揣而锐之，不可长保。金玉满堂，莫之能守。富贵而骄，自遗其咎。功遂身退，天之道也。&lt;/p>
&lt;/blockquote>
&lt;p>个人的原初状态。退守，在知识阶层的普通人中广为流传。&lt;/p>
&lt;h4 id="政治上的原初状态">政治上的原初状态&lt;/h4>
&lt;blockquote>
&lt;p>小国寡民。使有什伯之器而不用；使民重死而不远徙；虽有舟舆，无所乘之；虽有甲兵，无所陈之。使人复结绳而用之。至治之极。甘其食，美其服，安其居，乐其俗，邻国相望，鸡犬之声相闻，民至老死不相往来。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>群体的原初状态。重点在心态。&lt;/li>
&lt;li>有机械，即有机事，有机事，即有机心。&lt;/li>
&lt;li>甘其食&amp;hellip;乐其俗：吃什么、穿什么都觉得好。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>故圣人云：“我无为，而民自化；我好静，而民自正；我无事，而民自富；我无欲，而民自朴。”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>说到底，重点在于&lt;strong>政治&lt;/strong>上。要国家回到无为的原初状态。但是老子不是在否定政治的作用，不是在说应该没有政治。&lt;/li>
&lt;li>无为：
&lt;ul>
&lt;li>君主对官员：君无为而臣有为。&lt;/li>
&lt;li>政府对民间：国家无为而让社会自己演化。例：文景之治。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>《管子·心术上》：天曰虚，地曰静，乃不伐。洁其宫，开其门，去私毋言，神明若存。纷乎其若乱，静之而自治。强不能遍立，智不能尽谋。物固有形，形固有名，名当，谓之圣人。故必知不言，无为之事，然后知道之纪。殊形异埶，不与万物异理，故可以为天下始。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>天地虚静：人应当虚、静。伐：自我吹嘘。&lt;/li>
&lt;li>宫：房间，比喻内心。不洁：知识、情绪等等一切妨碍清晰认知客观世界的障碍。&lt;/li>
&lt;li>神明：与虚静相对。指向生命原始的可能性、创造力。&lt;/li>
&lt;li>强不能遍立，智不能尽谋：具体的道理。&lt;/li>
&lt;li>物固有形，形固有名：自然万物有其自己的形态，依据其形态命名。这里因为在将政治，这里的物应当指社会生活的事物，如官职、社会制度等等。名：对事物发展状态的反映。形名之学，将道家与法家结合起来。
&lt;ul>
&lt;li>道家：有从自然而来的正当性。&lt;/li>
&lt;li>法家：法令的正当性从何而来？早期道家只以现实需要为自己辩护，但这个理由显然在理论上不够高明。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>道家中将政治道术的文献：&lt;/p>
&lt;ul>
&lt;li>马王堆汉墓帛书、《黄帝四经》或称《黄老帛书》、《经法》、《十大经》、《称》、《道原》、《庄子·天道》、《韩非子·解老》、《杨权》等篇、吕氏春秋若干篇、慎子、鹖冠子、《史记·货殖列传》&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>《史记·货殖列传序》：夫山西饶材、竹、旄、玉石，山东多鱼、盐、漆、丝、声色，江南出棻、梓、姜、桂、金、锡、连、丹沙、犀、玳瑁、珠玑、齿、革，龙门、碣石 北多马、牛、羊、旃、裘、筋、角；铜、铁则千里往往山出棋置。此其大较也。皆中国人民所喜好，谣俗被服饮食奉生送死之具也。故待农而食之，虞而出之，工而成之，商而通之。此宁有政教发征期会哉？人各任其能，竭其力，以得所欲。故物贱之征贵，贵之征贱，各劝其业，乐其事，若水之趋下，日夜无休时，不召而自来，不求而民出之。岂非道之所符，而自然之验邪？&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>商业的规律是自然而然形成的。&lt;/li>
&lt;li>好的政治：因循利导。&lt;/li>
&lt;/ul>
&lt;p>道家的展开不仅仅是理论运作，而是与政治运作紧密结合。司马迁此处应该是在讲文景之治之时的政治模式，以批判汉武帝的政治。这应当不是司马迁个人的想法，而是当时的一种思潮，是老子思想展开的一种形态。&lt;/p>
&lt;h2 id="庄子">庄子&lt;/h2>
&lt;p>庄子对后来士大夫思想的影响很大。魏晋玄学的旷达自由与宋明理学的无我朴实。&lt;/p>
&lt;blockquote>
&lt;p>南郭子綦隐机而坐，仰天而嘘，荅焉似丧其耦。颜成子游立侍乎前，曰：“何居乎？形固可使如槁木，而心固可使如死灰乎？今之隐机者，非昔之隐机者也？”子綦曰：“偃，不亦善乎，而问之也！今者吾丧我，汝知之乎？汝闻人籁而未闻地籁，汝闻地籁而不闻天籁夫！”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>“隐机而坐，仰天而嘘，荅焉似丧其耦”：文学化表达，不用逐字深究，回到婴儿原初状态的表现。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>子游曰：“敢问其方。”子綦曰：“夫大块噫气，其名为风。是唯无作，作则万窍怒呺。而独不闻之翏翏乎？山林之畏隹，大木百围之窍穴，似鼻，似口，似耳，似枅，似圈，似臼，似洼者，似污者。激者、謞者、叱者、吸者、叫者、譹者、宎者，咬者，前者唱于而随者唱喁，泠风则小和，飘风则大和，厉风济则众窍为虚。而独不见之调调之刁刁乎？”
子游曰：“地籁则众窍是已，人籁则比竹是已，敢问天籁。”子綦曰：“夫吹万不同，为而使其自己也。咸其自取，怒者其谁邪？”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>文学性：形象大于思想&lt;/li>
&lt;li>思想上仍然是在说致虚极，守静笃。&lt;/li>
&lt;li>直接去体验自然世界的生气勃勃&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>至人无己，神人无功，圣人无名。&lt;/p>
&lt;/blockquote>
&lt;p>最后还是回到道家思想：&lt;strong>回到原初状态。&lt;/strong>&lt;/p>
&lt;h3 id="人与世界的关系">人与世界的关系&lt;/h3>
&lt;blockquote>
&lt;p>《庄子·知北游》：东郭子问于庄子曰：“所谓道，恶乎在？”庄子曰：“无所不在。 ”东郭子曰：“期而后可。”庄子曰：“在蝼蚁。”曰：“何其下邪 ？”曰：“在稊稗。”曰：“何其愈下邪？”曰：“在瓦甓。”曰： “何其愈甚邪？”曰：“在屎溺。”东郭子不应。庄子曰：“夫子之 问也，固不及质。正、获之问于监市履狶也，‘每下愈况’。汝唯莫必， 无乎逃物&amp;hellip;”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>重点在前半。思想上的重点在于：道表现在人与外部世界的一种关系。退回原初状态后可以与世界建立新的关系。此理念在后来结出无数思想果实。后世：什么是好的状态？&lt;/li>
&lt;li>“何其下邪？”：外部世界以自己的标准做区分、分化。每一个物都有它的价值、角度。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>《庄子·齐物论》：古之人，其知有所至矣。恶乎至？有以为未始有物者，至矣，尽矣，不可以加矣！其次以为有物矣，而未始有封也。其次以为有封焉，而未始有是非也。是非之彰也，道之所以亏也。道之所以亏，爱之所以成。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>梓庆削木为鐻，日成，见者惊犹鬼神。鲁侯见而问焉，曰：“子何术以为焉？”对曰：“臣，工人，何术之有！虽然，有一焉：臣将为 鐻，未尝敢以耗气也，必齐以静心。齐三日，而不敢怀庆赏爵禄；齐五日，不敢怀非誉巧拙；齐七日，辄然忘吾有四枝形体也。当是时也，无公朝。其巧专而外骨消，然后入山林，观天性形躯，至矣，然后成鐻，然后加手焉，不然则已。则以天合天，器之所以疑神者，其是与！”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>一步一步将现实状态中的“我”逐步忘记。&lt;/li>
&lt;li>“以天合天”：第一个天：自己的天然；第二个天：自然世界。&lt;/li>
&lt;li>在自然之道的意义上，做事仅看与这个事有关的事情，回到事情本身，其余的所有纷扰（晋赏爵禄，非誉巧拙等等）全部忘记。此形成一种文化形态、文化理想。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>生而美者，人与之鉴，不告则不知其美于人也。若知之，若不知之 ，若闻之，若不闻之，其可喜也终无已，人之好之亦无已，性也。圣人之爱人也，人与之名，不告则不知其爱人也。若知之，若不知之， 若闻之，若不闻之，其爱人也终无已，人之安之亦无已，性也。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>美：不顾盼自怜。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>《传习录下》：有一属官，因久听讲先生之学，曰：“此学甚好，只是簿书讼狱繁难，不得为学。”先生闻之，曰：“我何尝教尔离了簿书讼狱悬空去讲学？尔既有官司之事，便从官司的事上为学，才是真格物。如问一词讼，不可因其应对无状，起个怒心：不可因他言语圆转，生个喜心：不可恶其嘱托，加意治之：不可因其请求，屈意从之：不可因自己事务烦冗，随意苟且断之；不可因旁人谮毁罗织，随人意思处之：这许多意思皆私，只尔自知，须精细省察克治，惟恐此心有一毫偏倚，杜人是非，这便是格物致知。簿书讼狱之间，无非实学。若离了事物为学，却是着空。”&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>庄子对后世的影响。&lt;/li>
&lt;li>听这个案件，就应当回到这件事情，不要掺杂任何私心。&lt;/li>
&lt;li>&lt;strong>公私之分&lt;/strong>：道家的概念。道家核心：无私、无己、无我。&lt;/li>
&lt;/ul>
&lt;h2 id="总结">总结&lt;/h2>
&lt;p>道家回到原初状态是对人的表达，没有一个具体的形态。庄子中形成了一种系统性的理解，形成了一种理想，成为文化道理的理念，对后世启发良多。&lt;/p></description></item><item><title>服务器配置CPU版ToD-BERT环境</title><link>https://comfluter.life/p/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AEcpu%E7%89%88tod-bert%E7%8E%AF%E5%A2%83/</link><pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AEcpu%E7%89%88tod-bert%E7%8E%AF%E5%A2%83/</guid><description>&lt;h2 id="conda-复制已有环境">Conda 复制已有环境&lt;/h2>
&lt;p>由于服务器上本身已经有使用CUDA平台的ToD-BERT运行环境，仅需将此环境中所有使用GPU的库换为使用CPU的库即可：pytorch&lt;/p>
&lt;p>查看已有环境&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ conda info --env
&lt;span class="c1"># conda environments:&lt;/span>
&lt;span class="c1">#&lt;/span>
base * /media/HD1/dche/miniconda3
sum_env /media/HD1/dche/miniconda3/envs/sum_env
tod_bert /media/HD1/dche/miniconda3/envs/tod_bert
/media/HD1/miniconda3
&lt;/code>&lt;/pre>&lt;/div>&lt;p>创建新环境，并将原有环境中的所有包复制，并激活新建立的环境。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ conda create -n tod_bert_cpu --clone tod_bert
Source: /media/HD1/dche/miniconda3/envs/tod_bert
Destination: /media/HD1/dche/miniconda3/envs/tod_bert_cpu
Packages: &lt;span class="m">20&lt;/span>
Files: &lt;span class="m">12683&lt;/span>
Preparing transaction: &lt;span class="k">done&lt;/span>
Verifying transaction: &lt;span class="k">done&lt;/span>
Executing transaction: &lt;span class="k">done&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="c1"># To activate this environment, use&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="c1"># $ conda activate tod_bert_cpu&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="c1"># To deactivate an active environment, use&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="c1"># $ conda deactivate&lt;/span>
&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ conda activate tod_bert_cpu
&lt;span class="o">(&lt;/span>tod_bert_cpu&lt;span class="o">)&lt;/span> dialogue@amax-13:/$
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="conda配置环境中的包卸载gpu版本安装cpu版本">Conda配置环境中的包（卸载GPU版本、安装CPU版本）&lt;/h2>
&lt;p>Conda 查看环境中所有包的信息&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>tod_bert_cpu&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ conda list
&lt;span class="c1"># packages in environment at /media/HD1/dche/miniconda3/envs/tod_bert_cpu:&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="c1"># Name Version Build Channel&lt;/span>
_libgcc_mutex 0.1 main
_openmp_mutex 4.5 1_gnu
anykeystore 0.2 pypi_0 pypi
apex 0.9.8.dev0 pypi_0 pypi
blessings 1.7 pypi_0 pypi
ca-certificates 2021.10.26 h06a4308_2
certifi 2021.10.8 py37h06a4308_0
charset-normalizer 2.0.7 pypi_0 pypi
click 8.0.3 pypi_0 pypi
cryptacular 1.6.2 pypi_0 pypi
defusedxml 0.7.1 pypi_0 pypi
filelock 3.4.0 pypi_0 pypi
future 0.18.2 pypi_0 pypi
gpustat 0.6.0 pypi_0 pypi
greenlet 1.1.2 pypi_0 pypi
hupper 1.10.3 pypi_0 pypi
idna 3.3 pypi_0 pypi
importlib-metadata 4.8.2 pypi_0 pypi
joblib 1.1.0 pypi_0 pypi
libedit 3.1.20210910 h7f8727e_0
libffi 3.2.1 hf484d3e_1007
libgcc-ng 9.3.0 h5101ec6_17
libgomp 9.3.0 h5101ec6_17
libstdcxx-ng 9.3.0 hd4cf53a_17
markupsafe 2.0.1 pypi_0 pypi
ncurses 6.3 h7f8727e_2
nltk 3.5 pypi_0 pypi
numpy 1.18.1 pypi_0 pypi
nvidia-ml-py3 7.352.0 pypi_0 pypi
oauthlib 3.1.1 pypi_0 pypi
openssl 1.0.2u h7b6447c_0
packaging 21.3 pypi_0 pypi
pastedeploy 2.1.1 pypi_0 pypi
pbkdf2 1.3 pypi_0 pypi
pip 21.2.2 py37h06a4308_0
plaster 1.0 pypi_0 pypi
plaster-pastedeploy 0.7 pypi_0 pypi
protobuf 3.19.1 pypi_0 pypi
psutil 5.8.0 pypi_0 pypi
ptvsd 4.3.2 pypi_0 pypi
pyparsing 3.0.6 pypi_0 pypi
pyramid 2.0 pypi_0 pypi
pyramid-mailer 0.15.1 pypi_0 pypi
python 3.7.0 h6e4f718_3
python3-openid 3.2.0 pypi_0 pypi
readline 7.0 h7b6447c_5
regex 2021.11.10 pypi_0 pypi
repoze-sendmail 4.4.1 pypi_0 pypi
requests 2.26.0 pypi_0 pypi
requests-oauthlib 1.3.0 pypi_0 pypi
sacremoses 0.0.46 pypi_0 pypi
scikit-learn 0.23.2 pypi_0 pypi
scipy 1.7.2 pypi_0 pypi
sentencepiece 0.1.96 pypi_0 pypi
setuptools 58.0.4 py37h06a4308_0
simplejson 3.17.2 pypi_0 pypi
six 1.15.0 pypi_0 pypi
sqlalchemy 1.4.27 pypi_0 pypi
sqlite 3.33.0 h62c20be_0
tensorboardx 2.1 pypi_0 pypi
threadpoolctl 3.0.0 pypi_0 pypi
tk 8.6.11 h1ccaba5_0
tokenizers 0.8.1rc1 pypi_0 pypi
torch 1.6.0 pypi_0 pypi
tqdm 4.31.1 pypi_0 pypi
transaction 3.0.1 pypi_0 pypi
transformers 3.0.2 pypi_0 pypi
translationstring 1.4 pypi_0 pypi
typing-extensions 4.0.0 pypi_0 pypi
urllib3 1.26.7 pypi_0 pypi
velruse 1.1.1 pypi_0 pypi
venusian 3.0.0 pypi_0 pypi
webob 1.8.7 pypi_0 pypi
wheel 0.37.0 pyhd3eb1b0_1
wtforms 3.0.0 pypi_0 pypi
wtforms-recaptcha 0.3.2 pypi_0 pypi
xz 5.2.5 h7b6447c_0
zipp 3.6.0 pypi_0 pypi
zlib 1.2.11 h7b6447c_3
zope-deprecation 4.4.0 pypi_0 pypi
zope-interface 5.4.0 pypi_0 pypi
zope-sqlalchemy 1.6 pypi_0 pypi
&lt;/code>&lt;/pre>&lt;/div>&lt;p>卸载原有的GPU版本torch，貌似原先是使用pip安装的，在尝试conda卸载无果后使用pip卸载成功。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>tod_bert_cpu&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ conda remove pytorch
Collecting package metadata &lt;span class="o">(&lt;/span>repodata.json&lt;span class="o">)&lt;/span>: &lt;span class="k">done&lt;/span>
Solving environment: failed
PackagesNotFoundError: The following packages are missing from the target environment:
- pytorch
&lt;span class="o">(&lt;/span>tod_bert_cpu&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ pip uninstall torch
Found existing installation: torch 1.6.0
Uninstalling torch-1.6.0:
Would remove:
/media/HD1/dche/miniconda3/envs/tod_bert_cpu/bin/convert-caffe2-to-onnx
/media/HD1/dche/miniconda3/envs/tod_bert_cpu/bin/convert-onnx-to-caffe2
/media/HD1/dche/miniconda3/envs/tod_bert_cpu/lib/python3.7/site-packages/caffe2/*
/media/HD1/dche/miniconda3/envs/tod_bert_cpu/lib/python3.7/site-packages/torch-1.6.0.dist-info/*
/media/HD1/dche/miniconda3/envs/tod_bert_cpu/lib/python3.7/site-packages/torch/*
Proceed &lt;span class="o">(&lt;/span>Y/n&lt;span class="o">)&lt;/span>? y
Successfully uninstalled torch-1.6.0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装cpu版本torch&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>tod_bert_cpu&lt;span class="o">)&lt;/span> dialogue@amax-13:/$ conda install &lt;span class="nv">pytorch&lt;/span>&lt;span class="o">==&lt;/span>1.6.0 &lt;span class="nv">torchvision&lt;/span>&lt;span class="o">==&lt;/span>0.7.0 cpuonly -c pytorch
Collecting package metadata &lt;span class="o">(&lt;/span>current_repodata.json&lt;span class="o">)&lt;/span>: &lt;span class="k">done&lt;/span>
Solving environment: &lt;span class="k">done&lt;/span>
&lt;span class="c1">## Package Plan ##&lt;/span>
environment location: /media/HD1/dche/miniconda3/envs/tod_bert_cpu
added / updated specs:
- cpuonly
- &lt;span class="nv">pytorch&lt;/span>&lt;span class="o">==&lt;/span>1.6.0
- &lt;span class="nv">torchvision&lt;/span>&lt;span class="o">==&lt;/span>0.7.0
The following packages will be downloaded:
&lt;span class="p">|&lt;/span> package &lt;span class="p">|&lt;/span> build &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> --------------------- &lt;span class="p">|&lt;/span> ----------------------------------- &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> blas-1.0 &lt;span class="p">|&lt;/span> mkl &lt;span class="m">6&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> cpuonly-2.0 &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">2&lt;/span> KB pytorch &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> freetype-2.11.0 &lt;span class="p">|&lt;/span> h70c0345_0 &lt;span class="m">618&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> giflib-5.2.1 &lt;span class="p">|&lt;/span> h7b6447c_0 &lt;span class="m">78&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> intel-openmp-2021.4.0 &lt;span class="p">|&lt;/span> h06a4308_3561 4.2 MB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> jpeg-9d &lt;span class="p">|&lt;/span> h7f8727e_0 &lt;span class="m">232&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> lcms2-2.12 &lt;span class="p">|&lt;/span> h3be6417_0 &lt;span class="m">312&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> libpng-1.6.37 &lt;span class="p">|&lt;/span> hbc83047_0 &lt;span class="m">278&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> libtiff-4.2.0 &lt;span class="p">|&lt;/span> h85742a9_0 &lt;span class="m">502&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> libwebp-1.2.0 &lt;span class="p">|&lt;/span> h89dd481_0 &lt;span class="m">493&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> libwebp-base-1.2.0 &lt;span class="p">|&lt;/span> h27cfd23_0 &lt;span class="m">437&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> lz4-c-1.9.3 &lt;span class="p">|&lt;/span> h295c915_1 &lt;span class="m">185&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> mkl-2021.4.0 &lt;span class="p">|&lt;/span> h06a4308_640 142.6 MB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> mkl-service-2.4.0 &lt;span class="p">|&lt;/span> py37h7f8727e_0 &lt;span class="m">56&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> mkl_fft-1.3.1 &lt;span class="p">|&lt;/span> py37hd3c417c_0 &lt;span class="m">172&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> mkl_random-1.2.2 &lt;span class="p">|&lt;/span> py37h51133e4_0 &lt;span class="m">287&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> ninja-1.10.2 &lt;span class="p">|&lt;/span> py37hd09550d_3 1.5 MB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> numpy-1.21.2 &lt;span class="p">|&lt;/span> py37h20f2e39_0 &lt;span class="m">23&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> numpy-base-1.21.2 &lt;span class="p">|&lt;/span> py37h79a1101_0 4.8 MB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> olefile-0.46 &lt;span class="p">|&lt;/span> py37_0 &lt;span class="m">50&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> pillow-8.4.0 &lt;span class="p">|&lt;/span> py37h5aabda8_0 &lt;span class="m">644&lt;/span> KB &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> pytorch-1.6.0 &lt;span class="p">|&lt;/span> py3.7_cpu_0 59.4 MB pytorch &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> pytorch-mutex-1.0 &lt;span class="p">|&lt;/span> cpu &lt;span class="m">3&lt;/span> KB pytorch &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> torchvision-0.7.0 &lt;span class="p">|&lt;/span> py37_cpu 10.3 MB pytorch &lt;span class="p">|&lt;/span>
&lt;span class="p">|&lt;/span> zstd-1.4.9 &lt;span class="p">|&lt;/span> haebb681_0 &lt;span class="m">480&lt;/span> KB &lt;span class="p">|&lt;/span>
------------------------------------------------------------
Total: 227.4 MB
The following NEW packages will be INSTALLED:
blas pkgs/main/linux-64::blas-1.0-mkl
cpuonly pytorch/noarch::cpuonly-2.0-0
freetype pkgs/main/linux-64::freetype-2.11.0-h70c0345_0
giflib pkgs/main/linux-64::giflib-5.2.1-h7b6447c_0
intel-openmp pkgs/main/linux-64::intel-openmp-2021.4.0-h06a4308_3561
jpeg pkgs/main/linux-64::jpeg-9d-h7f8727e_0
lcms2 pkgs/main/linux-64::lcms2-2.12-h3be6417_0
libpng pkgs/main/linux-64::libpng-1.6.37-hbc83047_0
libtiff pkgs/main/linux-64::libtiff-4.2.0-h85742a9_0
libwebp pkgs/main/linux-64::libwebp-1.2.0-h89dd481_0
libwebp-base pkgs/main/linux-64::libwebp-base-1.2.0-h27cfd23_0
lz4-c pkgs/main/linux-64::lz4-c-1.9.3-h295c915_1
mkl pkgs/main/linux-64::mkl-2021.4.0-h06a4308_640
mkl-service pkgs/main/linux-64::mkl-service-2.4.0-py37h7f8727e_0
mkl_fft pkgs/main/linux-64::mkl_fft-1.3.1-py37hd3c417c_0
mkl_random pkgs/main/linux-64::mkl_random-1.2.2-py37h51133e4_0
ninja pkgs/main/linux-64::ninja-1.10.2-py37hd09550d_3
numpy pkgs/main/linux-64::numpy-1.21.2-py37h20f2e39_0
numpy-base pkgs/main/linux-64::numpy-base-1.21.2-py37h79a1101_0
olefile pkgs/main/linux-64::olefile-0.46-py37_0
pillow pkgs/main/linux-64::pillow-8.4.0-py37h5aabda8_0
pytorch pytorch/linux-64::pytorch-1.6.0-py3.7_cpu_0
pytorch-mutex pytorch/noarch::pytorch-mutex-1.0-cpu
six pkgs/main/noarch::six-1.16.0-pyhd3eb1b0_0
torchvision pytorch/linux-64::torchvision-0.7.0-py37_cpu
zstd pkgs/main/linux-64::zstd-1.4.9-haebb681_0
Proceed &lt;span class="o">([&lt;/span>y&lt;span class="o">]&lt;/span>/n&lt;span class="o">)&lt;/span>? y
Downloading and Extracting Packages
olefile-0.46 &lt;span class="p">|&lt;/span> &lt;span class="m">50&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
numpy-base-1.21.2 &lt;span class="p">|&lt;/span> 4.8 MB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
libpng-1.6.37 &lt;span class="p">|&lt;/span> &lt;span class="m">278&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
freetype-2.11.0 &lt;span class="p">|&lt;/span> &lt;span class="m">618&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
libwebp-base-1.2.0 &lt;span class="p">|&lt;/span> &lt;span class="m">437&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
blas-1.0 &lt;span class="p">|&lt;/span> &lt;span class="m">6&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
libtiff-4.2.0 &lt;span class="p">|&lt;/span> &lt;span class="m">502&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
torchvision-0.7.0 &lt;span class="p">|&lt;/span> 10.3 MB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
zstd-1.4.9 &lt;span class="p">|&lt;/span> &lt;span class="m">480&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
pytorch-1.6.0 &lt;span class="p">|&lt;/span> 59.4 MB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
libwebp-1.2.0 &lt;span class="p">|&lt;/span> &lt;span class="m">493&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
jpeg-9d &lt;span class="p">|&lt;/span> &lt;span class="m">232&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
intel-openmp-2021.4. &lt;span class="p">|&lt;/span> 4.2 MB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
lcms2-2.12 &lt;span class="p">|&lt;/span> &lt;span class="m">312&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
mkl-service-2.4.0 &lt;span class="p">|&lt;/span> &lt;span class="m">56&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
pytorch-mutex-1.0 &lt;span class="p">|&lt;/span> &lt;span class="m">3&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
giflib-5.2.1 &lt;span class="p">|&lt;/span> &lt;span class="m">78&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
mkl_random-1.2.2 &lt;span class="p">|&lt;/span> &lt;span class="m">287&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
cpuonly-2.0 &lt;span class="p">|&lt;/span> &lt;span class="m">2&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
mkl-2021.4.0 &lt;span class="p">|&lt;/span> 142.6 MB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
ninja-1.10.2 &lt;span class="p">|&lt;/span> 1.5 MB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
mkl_fft-1.3.1 &lt;span class="p">|&lt;/span> &lt;span class="m">172&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
pillow-8.4.0 &lt;span class="p">|&lt;/span> &lt;span class="m">644&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
lz4-c-1.9.3 &lt;span class="p">|&lt;/span> &lt;span class="m">185&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
numpy-1.21.2 &lt;span class="p">|&lt;/span> &lt;span class="m">23&lt;/span> KB &lt;span class="p">|&lt;/span> &lt;span class="c1">############################################################################################# | 100% &lt;/span>
Preparing transaction: &lt;span class="k">done&lt;/span>
Verifying transaction: &lt;span class="k">done&lt;/span>
Executing transaction: &lt;span class="k">done&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="配置并运行bert">配置并运行BERT&lt;/h2>
&lt;p>直接使用同CPU的命令&lt;code>CUDA_VISIBLE_DEVICES=0 ./run_tod_lm_pretraining.sh 0 bert bert-base-uncased save/pretrain/ToD-BERT-MLM --only_last_turn --data_path ./../dialog_datasets&lt;/code>，貌似没有任何问题地跑起来了？&lt;/p>
&lt;p>由于项目要求，需要限制模型使用cpu的核数。&lt;/p>
&lt;p>使用命令&lt;code>top -d 1&lt;/code>查看目前cpu占用情况，顺便查看跑BERT模型的python进程PID&lt;/p>
&lt;p>使用命令&lt;code>taskset -cp &amp;lt;cpu list&amp;gt; &amp;lt;pid&amp;gt;&lt;/code>进行绑核操作，ep.&lt;code>taskset -cp 0,1,2,3 94434&lt;/code>&lt;/p>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/94744929" target="_blank" rel="noopener"
>Anaconda-用conda创建python虚拟环境&lt;/a>&lt;/p></description></item><item><title>Git large file versioning</title><link>https://comfluter.life/p/git-large-file-versioning/</link><pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/git-large-file-versioning/</guid><description>&lt;ol>
&lt;li>Download git-lfs on &lt;code>https://git-lfs.github.com/&lt;/code>, and run the installation package for windows.&lt;/li>
&lt;li>Once downloaded and installed, set up Git LFS for your user account by running:&lt;code>git lfs install&lt;/code>. You only need to run this once per user account.&lt;/li>
&lt;li>In each Git repository where you want to use Git LFS, select the file types you&amp;rsquo;d like Git LFS to manage (or directly edit your .gitattributes). You can configure additional file extensions at anytime.&lt;code>git lfs track &amp;quot;*.psd&amp;quot;&lt;/code>&lt;/li>
&lt;li>Now make sure .gitattributes is tracked:&lt;code>git add .gitattributes&lt;/code>&lt;/li>
&lt;li>Note that defining the file types Git LFS should track will not, by itself, convert any pre-existing files to Git LFS, such as files on other branches or in your prior commit history. To do that, use the git lfs migrate[1] command, which has a range of options designed to suit various potential use cases.&lt;/li>
&lt;li>There is no step three. Just commit and push to GitHub as you normally would; for instance, if your current branch is named main:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">git add file.psd
git commit -m &lt;span class="s2">&amp;#34;Add design file&amp;#34;&lt;/span>
git push origin main
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol></description></item><item><title>Numpy 学习随记</title><link>https://comfluter.life/p/numpy-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/numpy-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="数组切片">数组切片&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">22&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">]],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">33&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>注意Numpy中元素编号从0开始，左侧包含右侧不包含&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>取单个元素&lt;code>x = a[1, 2]&lt;/code>，对应第0维的第1个元素&lt;code>4&lt;/code>&lt;/li>
&lt;li>切片&lt;code>x = a[0:2, 1:3]&lt;/code>，对应第0维的第0~1个元素，第1维的第1~2个元素&lt;code>[[12 13], [22 23]]&lt;/code>&lt;/li>
&lt;li>切片&lt;code>x = a[:2, 2:]&lt;/code>，对应对应第0维的最开始到第2（2-1）个元素，第1维的第2个及以后的所有元素&lt;code>[[13], [23]]&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="判断一个数组是否存在于另一个大数组内">判断一个数组是否存在于另一个大数组内&lt;/h2>
&lt;p>直接使用&lt;code>==&lt;/code>会逐数字判断元素是否存在：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>可以改为&lt;code>(a == np.array([1, 2, 3])).all(1).any()&lt;/code>。y == z会将y的每一行与z的每个元素进行比较。 使用all(axis=1)可以获取所有元素匹配的行，并使用any()找出是否匹配。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">any&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>输出结果：&lt;/p>
&lt;pre tabindex="0">&lt;code>[[ True True True]
[False False False]]
[ True False]
True
&lt;/code>&lt;/pre>&lt;h2 id="各种拷贝">各种拷贝&lt;/h2>
&lt;ol>
&lt;li>无拷贝&lt;code>a = b&lt;/code>:a,b完全相同，指向同一对象&lt;/li>
&lt;li>浅拷贝&lt;code>b = a.view()&lt;/code>：只会copy父对象，不会copy底层的数据，共用原始引用指向的对象数据。如果在view上修改数据，会直接反馈到原始对象。改变b的&lt;code>shape&lt;/code>等父对象的参数时，不会改变a的相应参数&lt;/li>
&lt;li>深拷贝&lt;code>b = a.copy()&lt;/code>：对象及其子对象都进行copy一份，两对象完全独立。&lt;/li>
&lt;/ol></description></item><item><title>PlantUML 学习随记</title><link>https://comfluter.life/p/plantuml-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/plantuml-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="plantuml-with-vscode">PlantUML with VsCode&lt;/h2>
&lt;ol>
&lt;li>Install &lt;code>PlantUML&lt;/code> extension for vscode.&lt;/li>
&lt;li>following extension follow me document:
&lt;ol>
&lt;li>install java JRE&lt;/li>
&lt;li>install Graphviz&lt;/li>
&lt;li>download the latest &lt;code>plantuml.jar&lt;/code>&lt;/li>
&lt;li>specify the jar location with the extension setting plantuml.jar&lt;/li>
&lt;li>specify the GraphViz installation by defining the Windows environment variable &lt;code>GRAPHVIZ_DOT&lt;/code>, e.g., &lt;code>c:\program files\graphviz\bin\dot.exe&lt;/code>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Python 学习随记</title><link>https://comfluter.life/p/python-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</link><pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/python-%E5%AD%A6%E4%B9%A0%E9%9A%8F%E8%AE%B0/</guid><description>&lt;h2 id="python-module">Python Module&lt;/h2>
&lt;h3 id="python-module-导入方法">Python Module 导入方法&lt;/h3>
&lt;ol>
&lt;li>&lt;code>import &amp;lt;module name&amp;gt;&lt;/code>调用这个方法导入的module中的函数时，需要&lt;code>&amp;lt;module name&amp;gt;.&amp;lt;function name&amp;gt;&lt;/code>格式进行使用&lt;/li>
&lt;li>&lt;code>from &amp;lt;module name&amp;gt; import &amp;lt;sth&amp;gt;&lt;/code>从某个模块中引入某些特殊函数等引入现在所在的全局命名空间中，直接使用&lt;code>&amp;lt;sth&amp;gt;&lt;/code>就可以进行使用。这里引入的可以是一个子包，也可以是子包中的任意对象。&lt;/li>
&lt;li>&lt;code>from &amp;lt;module name&amp;gt; import *&lt;/code>将模块中所有对象引入，直接使用原模块中的名称即可使用&lt;/li>
&lt;/ol>
&lt;h3 id="搜索路径">搜索路径&lt;/h3>
&lt;p>导入一个模块时，Python 解析器对模块位置的搜索顺序是：&lt;/p>
&lt;ol>
&lt;li>当前目录&lt;/li>
&lt;li>如果不在当前目录，Python 则搜索在 shell 变量 &lt;code>PYTHONPATH&lt;/code> 下的每个目录。&lt;/li>
&lt;li>如果都找不到，Python会察看默认路径。UNIX下，默认路径一般为&lt;code>/usr/local/lib/python/&lt;/code>。
模块搜索路径存储在 &lt;code>system&lt;/code> 模块的 &lt;code>sys.path&lt;/code> 变量中。变量里包含当前目录，&lt;code>PYTHONPATH&lt;/code>和由安装过程决定的默认目录。&lt;/li>
&lt;/ol>
&lt;h3 id="命名空间和作用域">命名空间和作用域&lt;/h3>
&lt;ul>
&lt;li>变量：名字与匹配对象的对应&lt;/li>
&lt;li>命名空间：记录了所有名字-对象对应关系的字典&lt;/li>
&lt;/ul>
&lt;p>python表达式可以访问全局/局部命名空间，重名时局部命名空间优先。
使用&lt;code>global&lt;/code>语句可以告诉python变量属于全局变量。ex.&lt;code>global x&lt;/code>&lt;/p>
&lt;h3 id="导入本地自定义包">导入本地自定义包&lt;/h3>
&lt;p>文件结构&lt;/p>
&lt;pre tabindex="0">&lt;code>main.py
package
|--__init__.py
|--module1.py
|--module2.py
&lt;/code>&lt;/pre>&lt;p>包是一个分层次的文件目录结构，它定义了一个由模块及子包，和子包下的子包等组成的 Python 的应用环境。&lt;/p>
&lt;p>简单来说，包就是文件夹，但该文件夹下必须存在&lt;code>__init__.py&lt;/code> 文件, 该文件的内容可以为空。&lt;code>__init__.py&lt;/code> 用于标识当前文件夹是一个包。&lt;/p>
&lt;p>假设&lt;code>module1.py&lt;/code>中有函数&lt;code>func1()&lt;/code>，则在main函数中可以使用以下集中方式进行包导入：&lt;/p>
&lt;ol>
&lt;li>&lt;code>import mymodule.module1&lt;/code>此时对应&lt;code>func1()&lt;/code>的调用为&lt;code>mymodule.module1.func1()&lt;/code>，前缀较长，比较繁琐。&lt;/li>
&lt;li>&lt;code>import mymodule.module1 as m1&lt;/code>此时对应&lt;code>func1()&lt;/code>的调用为&lt;code>m1.func1()&lt;/code>&lt;/li>
&lt;li>&lt;code>from mymodule import module1&lt;/code>此时对应&lt;code>func1()&lt;/code>的调用为&lt;code>module1.func1()&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="集合数据类型">集合数据类型&lt;/h2>
&lt;p>Python 编程语言中有四种集合数据类型：&lt;/p>
&lt;ul>
&lt;li>列表（List）是一种有序和可更改的集合。允许重复的成员。&lt;/li>
&lt;li>元组（Tuple）是一种有序且不可更改的集合。允许重复的成员。&lt;/li>
&lt;li>集合（Set）是一个无序和无索引的集合。没有重复的成员。&lt;/li>
&lt;li>词典（Dictionary）是一个无序，可变和有索引的集合。没有重复的成员。&lt;/li>
&lt;/ul>
&lt;p>选择集合类型时，了解该类型的属性很有用。&lt;/p>
&lt;p>为特定数据集选择正确的类型可能意味着保留含义，并且可能意味着提高效率或安全性。&lt;/p>
&lt;ul>
&lt;li>List
&lt;ul>
&lt;li>&lt;code>thislist = [&amp;quot;apple&amp;quot;, &amp;quot;banana&amp;quot;, &amp;quot;cherry&amp;quot;]&lt;/code>&lt;/li>
&lt;li>&lt;code>print(thislist[1])&lt;/code>&lt;/li>
&lt;li>&lt;code>thislist[1] = &amp;quot;mango&amp;quot;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Tuple
&lt;ul>
&lt;li>&lt;code>thistuple = (&amp;quot;apple&amp;quot;, &amp;quot;banana&amp;quot;, &amp;quot;cherry&amp;quot;)&lt;/code>&lt;/li>
&lt;li>&lt;code>print(thistuple[1])&lt;/code>&lt;/li>
&lt;li>不可更改，需要转为列表更改后再转回&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Set
&lt;ul>
&lt;li>&lt;code>thisset = {&amp;quot;apple&amp;quot;, &amp;quot;banana&amp;quot;, &amp;quot;cherry&amp;quot;}&lt;/code>&lt;/li>
&lt;li>访问项目：
&lt;ul>
&lt;li>您无法通过引用索引来访问 &lt;code>set&lt;/code> 中的项目，因为 &lt;code>set&lt;/code> 是无序的，项目没有索引。&lt;/li>
&lt;li>但是您可以使用 &lt;code>for&lt;/code> 循环遍历 &lt;code>set&lt;/code> 项目，或者使用 &lt;code>in&lt;/code> 关键字查询集合中是否存在指定值。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>要将一个项添加到集合，请使用 &lt;code>add()&lt;/code> 方法。&lt;/li>
&lt;li>要向集合中添加多个项目，请使用 &lt;code>update()&lt;/code> 方法。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Dictionary
&lt;ul>
&lt;li>创建字典
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="n">thisdict&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="s2">&amp;#34;brand&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Porsche&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;model&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;911&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;year&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1963&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>x = thisdict[&amp;quot;model&amp;quot;]&lt;/code> or &lt;code>x = thisdict.get(&amp;quot;model&amp;quot;)&lt;/code>&lt;/li>
&lt;li>thisdict[&amp;ldquo;year&amp;rdquo;] = 2019&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="virtual-environment">Virtual Environment&lt;/h2>
&lt;h3 id="安装虚拟环境">安装虚拟环境&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">PS D:&lt;span class="se">\W&lt;/span>ork&lt;span class="se">\0&lt;/span>&lt;span class="m">4&lt;/span> Research Project&lt;span class="se">\2&lt;/span>1.08.19 Early Visual Processing&lt;span class="se">\p&lt;/span>yspice&amp;gt; pip install virtualenv
Collecting virtualenv
&lt;span class="p">|&lt;/span>████████████████████████████████&lt;span class="p">|&lt;/span> 5.6 MB 6.4 MB/s
Collecting filelock&amp;lt;4,&amp;gt;&lt;span class="o">=&lt;/span>3.2
Downloading filelock-3.4.0-py3-none-any.whl &lt;span class="o">(&lt;/span>9.8 kB&lt;span class="o">)&lt;/span>
Collecting backports.entry-points-selectable&amp;gt;&lt;span class="o">=&lt;/span>1.0.4
Downloading backports.entry_points_selectable-1.1.1-py2.py3-none-any.whl &lt;span class="o">(&lt;/span>6.2 kB&lt;span class="o">)&lt;/span>
Collecting platformdirs&amp;lt;3,&amp;gt;&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span>
Downloading platformdirs-2.4.0-py3-none-any.whl &lt;span class="o">(&lt;/span>&lt;span class="m">14&lt;/span> kB&lt;span class="o">)&lt;/span>
Collecting distlib&amp;lt;1,&amp;gt;&lt;span class="o">=&lt;/span>0.3.1
&lt;span class="p">|&lt;/span>████████████████████████████████&lt;span class="p">|&lt;/span> &lt;span class="m">496&lt;/span> kB 1.6 MB/s
Requirement already satisfied: six&amp;lt;2,&amp;gt;&lt;span class="o">=&lt;/span>1.9.0 in c:&lt;span class="se">\p&lt;/span>rogramming&lt;span class="se">\p&lt;/span>ython&lt;span class="se">\l&lt;/span>ib&lt;span class="se">\s&lt;/span>ite-packages &lt;span class="o">(&lt;/span>from virtualenv&lt;span class="o">)&lt;/span> &lt;span class="o">(&lt;/span>1.16.0&lt;span class="o">)&lt;/span>
Installing collected packages: platformdirs, filelock, distlib, backports.entry-points-selectable, virtualenv
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="创建虚拟环境">创建虚拟环境&lt;/h3>
&lt;p>&lt;code>virtualenv myvenv&lt;/code>，可选参数：&lt;/p>
&lt;ul>
&lt;li>&lt;code>--no-site-packages&lt;/code>：创建虚拟环境时，不复制主环境中安装的第三方包，也就是创建一个 “干净的” 虚拟环境&lt;/li>
&lt;li>&lt;code>-p&lt;/code>：用于指定 Python 解析器，就是安装好的 Python 应用程序，默认为当前环境中的 Python&lt;/li>
&lt;li>&lt;code>--no-pip&lt;/code>：不需要安装 pip，默认为安装&lt;/li>
&lt;li>&lt;code>--clear&lt;/code>：如果创建虚拟环境的目录已经有了其他虚拟环境，清除重建&lt;/li>
&lt;/ul>
&lt;h3 id="激活虚拟环境">激活虚拟环境&lt;/h3>
&lt;p>虚拟环境创建好后，需要激活才能在当前命令行中使用，可以理解成将当前命令行环境中 PATH 变量的值替换掉&lt;/p>
&lt;p>通过 virtualenv 和 模块 venv 创建的虚拟环境，激活方式是一样的，即运行激活脚本&lt;/p>
&lt;ul>
&lt;li>Windows 系统中，激活脚本路径是 &lt;code>&amp;lt;myvenv&amp;gt;\Scripts\activate.bat&lt;/code>，如果是 powershell 命令行，脚本换成 &lt;code>Activate.ps1&lt;/code> , 注意将 &lt;!-- raw HTML omitted -->换成你自己的虚拟环境目录&lt;/li>
&lt;li>Linux 系统中，激活脚本路径是 &lt;code>&amp;lt;myvenv&amp;gt;/bin/activate&lt;/code>，默认脚本没有执行权限，要么设置脚本为可执行，要么用 &lt;code>source&lt;/code> 命令执行&lt;/li>
&lt;/ul>
&lt;p>激活后，可以查看&lt;code>PATH&lt;/code>变量 &lt;code>echo %PATH%&lt;/code>&lt;/p>
&lt;h3 id="退出虚拟环境">退出虚拟环境&lt;/h3>
&lt;p>退出虚拟环境很简单，只需要执行 &lt;code>deactivate&lt;/code> 命令就行，这个命令也在虚拟环境的脚本目录下，因为激活时，将脚本目录设置到 &lt;code>PATH&lt;/code> 中了，所以可以直接使用&lt;/p>
&lt;p>退出虚拟环境相当于将 &lt;code>PATH&lt;/code> 恢复成原来的&lt;/p>
&lt;h2 id="minutiae">Minutiae&lt;/h2>
&lt;ul>
&lt;li>Python does not have &lt;code>switch&lt;/code> statement. Use dict instead.&lt;/li>
&lt;li>autopep8 auto line feed:
&lt;ul>
&lt;li>Python编码风格指导(PEP8)要求每行代码不得超过80个字符。而VSCode+Pyhon常用代码检查工具是pylint和flake8，常用代码格式化工具是yapf、autopep8和black。针对代码过长导致格式化时自动换行，应在setting.json中修改格式化工具的每行最大字符个数。
&lt;pre tabindex="0">&lt;code>// autopep8
&amp;quot;python.formatting.provider&amp;quot;: &amp;quot;autopep8&amp;quot;,
&amp;quot;python.formatting.autopep8Args&amp;quot;: [
&amp;quot;--max-line-length=200&amp;quot;
],
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>exec&lt;/code> 执行储存在字符串或文件中的 Python 语句，相比于 &lt;code>eval&lt;/code>，&lt;code>exec&lt;/code>可以执行更复杂的 Python 代码&lt;/li>
&lt;/ul>
&lt;h2 id="resources">Resources&lt;/h2>
&lt;p>(W3School Python 教程)[https://www.w3school.com.cn/python/index.asp]&lt;/p></description></item><item><title>大创对话系统21.11.22组会</title><link>https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.11.22%E7%BB%84%E4%BC%9A/</link><pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.11.22%E7%BB%84%E4%BC%9A/</guid><description>&lt;h2 id="问题">问题&lt;/h2>
&lt;ol>
&lt;li>设备选择：
&lt;ol>
&lt;li>主要参数：内存 GPU&lt;/li>
&lt;li>设备：jetson更好
&lt;ol>
&lt;li>树莓派算力有限，人工智能框架支持不官方&lt;/li>
&lt;li>jetson有关方支持&lt;/li>
&lt;li>tensor+树莓派能媲美jetson+tensor&lt;/li>
&lt;li>IO口&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Tod-BERT fine tune
&lt;ol>
&lt;li>精调后的inference time &amp;amp; 内存占用？&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>ToD-inference time 单位？&lt;/li>
&lt;/ol>
&lt;h2 id="任务">任务&lt;/h2>
&lt;ol>
&lt;li>树莓派装pytorch&lt;/li>
&lt;li>ToD-BERT 在树莓派上训练、推理&lt;/li>
&lt;li>ToD-BERT fine tune&lt;/li>
&lt;li>ToD-BERT inference time
&lt;ol>
&lt;li>想测在一个卡上batch size = 1时候的推理时间&lt;/li>
&lt;li>&lt;code>cuda.event&lt;/code>时间数值的单位？&lt;/li>
&lt;li>&lt;code>time&lt;/code>包中测出来的时间？ 10ms级别&lt;/li>
&lt;li>使用&lt;code>time&lt;/code>包测量的方法
&lt;ol>
&lt;li>&lt;figure
class="gallery-image"
style="
flex-grow: 194;
flex-basis: 467px"
>
&lt;a href="https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.11.22%E7%BB%84%E4%BC%9A/1.png" data-size="678x348">
&lt;img src="https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.11.22%E7%BB%84%E4%BC%9A/1.png"
width="678"
height="348"
srcset="https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.11.22%E7%BB%84%E4%BC%9A/1_hu0ba1bded01dad50e4947996634712043_24060_480x0_resize_box_3.png 480w, https://comfluter.life/p/%E5%A4%A7%E5%88%9B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F21.11.22%E7%BB%84%E4%BC%9A/1_hu0ba1bded01dad50e4947996634712043_24060_1024x0_resize_box_3.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>服务器CPU运行测量 training
&lt;ol>
&lt;li>限制CPU核心数量4&lt;/li>
&lt;li>batch size = 1，2，4&lt;/li>
&lt;li>重新配置conda环境，安装CPU版本pytorch
&lt;ol>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/94744929" target="_blank" rel="noopener"
>配置conda环境教程&lt;/a>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>用&lt;code>time&lt;/code>模块测量&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>立项答辩
&lt;ol>
&lt;li>&lt;strong>突出动机&lt;/strong>&lt;/li>
&lt;li>抓住评委兴趣&lt;/li>
&lt;li>语速、文字减少，减少技术细节&lt;/li>
&lt;li>突出重音、重点&lt;/li>
&lt;li>每人提2条意见&lt;/li>
&lt;li>应用场景&lt;/li>
&lt;li>边缘端部署
&lt;ol>
&lt;li>内存需求&lt;/li>
&lt;li>算力需求&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>ToD-BERT 相关内容</title><link>https://comfluter.life/p/tod-bert-%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/</link><pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/tod-bert-%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/</guid><description>&lt;h2 id="tod-bert-the-paper">ToD-BERT the Paper&lt;/h2>
&lt;h3 id="数据集">数据集&lt;/h3>
&lt;p>不同的数据集可以帮助模型达到不同的熟练效果&lt;/p>
&lt;ul>
&lt;li>MetaLWOZ 预测数据&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;h3 id="tod-bert怎么训练的">ToD-BERT怎么训练的？&lt;/h3>
&lt;ol>
&lt;li>mlm&lt;/li>
&lt;li>contrastive function
两者都有误差，因此才可以被训练。
空间结构能够捕获差异，发现细微结构。&lt;/li>
&lt;/ol>
&lt;h2 id="在服务器上运行tod-bert训练">在服务器上运行ToD-BERT训练&lt;/h2>
&lt;ol>
&lt;li>进入服务器，激活环境&lt;code>source activate todbert_env&lt;/code>&lt;/li>
&lt;li>进入/media/HD1/dche/ToD-BERT文件夹&lt;code>cd /media/HD1/dche/ToD-BERT&lt;/code>&lt;/li>
&lt;li>查看GPU资源占用情况&lt;code>nvidia-smi&lt;/code>，然后选择目前占用情况较低的一张GPU进行训练即可&lt;/li>
&lt;li>运行训练shell脚本文件&lt;code>CUDA_VISIBLE_DEVICES=0 ./run_tod_lm_pretraining.sh 0 bert bert-base-uncased save/pretrain/ToD-BERT-MLM --only_last_turn --data_path ./../dialog_datasets&lt;/code>。根据第三步选择的几号卡，就把对应的0改成几，此处默认单卡训练。如果一切正常的话，再读入数据集数据后，就会开始训练了，有进度条出现就Ok了。常见的没跑起来的情况是CUDA out of memory。&lt;/li>
&lt;/ol>
&lt;h2 id="tod-bert本地调用">ToD-BERT本地调用&lt;/h2>
&lt;ol>
&lt;li>将ToD-BERT模型下载至本地&lt;/li>
&lt;li>包含ToD-BERT所需的python包，并定义模型路径
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">transformers&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="o">*&lt;/span>
&lt;span class="n">BERT&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">path_to_the_downloaded_tod&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">bert&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="c1"># 注意此处的路径要使用从根目录开始的绝对路径，而非从用户~目录开始的相对路径。&lt;/span>
&lt;span class="n">model_class&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tokenizer_class&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">config_class&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BertModel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">BertTokenizer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">BertConfig&lt;/span>
&lt;span class="n">tokenizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tokenizer_class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BERT&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">tod_bert&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model_class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BERT&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>使用ToD-BERT文档中的示例
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="c1"># Encode text &lt;/span>
&lt;span class="n">input_text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;[CLS] [SYS] Hello, what can I help with you today? [USR] Find me a cheap restaurant nearby the north town.&amp;#34;&lt;/span>
&lt;span class="n">input_tokens&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tokenizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tokenize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">input_text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">story&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Tensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tokenizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">convert_tokens_to_ids&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">input_tokens&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">long&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">story&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">story&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">story&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">unsqueeze&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># batch size dimension&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_available&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="n">tod_bert&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tod_bert&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">story&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">story&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="n">input_context&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;input_ids&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">story&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;attention_mask&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">story&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">long&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;span class="n">hiddens&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tod_bert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="n">input_context&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="计算tod-bert推理时间延迟">计算ToD-BERT推理时间延迟&lt;/h2>
&lt;h3 id="如何正确地计算">如何正确地计算&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.jianshu.com/p/9b9d6782f90b" target="_blank" rel="noopener"
>深度学习中如何正确地measure inference time&lt;/a>&lt;/p>
&lt;p>问题：&lt;/p>
&lt;ol>
&lt;li>在进行多batch训练或推理的时候，batch1被送进GPU后，CPU由于异步执行，不再等待batch1在GPU内执行完毕，而是直接对batch2进行预处理，此时若使用python的time库，停止计算时间的代码将在GPU执行完毕前被执行，导致时长计算错误。&lt;/li>
&lt;li>GPU在不工作时将关掉许多硬件模块，在调用GPU时需要重新初始化（GPU预热），占用大量时间，导致时间测算错误。&lt;/li>
&lt;/ol>
&lt;p>解决方法：&lt;/p>
&lt;ol>
&lt;li>在真正需要的example前运行几个example，使得GPU不再处于省电模式。&lt;/li>
&lt;li>使用&lt;code>tr.cuda.event&lt;/code>，在GPU上测量时间&lt;/li>
&lt;li>使用函数&lt;code>torch.cuda.synchronize()&lt;/code>，使得CPU和GPU工作在同步执行模式。&lt;/li>
&lt;/ol>
&lt;h3 id="在服务器上进行inference并计算inference时间">在服务器上进行inference并计算inference时间&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>在&lt;code>run_tod_lm_pretraining.sh&lt;/code>文件中修改&lt;code>batch size = 1&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="nv">gpu&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">model_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$2&lt;/span>
&lt;span class="nv">bert_dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$3&lt;/span>
&lt;span class="nv">output_dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$4&lt;/span>
&lt;span class="nv">add1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$5&lt;/span>
&lt;span class="nv">add2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$6&lt;/span>
&lt;span class="nv">add3&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$7&lt;/span>
&lt;span class="nv">add4&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$8&lt;/span>
&lt;span class="nv">add5&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$9&lt;/span>
&lt;span class="c1"># ./run_tod_lm_pretraining.sh 0 bert bert-base-uncased save/pretrain/ToD-BERT-MLM --only_last_turn&lt;/span>
&lt;span class="c1"># ./run_tod_lm_pretraining.sh 0 bert bert-base-uncased save/pretrain/ToD-BERT-JNT --only_last_turn --add_rs_loss&lt;/span>
&lt;span class="nv">CUDA_VISIBLE_DEVICES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3&lt;/span> python my_tod_pretraining.py &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --task&lt;span class="o">=&lt;/span>usdl &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --model_type&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">model_type&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --model_name_or_path&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">bert_dir&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --output_dir&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">output_dir&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --do_train &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --do_eval &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --mlm &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --do_lower_case &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --evaluate_during_training &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --save_steps&lt;span class="o">=&lt;/span>&lt;span class="m">2500&lt;/span> --logging_steps&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --per_gpu_train_batch_size&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> --per_gpu_eval_batch_size&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">add1&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">add2&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">add3&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">add4&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">add5&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>使用上文办法，在&lt;code>my_tod_pretraining.py&lt;/code>中引入计时相关语句：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="c1">## with only MLM loss&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">starter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ender&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Event&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">enable_timing&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Event&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">enable_timing&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">inputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">batch&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;context&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clone&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mlm&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">inputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mask_tokens&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tokenizer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">inputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">inputs&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">starter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputs&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">masked_lm_labels&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">labels&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">attention_mask&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">inputs&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">ender&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># WAIT FOR GPU SYNC&lt;/span>
&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">synchronize&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">curr_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">starter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">elapsed_time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ender&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">curr_time&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>由于训练时间较长，使用&lt;code>tmux&lt;/code>命令：&lt;code>tmux new -s inference_time_measure&lt;/code>，进入tmux回话后还需要重新激活虚拟环境。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="se">\(&lt;/span>base&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ &lt;span class="nv">CUDA_VISIBLE_DEVICES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> ./run_tod_lm_pretraining.sh &lt;span class="m">0&lt;/span> bert bert-base-uncased save/prtrain/ToD-BERT-MLM --only_last_turn --data_path ./../dialog_datasets
Traceback &lt;span class="o">(&lt;/span>most recent call last&lt;span class="o">)&lt;/span>:
File &lt;span class="s2">&amp;#34;/media/HD1/dche/ToD-BERT/my_tod_pretraining.py&amp;#34;&lt;/span>, line 16, in &amp;lt;module&amp;gt;
import numpy as np
ModuleNotFoundError: No module named &lt;span class="s1">&amp;#39;numpy&amp;#39;&lt;/span>
&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ conda info --env
&lt;span class="c1"># conda environments:&lt;/span>
&lt;span class="c1">#&lt;/span>
base * /media/HD1/dche/miniconda3
sum_env /media/HD1/dche/miniconda3/envs/sum_env
tod_bert /media/HD1/dche/miniconda3/envs/tod_bert
/media/HD1/miniconda3
&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ conda activate tod_bert
&lt;span class="o">(&lt;/span>tod_bert&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ &lt;span class="nv">CUDA_VISIBLE_DEVICES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> ./run_tod_lm_pretraining.sh &lt;span class="m">0&lt;/span> bert bert-base-uncased save/pretrain/ToD-BERT-MLM --only_last_turn --data_path ./../dialog_datasets
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>进行训练，观察输出结果 &lt;code>CUDA_VISIBLE_DEVICES=0 ./run_tod_lm_pretraining.sh 0 bert bert-base-uncased save/pretrain/ToD-BERT-MLM --only_last_turn --data_path ./../dialog_datasets&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>训练过程中可以使用&lt;code>crtl+b d&lt;/code>从会话中分离&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>tod_bert&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ tmux new -s inference_time_measure
&lt;span class="o">[&lt;/span>detached &lt;span class="o">(&lt;/span>from session inference_time_measure&lt;span class="o">)]&lt;/span>
&lt;span class="o">(&lt;/span>tod_bert&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>可以查看当前的tmux会话并连接&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="o">(&lt;/span>tod_bert&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ tmux ls
inference_time_measure: &lt;span class="m">1&lt;/span> windows &lt;span class="o">(&lt;/span>created Sun Nov &lt;span class="m">21&lt;/span> 23:26:48 2021&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>134x33&lt;span class="o">]&lt;/span>
zym1: &lt;span class="m">1&lt;/span> windows &lt;span class="o">(&lt;/span>created Sun Nov &lt;span class="m">21&lt;/span> 18:34:03 2021&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>148x45&lt;span class="o">]&lt;/span>
zym2: &lt;span class="m">1&lt;/span> windows &lt;span class="o">(&lt;/span>created Sun Nov &lt;span class="m">21&lt;/span> 18:34:44 2021&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>113x12&lt;span class="o">]&lt;/span>
&lt;span class="o">(&lt;/span>tod_bert&lt;span class="o">)&lt;/span> dialogue@amax-13:/media/HD1/dche/ToD-BERT$ tmux attach -t inference_time_measure
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>为了便于记录inference time，可以将bash命令中的输出全部写入txt文件，&lt;code>script -a 1.txt&lt;/code>，则之后shell中所有文字都将被记录在&lt;code>1.txt&lt;/code>中。&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title>在Nginx服务器上部署SSL证书</title><link>https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/</link><pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/</guid><description>&lt;h2 id="申请证书">申请证书&lt;/h2>
&lt;p>在腾讯云SSL证书界面申请即可，过程很快，十分钟就通知证书申请成功。&lt;/p>
&lt;h2 id="下载证书并上传至云服务器">下载证书并上传至云服务器&lt;/h2>
&lt;p>在腾讯云SSL证书面板，找到要部署网站的证书，点击右侧的下载按钮即可下载&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 176;
flex-basis: 423px"
>
&lt;a href="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/1.jpg" data-size="2736x1550">
&lt;img src="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/1.jpg"
width="2736"
height="1550"
srcset="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/1_huc70d1ace7178234db90a2009528b06e2_362037_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/1_huc70d1ace7178234db90a2009528b06e2_362037_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="SSL证书面板">
&lt;/a>
&lt;figcaption>SSL证书面板&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>zip包文件结构：&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 128;
flex-basis: 308px"
>
&lt;a href="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/2.jpg" data-size="342x266">
&lt;img src="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/2.jpg"
width="342"
height="266"
srcset="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/2_hua5d80ebc9a0a7e639306a0621ea97d51_18720_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/2_hua5d80ebc9a0a7e639306a0621ea97d51_18720_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="zip_struct">
&lt;/a>
&lt;figcaption>zip_struct&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>由于使用Nginx服务器，需要使用的文件全部放在Nginx文件夹下：&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 397;
flex-basis: 954px"
>
&lt;a href="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/3.jpg" data-size="366x92">
&lt;img src="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/3.jpg"
width="366"
height="92"
srcset="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/3_huaec6fc8956754b71ff02d1c9284335d0_10544_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/3_huaec6fc8956754b71ff02d1c9284335d0_10544_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>将这两个文件复制到服务器Nginx安装路径下，我服务器上的安装路径为&lt;code>/etc/nginx&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">root@VM-24-3-ubuntu:/# mv /home/ubuntu/download/1_comfluter.life_bundle.crt /etc/nginx
root@VM-24-3-ubuntu:/# mv /home/ubuntu/download/2_comfluter.life.key /etc/nginx
root@VM-24-3-ubuntu:/# &lt;span class="nb">cd&lt;/span> /etc/nginx
root@VM-24-3-ubuntu:/etc/nginx# ll -s
total &lt;span class="m">80&lt;/span>
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">8&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">21&lt;/span> 10:05 ./
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">115&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">15&lt;/span> 15:50 ../
&lt;span class="m">4&lt;/span> -rw-rw-r-- &lt;span class="m">1&lt;/span> ubuntu ubuntu &lt;span class="m">3921&lt;/span> Nov &lt;span class="m">21&lt;/span> 08:37 1_comfluter.life_bundle.crt
&lt;span class="m">4&lt;/span> -rw-rw-r-- &lt;span class="m">1&lt;/span> ubuntu ubuntu &lt;span class="m">1700&lt;/span> Nov &lt;span class="m">21&lt;/span> 08:37 2_comfluter.life.key
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">15&lt;/span> 16:48 conf.d/
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">1077&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> fastcgi.conf
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">1007&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> fastcgi_params
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">2837&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> koi-utf
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">2223&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> koi-win
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">3957&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> mime.types
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> May &lt;span class="m">26&lt;/span> 01:10 modules-available/
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">15&lt;/span> 15:50 modules-enabled/
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">1512&lt;/span> Nov &lt;span class="m">15&lt;/span> 16:53 nginx.conf
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">180&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> proxy_params
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">636&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> scgi_params
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">15&lt;/span> 16:40 sites-available/
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">15&lt;/span> 16:48 sites-enabled/
&lt;span class="m">4&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> Nov &lt;span class="m">15&lt;/span> 15:50 snippets/
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">664&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> uwsgi_params
&lt;span class="m">4&lt;/span> -rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">3071&lt;/span> Feb &lt;span class="m">4&lt;/span> &lt;span class="m">2019&lt;/span> win-utf
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="编辑nginx服务器配置">编辑Nginx服务器配置&lt;/h2>
&lt;p>更改&lt;code>/etc/nginx/sites-enabled&lt;/code>下服务器配置文件：&lt;/p>
&lt;pre tabindex="0">&lt;code>server {
listen 443 ssl;
#填写绑定证书的域名
server_name comfluter.life;
#证书文件名称
ssl_certificate 1_comfluter.life_bundle.crt;
#私钥文件名称
ssl_certificate_key 2_comfluter.life.key;
ssl_session_timeout 5m;
ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
ssl_prefer_server_ciphers on;
location / {
#网站主页路径。此路径仅供参考，具体请您按照实际目录操作。
#例如，您的网站运行目录在/etc/www下，则填写/etc/www。
root /home/ubuntu/www/Blogs/Personal;
index index.html index.htm;
}
}
server {
listen 80;
#填写绑定证书的域名
server_name comfluter.life;
#把http的域名请求转成https
return 301 https://$host$request_uri;
}
&lt;/code>&lt;/pre>&lt;p>配置中前半部分为https网页服务，后半部分为将http请求重定向至https请求&lt;/p>
&lt;p>验证配置文件：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">root@VM-24-3-ubuntu:/etc/nginx# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf &lt;span class="nb">test&lt;/span> is successful
&lt;/code>&lt;/pre>&lt;/div>&lt;p>重启Nginx服务器：&lt;code>nginx -s reload&lt;/code>&lt;/p>
&lt;h2 id="https访问">https访问！&lt;/h2>
&lt;p>此时输入&lt;code>comfluter.life&lt;/code>访问时即可看到已经是https连接&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 657;
flex-basis: 1577px"
>
&lt;a href="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/4.jpg" data-size="368x56">
&lt;img src="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/4.jpg"
width="368"
height="56"
srcset="https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/4_hud9da19d6fc0e32acb5a778f763005686_6410_480x0_resize_q75_box.jpg 480w, https://comfluter.life/p/%E5%9C%A8nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2ssl%E8%AF%81%E4%B9%A6/4_hud9da19d6fc0e32acb5a778f763005686_6410_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="debugging">Debugging&lt;/h2>
&lt;p>更改成为https连接后博客的搜索功能出现问题，浏览器提示提交的表单不安全并阻止了搜索表单的提交。问题在于没有更改hugo博客配置文件中的&lt;code>baseURL&lt;/code>字段，将其改为&lt;code>baseurl: https://comfluter.life&lt;/code>即可解决。&lt;/p></description></item><item><title>重听《成像世界的奇境》</title><link>https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/</link><pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/</guid><description>&lt;h2 id="211122-锁链">21.11.22 锁链&lt;/h2>
&lt;ul>
&lt;li>香农-奈奎斯特采样定律&lt;/li>
&lt;li>测量：测不准原理
&lt;ul>
&lt;li>高速成像：
&lt;ul>
&lt;li>STEAM：10e-10 second 时间分辨率&lt;/li>
&lt;li>STAMP：10e-12 second&lt;/li>
&lt;li>最先进：10e-15 second 接近电子转移过程的时长！&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="information-in-imaging">information in imaging&lt;/h3>
&lt;ul>
&lt;li>香农：硕士论文：信息学开山
&lt;ul>
&lt;li>做一些无聊的事？还是有自己独特的思考？&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>yes and no question
How many questions (y/n) must you ask to ensure the color of the ball you have?&lt;/p>
&lt;ol>
&lt;li>8 red balls?&lt;/li>
&lt;li>4 red &amp;amp; 2 blue &amp;amp; 1 black &amp;amp; 1 white?&lt;/li>
&lt;li>2 red &amp;amp; 2 blue &amp;amp; 2 black &amp;amp; 2 white?&lt;/li>
&lt;/ol>
&lt;h4 id="香农信息熵">香农信息熵&lt;/h4>
&lt;p>傅里叶变换的信息损失？&lt;/p>
&lt;ul>
&lt;li>取傅里叶变换的过程中，可以有位深&lt;/li>
&lt;li>二维傅里叶变换，可以通过幅度反演相位&lt;/li>
&lt;li>取傅里叶变换再取反变换？相似度有多高？
&lt;ul>
&lt;li>SSMS&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>傅里叶变换过后低频信息密集，高频信息稀疏。&lt;/li>
&lt;/ul>
&lt;p>JPEG压缩：压缩低频信息，让步给高频信息&lt;/p>
&lt;p>Signal Sparsity
图像中不是每一个频率都要进行采样！可以抽出傅里叶变换中影响比较大的信息量。&lt;/p>
&lt;ul>
&lt;li>Compressive sensing
&lt;ul>
&lt;li>通过采样稀疏的键值信号，尽可能好地还原信号&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="211129-law-of-imaging-measurement-and-statistics">21.11.29 Law of Imaging: Measurement and statistics&lt;/h2>
&lt;h3 id="噪声">噪声&lt;/h3>
&lt;h4 id="photon-noise">Photon Noise&lt;/h4>
&lt;p>光子数量越多，相对噪声数量越来越少。&lt;/p>
&lt;p>光子随机到达，符合泊松分布$P(X=k) = \frac{\lambda^k\cdot e^{-\lambda}}{k!}$，误差与光子数量的根号成正比。&lt;/p>
&lt;p>但是，噪声如果与信号产生共振，可以使得信号的阈值降低。&lt;code>Stochastic resonance&lt;/code>&lt;/p>
&lt;p>photons: bunched? antibunched? &amp;ndash;&amp;gt; &lt;strong>bunched!&lt;/strong>. 探测到/不探测到光子的概率符合二项式分布。&lt;/p>
&lt;p>所有基本粒子，按照自旋数区分：&lt;/p>
&lt;ol>
&lt;li>整数自旋：费米子，满足泡利不相容原理，不能同时出现&lt;/li>
&lt;li>$\frac{1}{2}$自旋：玻色子，不满足不相容原理，两离子可以同时出现在同一位置，符合波色-爱因斯坦分布。&lt;/li>
&lt;/ol>
&lt;p>光子，若$hv \leq kT$，则波动性更强，反之粒子性更强。&lt;/p>
&lt;p>&lt;strong>如何使随机光变得更均匀？&lt;/strong>
加一“挡板”，收到光子就短时屏蔽掉后来的光子。&lt;code>Sub-Possion Light&lt;/code>光子噪声更低，测到的相对噪声远低于普通光源。此技术应用于引力波探测，减少激光束的噪声误差。&lt;/p>
&lt;p>&lt;code>DOI: 10.1063/1.881246&lt;/code>&lt;/p>
&lt;h4 id="signal-to-noise-ratio-snr">Signal to Noise Ratio &lt;code>SNR&lt;/code>&lt;/h4>
&lt;p>对于光：$SNR = \frac{N_S}{\sqrt{N_S}}$（不考虑sensor noise）&lt;/p>
&lt;p>光处于粒子态与波动态时的信噪比不同，因此探测量也不同：光：光子个数，波：幅度。&lt;/p>
&lt;h3 id="information-capacity-of-imagers">Information Capacity of Imagers&lt;/h3>
&lt;p>香农定理：$C = \frac{B}{2} \log_2(1+\frac{S}{N})$，对于每个信道。&lt;/p>
&lt;p>空间带宽积：$SBP = \frac{A}{G^2}$&lt;/p>
&lt;p>所以可以推出相机最大成像信息量：$Capacity = \frac{A}{G^2} R \frac{B}{2} \log_2(1+\frac{S}{N})$&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 122;
flex-basis: 294px"
>
&lt;a href="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/1.webp" data-size="941x768">
&lt;img src="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/1.webp"
width="941"
height="768"
srcset="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/1_huff845a9deab670e315861062b94cca69_77664_480x0_resize_q75_h2_box_2.webp 480w, https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/1_huff845a9deab670e315861062b94cca69_77664_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="information-processing-limit">Information Processing Limit&lt;/h3>
&lt;h4 id="information-and-energy">Information and Energy&lt;/h4>
&lt;p>全互联网数据：175ZB。如此大量信息使得人工智能算法算力需求急速发展，数据分析用电量在急速发展。&lt;/p>
&lt;p>但是，摩尔定律的潜能在耗尽，人类发电量的总量也达到瓶颈。&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 119;
flex-basis: 287px"
>
&lt;a href="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/2.webp" data-size="919x768">
&lt;img src="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/2.webp"
width="919"
height="768"
srcset="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/2_hu9dc7bd817cbbd056052bef3db93d718f_66438_480x0_resize_q75_h2_box_2.webp 480w, https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/2_hu9dc7bd817cbbd056052bef3db93d718f_66438_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>Kardashev Scale&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>文明分级：能量的使用能力。&lt;/li>
&lt;/ul>
&lt;h4 id="information-processing">Information Processing&lt;/h4>
&lt;p>Von-Neumann architecture&lt;/p>
&lt;p>储存墙瓶颈：为了存储数据消耗了大量能量，消耗了大量时间。读、取均是。例如识别Cifar10图像时访问能量是计算能量的10倍以上&lt;/p>
&lt;p>由此可以推算出算力能量效率的极限。&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 113;
flex-basis: 271px"
>
&lt;a href="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/3.webp" data-size="870x768">
&lt;img src="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/3.webp"
width="870"
height="768"
srcset="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/3_hu99ed2dcd955eefa5b8b8c3b54d649632_67394_480x0_resize_q75_h2_box_2.webp 480w, https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/3_hu99ed2dcd955eefa5b8b8c3b54d649632_67394_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>512KB 需要 1.8GFLOPS&lt;/p>
&lt;p>Big Data Explosion. 无法应对如此大量的信息。我们必须提升能效。&lt;/p>
&lt;h4 id="ways-to-overcome">Ways to overcome&lt;/h4>
&lt;ol>
&lt;li>器件级存算一体神经网络架构。能量潜力~1000TOPS/W &lt;figure
class="gallery-image"
style="
flex-grow: 121;
flex-basis: 292px"
>
&lt;a href="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/4.webp" data-size="935x768">
&lt;img src="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/4.webp"
width="935"
height="768"
srcset="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/4_hue575c0d42495eb37382aea4c46b6431b_49180_480x0_resize_q75_h2_box_2.webp 480w, https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/4_hue575c0d42495eb37382aea4c46b6431b_49180_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/li>
&lt;li>探索类人眼新形态神经网络结构，充分发挥存算一体器件的优势&lt;/li>
&lt;/ol>
&lt;h3 id="limit-for-computing">Limit for Computing&lt;/h3>
&lt;p>Computing：映射？&lt;/p>
&lt;blockquote>
&lt;p>刘慈欣《三体》：人列计算机？&lt;/p>
&lt;/blockquote>
&lt;p>Turing Computers&lt;/p>
&lt;ul>
&lt;li>input -&amp;gt; compute unit -&amp;gt; output&lt;/li>
&lt;/ul>
&lt;p>Computing unit:&lt;/p>
&lt;ul>
&lt;li>人脑：神经网络：概率&lt;/li>
&lt;li>电脑：冯诺依曼架构：逻辑&lt;/li>
&lt;/ul>
&lt;h4 id="power-consumption">Power Consumption&lt;/h4>
&lt;ul>
&lt;li>input&lt;/li>
&lt;li>output&lt;/li>
&lt;/ul>
&lt;p>Maxwell Demon:信息换能量&lt;/p>
&lt;p>Szilard Engine(1921): Storing or erasing 1 bit of information needs at least $kT \ln 2 $ Joule energy.&lt;/p>
&lt;ul>
&lt;li>Optical Computing
&lt;ul>
&lt;li>Power efficiency could be very low!&lt;/li>
&lt;li>直接操作光子，输入图像输出状态&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Quantum Computing
&lt;ul>
&lt;li>The power efficiency used computing can be negligible.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="noesis">Noesis&lt;/h3>
&lt;p>The chains are made of rubber instead of steel.
Can human beings break the chains and find the way to Noesis?&lt;/p>
&lt;h4 id="question-and-exploration">Question and Exploration&lt;/h4>
&lt;p>Mission of human:&lt;/p>
&lt;ul>
&lt;li>To quest what is known that is unknown.&lt;/li>
&lt;/ul>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 119;
flex-basis: 286px"
>
&lt;a href="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/5.webp" data-size="918x768">
&lt;img src="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/5.webp"
width="918"
height="768"
srcset="https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/5_hu0f8cb17a41cb4513bad2df1adfabea06_54014_480x0_resize_q75_h2_box_2.webp 480w, https://comfluter.life/p/%E9%87%8D%E5%90%AC%E6%88%90%E5%83%8F%E4%B8%96%E7%95%8C%E7%9A%84%E5%A5%87%E5%A2%83/5_hu0f8cb17a41cb4513bad2df1adfabea06_54014_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="智能-intelligence">智能 Intelligence&lt;/h2>
&lt;h3 id="光阴似箭">光阴似箭&lt;/h3>
&lt;p>Time of Arrow&lt;/p>
&lt;ul>
&lt;li>Entropy as time of arrow&lt;/li>
&lt;li>Maxwell Demon&lt;/li>
&lt;li>Infinite monkey theorem
&lt;ul>
&lt;li>As long as it is infinite, anything could be typed.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="gene-epoch">Gene Epoch&lt;/h3>
&lt;p>life as a turing machine: if nature happens a nurture a &amp;ldquo;turing machine&amp;rdquo;, say mRNA&lt;/p>
&lt;p>&lt;strong>Foreseeing&lt;/strong> is of ultimate importance!&lt;/p>
&lt;p>&lt;strong>Correlation&lt;/strong> is the base of seeking advantages and avoiding disadvantages. Base on that, intelligence can bring about &lt;em>reacting scheme&lt;/em>.&lt;/p>
&lt;p>Origin of genes: mRNA and DNA can be now be produced in lab.&lt;/p>
&lt;p>Remembering the causal correlations is the key aspect of wisdom.&lt;/p>
&lt;blockquote>
&lt;p>Memory is the mother of all wisdom.&lt;/p>
&lt;/blockquote>
&lt;p>Memory capacity for lives in dark ages: the capacity of gene of GB quantity.&lt;/p>
&lt;blockquote>
&lt;p>we are surviving machines &amp;ndash; robot vehicles&lt;/p>
&lt;/blockquote>
&lt;p>life is nothing but endless &lt;em>reincarnation&lt;/em> of genes.&lt;/p>
&lt;h3 id="neuron-epoch">Neuron Epoch&lt;/h3>
&lt;p>The advent of eyes &amp;ndash;the mass growth of information obtained. We need more capacity for processing information.&lt;/p>
&lt;p>The advent of brain.&lt;/p>
&lt;p>Neuron in brains: human have on average 86 Billion neurons.&lt;/p>
&lt;p>Neurons:&lt;/p>
&lt;ul>
&lt;li>Dendrites&lt;/li>
&lt;li>axon&lt;/li>
&lt;/ul>
&lt;p>input &amp;ndash;&amp;gt; threshold &amp;ndash;&amp;gt; output&lt;/p>
&lt;p>each neuron has on average 7000 synaptic connections. Thus human has approximately 10^15 connections.&lt;/p>
&lt;p>There are 26 distinguishable synaptic strengths, corresponding to 4.7 bits of information at each connection.&lt;/p>
&lt;p>Thus human neuron network memorizes 10^15 * 4.7 bits of weight.&lt;/p>
&lt;p>The biggest difference between humans are our connections.&lt;/p>
&lt;blockquote>
&lt;p>Connectome&lt;/p>
&lt;/blockquote>
&lt;p>Individual Memory: up tp 200Mb long term memory.&lt;/p>
&lt;p>Life is no longer big robots of genes.&lt;/p>
&lt;p>Every life has its independent surviving tricks, knowledge. We react to the real world in our own way based on our own knowledge.&lt;/p>
&lt;p>Problem: 没则已焉。死亡意味着基因信息的消散。&lt;/p>
&lt;h3 id="language-epoch">Language Epoch&lt;/h3>
&lt;p>language -&amp;gt; Collectiveness -&amp;gt; Society&lt;/p>
&lt;p>Collective culture: Division of labor! It is -&amp;gt; it has&lt;/p>
&lt;p>With languages, knowledge can be accumulated, shared and learnt. &amp;ldquo;Knowledge doubling curve&amp;rdquo;.&lt;/p>
&lt;p>Knowledge wouldn&amp;rsquo;t fade with the death of individual.&lt;/p>
&lt;p>Problem: Human is boomed by knowledges.&lt;/p>
&lt;h3 id="ai-epoch">AI Epoch&lt;/h3>
&lt;p>&amp;ldquo;Can machine thinks?&amp;rdquo; - by turing. 1956 at Dartmouth College in Hanover.&lt;/p>
&lt;p>The curse of dimensionality: the connection quantity needed to deal with the input growth faster than exponential curve. &lt;em>1st winter of AI&lt;/em>&lt;/p>
&lt;p>&lt;em>AI expert system&lt;/em>:&lt;/p>
&lt;p>Vacuum tube to IC circuit.&lt;/p>
&lt;p>Inventing giant magnetoresistance&lt;/p>
&lt;p>&lt;em>Machine learining&lt;/em>&lt;/p>
&lt;p>AI in the future: Singularity?&lt;/p>
&lt;p>Moravec&amp;rsquo;s Paradox:
easy for human, hard for computer, vice visa.&lt;/p>
&lt;h3 id="the-celling-of-intelligence">The celling of intelligence&lt;/h3>
&lt;h4 id="computational-limit">Computational limit&lt;/h4>
&lt;p>Neuron network is implemented ad a software level, based on von-Neumann architecture.&lt;/p>
&lt;p>神经网络架构 vs 冯诺依曼架构&lt;/p>
&lt;p>近数据计算、器件级存算一体。&lt;/p>
&lt;p>Szilard limit&lt;/p>
&lt;p>3.5e8 Tops / W&lt;/p>
&lt;h4 id="can-ai-go-beyond-human">Can AI go beyond human?&lt;/h4>
&lt;p>What fills you with awe?&lt;/p>
&lt;p>metaphor - there is&lt;/p>
&lt;h4 id="is-neuron-network-universal">Is neuron network universal?&lt;/h4>
&lt;p>window function.&lt;/p>
&lt;p>as long as we have enough memory capacity, neuron network can fit any curve.&lt;/p>
&lt;blockquote>
&lt;p>We must know, we will know.&lt;/p>
&lt;/blockquote>
&lt;h4 id="will-human-think-for-as-humans">Will human think for as humans&lt;/h4>
&lt;blockquote>
&lt;p>The rules of morality are not the conclusion of our reason&lt;/p>
&lt;/blockquote>
&lt;p>Science cannot make value judgement! Human have to seriously design AI&amp;rsquo;s morality.&lt;/p>
&lt;p>One thing nearly for sure, that human brain is not the most powerful processor.&lt;/p></description></item><item><title>Hello, World!</title><link>https://comfluter.life/p/hello-world/</link><pubDate>Fri, 19 Nov 2021 00:00:00 +0000</pubDate><guid>https://comfluter.life/p/hello-world/</guid><description>&lt;img src="https://comfluter.life/p/hello-world/cover.jpg" alt="Featured image of post Hello, World!" />&lt;h2 id="序言">序言&lt;/h2>
&lt;p>在经历许许多多的学习、配置、折腾之后，终于在今天配置好了自己的个人博客。&lt;/p>
&lt;p>在朋友圈、微博盛行的当下，个人博客的风头已过，好像已经是上一个时代的产物了。那么究竟又是什么让我在建站的过程中即使遇到了层层困难，也坚定不移地搭起来这个博客呢？&lt;/p>
&lt;p>第一方面，感觉自己还是需要一个记录与对外表达的窗口。朋友圈等等社交网络固然可以，但是于我来讲似乎显得喧闹了些。我期待的表达，不是浮于表面的事件记录与短暂的情感宣泄。静下心来记录自己成长变化、各阶段真实想法与所思所得才是我我之所需。而这些想法，有时又期待能随时随地回顾，或是与志同道合之人分享。因此介于朋友圈、微博等社交平台与传统纸笔日记之间的个人博客似乎是个不错的选择。从半年前看到王凯师兄的博客便觉心动，到现在终于有了属于自己的一方空间。&lt;/p>
&lt;p>此外，也是最近在学习计算机网络的相关课程。从之前分不清HTTP、URL、TCP等等名词之间的关系的状态一步步地了解了网络的各个方面，而因为课程设计原因深感实践不足。云服务器的配置、连接、博客的搭建与部署、域名的申请与域名解析配置等等正好为动手实践课程内容提供了一个极佳的机会。在搭建服务器、部署博客的过程中也确实不断地将课本中抽象的知识落到实处。&lt;/p>
&lt;p>最后，可能也是最近受龄的影响，觉得自己不能再一天天想着GPA就惶惶不可终日。成天担心对成绩的影响而束手束脚，投入了过多不必要的时间在课业的细枝末节上，生怕漏掉一小点就会有多么大的影响。现在我觉得比较好的态度是：应该投入的时间，我保证投入。除此之外，偶然性是必然有的，考试中等等可能出现的意外情况、偏门的微末之处，实在无必要，也无意义为了它们投入大量的时间。投入了，也不能保证最后的结果。与其如此，正如闫锋老师说的，不如让自己真正做点实在的事出来，在实践中学习，在实践中收获，在主动地做事情的过程当中发挥自己心灵的能动性，让自己过得由己、恣肆、多彩一些。&lt;/p>
&lt;p>因此，也希望这个博客在记录我个人所思所想以外，能够带动我走出一天天为了成绩而焦虑的状态之中，真正地敢于放手去做自己喜欢的事，也才真正能做成自己喜欢的事。&lt;/p>
&lt;h2 id="建站小记">建站小记&lt;/h2>
&lt;ul>
&lt;li>21.11.05 购买腾讯云服务器、购买域名&lt;code>comfluter.life&lt;/code>，熟悉linux服务器操作与hugo工具基本使用&lt;/li>
&lt;li>21.11.13 在询问完王凯师兄hugo博客部署方法以后，学习hugo模板使用与博客搭建、github使用、github actions + 云服务器自动部署。但是卡在了最后一步Nginx服务器配置，使得服务器端页面一直显示404。&lt;/li>
&lt;li>21.11.15 由于Nginx服务器的问题，以及之前摸索阶段各种误操作，决定直接重置腾讯云服务器，将服务器端的功能重新搭建。完成服务器基本设置后激活root账户并配置ssh登录信息，重写了github pages，安装Nginx，以root账户运行，配置Nginx。&lt;/li>
&lt;li>21.11.19 由于使用主题时采用了&lt;code>git submodule&lt;/code>的方式，而github同步时不同步submodule导致各种错误，重新使用&lt;code>git clone&lt;/code>方式引入了主题，重新搭建了博客与github repo，并配置github actions。&lt;/li>
&lt;li>21.11.19 解决github actions css无法加载问题，使用&lt;code>git submodule&lt;/code>直接推送到github pages，但发现问题仍然存在。最终确定问题在baseURL上，改好后部署。&lt;/li>
&lt;li>21.11.19 写下这篇hello world文档。&lt;/li>
&lt;/ul>
&lt;p>动手去做一个项目确实是学习的高效方法。通过搭建博客，至少熟悉了以下内容：&lt;/p>
&lt;ol>
&lt;li>云服务器&lt;/li>
&lt;li>Linux命令行&lt;/li>
&lt;li>git命令行操作&lt;/li>
&lt;li>git submodule&lt;/li>
&lt;li>github全流程&lt;/li>
&lt;li>github pages&lt;/li>
&lt;li>github actions&lt;/li>
&lt;li>hugo使用&lt;/li>
&lt;li>域名配置与域名解析&lt;/li>
&lt;li>防火墙配置&lt;/li>
&lt;li>Nginx服务器搭建&lt;/li>
&lt;/ol>
&lt;p>其中许多是以前多次觉得应该去做，而没多久又半途而废的。放弃的理由大概是陷入极多的知识内容而毫无方向，也就失去了学习的意义，但为了一个目标去做，许多事情就顺理成章了。&lt;/p>
&lt;p>希望以后能以更多项目为依托，让自己不断学习、进步。&lt;/p></description></item></channel></rss>